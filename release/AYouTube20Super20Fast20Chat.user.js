// ==UserScript==
// @name                YouTube Super Fast Chat
// @version             0.65.3
// @license             MIT
// @name:ja             YouTube スーパーファーストチャット
// @name:zh-TW          YouTube 超快聊天
// @name:zh-CN          YouTube 超快聊天
// @icon                https://raw.githubusercontent.com/cyfung1031/userscript-supports/main/icons/super-fast-chat.png
// @namespace           UserScript
// @match               https://www.youtube.com/live_chat*
// @match               https://www.youtube.com/live_chat_replay*
// @author              CY Fung
// @run-at              document-start
// @grant               none
// @unwrap
// @allFrames           true
// @inject-into         page
// @require             https://update.greasyfork.org/scripts/475632/1361351/ytConfigHacks.js
//
// @compatible          firefox Violentmonkey
// @compatible          firefox Tampermonkey
// @compatible          firefox FireMonkey
// @compatible          chrome Violentmonkey
// @compatible          chrome Tampermonkey
// @compatible          opera Violentmonkey
// @compatible          opera Tampermonkey
// @compatible          safari Stay
// @compatible          edge Violentmonkey
// @compatible          edge Tampermonkey
// @compatible          brave Violentmonkey
// @compatible          brave Tampermonkey
//
// @description         Ultimate Performance Boost for YouTube Live Chats
// @description:ja      YouTubeのライブチャットの究極のパフォーマンスブースト
// @description:zh-TW   YouTube直播聊天的終極性能提升
// @description:zh-CN   YouTube直播聊天的终极性能提升
//
// @downloadURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/AYouTube20Super20Fast20Chat.user.js
// @updateURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/AYouTube20Super20Fast20Chat.meta.js
// ==/UserScript==
(e=>{"use strict";const t=window.WeakMapOriginal||window.WeakMap,n=!0,o=500,i="72vw";const s="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",{IntersectionObserver:r}=e;let a;try{a=document.createAttributeNS("http://www.w3.org/2000/svg","nil").addEventListener}catch(e){}const l=a;if(!l)return console.warn("pureAddEventListener cannot be obtained.");const c=(async()=>{})().constructor;if(!r)return console.warn("Your browser does not support IntersectionObserver.\nPlease upgrade to the latest version.");if("object"!=typeof WebAssembly)return console.warn("Your browser is too old.\nPlease upgrade to the latest version.");const h="function"==typeof HTMLElement.prototype.append?31:0,d=h?"\n\n    elzm-fonts {\n        visibility: collapse;\n        position: fixed;\n        top: -10px;\n        left: -10px;\n        font-size: 10pt;\n        line-height: 100%;\n        width: 100px;\n        height: 100px;\n        transform: scale(0.1);\n        transform: scale(0.01);\n        transform: scale(0.001);\n        transform-origin: 0 0;\n        contain: strict;\n        display: block;\n\n        pointer-events: none !important;\n        user-select: none !important;\n    }\n\n    elzm-fonts[id]#elzm-fonts-yk75g {\n        user-select: none !important;\n        pointer-events: none !important;\n    }\n\n    elzm-font {\n        visibility: collapse;\n        position: absolute;\n        line-height: 100%;\n        width: 100px;\n        height: 100px;\n        contain: strict;\n        display: block;\n\n        user-select: none !important;\n        pointer-events: none !important;\n    }\n\n    elzm-font::before {\n        visibility: collapse;\n        position: absolute;\n        line-height: 100%;\n        width: 100px;\n        height: 100px;\n        contain: strict;\n        display: block;\n\n        content: '0aZ!@#$~^&*()_-+[]{}|;:><?\\0460\\0301\\0900\\1F00\\0370\\0102\\0100\\28EB2\\28189\\26DA0\\25A9C\\249BB\\23F61\\22E8B\\21927\\21076\\2048E\\1F6F5\\FF37\\F94F\\F0B2\\9F27\\9D9A\\9BEA\\9A6B\\98EC\\9798\\9602\\949D\\9370\\926B\\913A\\8FA9\\8E39\\8CC1\\8B26\\8983\\8804\\8696\\8511\\83BC\\828D\\8115\\7F9A\\7E5B\\7D07\\7B91\\7A2C\\78D2\\776C\\7601\\74AA\\73B9\\7265\\70FE\\6FBC\\6E88\\6D64\\6C3F\\6A9C\\6957\\67FE\\66B3\\6535\\63F2\\628E\\612F\\5FE7\\5E6C\\5CEE\\5B6D\\5A33\\58BC\\575B\\5611\\54BF\\536E\\51D0\\505D\\4F22\\4AD1\\41DB\\3B95\\3572\\2F3F\\26FD\\25A1\\2477\\208D\\1D0A\\1FB\\A1\\A3\\B4\\2CB\\60\\10C\\E22\\A5\\4E08\\B0\\627\\2500\\5E\\201C\\3C\\B7\\23\\26\\3E\\D\\20\\25EE8\\1F235\\FFD7\\FA10\\F92D\\9E8B\\9C3E\\9AE5\\98EB\\971D\\944A\\92BC\\9143\\8F52\\8DC0\\8B2D\\8973\\87E2\\8655\\84B4\\82E8\\814A\\7F77\\7D57\\7BC8\\7A17\\7851\\768C\\7511\\736C\\7166\\6F58\\6D7C\\6B85\\69DD\\6855\\667E\\64D2\\62CF\\6117\\5F6C\\5D9B\\5BBC\\598B\\57B3\\5616\\543F\\528D\\50DD\\4F57\\4093\\3395\\32B5\\31C8\\3028\\2F14\\25E4\\24D1\\2105\\2227\\A8\\2D9\\2CA\\2467\\B1\\2020\\2466\\251C\\266B\\AF\\4E91\\221E\\2464\\2266\\2207\\4E32\\25B3\\2463\\2010\\2103\\3014\\25C7\\24\\25BD\\4E18\\2460\\21D2\\2015\\2193\\4E03\\7E\\25CB\\2191\\25BC\\3D\\500D\\4E01\\25\\30F6\\2605\\266A\\40\\2B\\4E16\\7C\\A9\\4E\\21\\1F1E9\\FEE3\\F0A7\\9F3D\\9DFA\\9C3B\\9A5F\\98C8\\972A\\95B9\\94E7\\9410\\92B7\\914C\\8FE2\\8E2D\\8CAF\\8B5E\\8A02\\8869\\86E4\\8532\\83B4\\82A9\\814D\\7FFA\\7ED7\\7DC4\\7CCC\\7BC3\\7ACA\\797C\\783E\\770F\\760A\\74EF\\73E7\\72DD\\719C\\7005\\6ED8\\6DC3\\6CB2\\6A01\\68E1\\6792\\663A\\64F8\\63BC\\623B\\60FA\\5FD1\\5EA3\\5D32\\5BF5\\5AB2\\5981\\5831\\570A\\5605\\5519\\53FB\\52A2\\5110\\4FE3\\4EB8\\3127\\279C\\2650\\254B\\23E9\\207B\\1D34\\2AE\\176\\221A\\161\\200B\\300C\\4E4C\\1F921\\FF78\\FA0A\\F78A\\9EB9\\9D34\\9BD3\\9A6F\\9912\\97C6\\964E\\950C\\93E4\\92E5\\91F0\\90BB\\8F68\\8E18\\8B6C\\89F6\\889B\\874C\\8602\\84B1\\8378\\826E\\8113\\7FB1\\7EAF\\7D89\\7C20\\7AFB\\7988\\7840\\7705\\75CC\\749A\\73B3\\727F\\7113\\6FE8\\6ED6\\6DD3\\6CDA\\6BBB\\6A31\\6900\\67D9\\66A7\\655D\\6427\\630D\\61C6\\60AC\\5F78\\5E34\\5CE0\\5B80\\5A51\\590B\\57A1\\566F\\5551\\543D\\52DB\\518F\\5032\\3A17\\305C\\2749\\264A\\2567\\2476\\2139\\1EC0\\11AF\\2C8\\1AF\\E17\\2190\\2022\\2502\\2312\\2025\\50';\n\n        user-select: none !important;\n        pointer-events: none !important;\n    }\n\n  ":"",u=i?`\n\n\n    tp-yt-paper-tooltip[role="tooltip"] {\n      box-sizing: content-box !important;\n      margin: 0px !important;\n      padding: 0px !important;\n      contain: none !important;\n    }\n\n    tp-yt-paper-tooltip[role="tooltip"] #tooltip[style-target="tooltip"] {\n      box-sizing: content-box !important;\n      display: inline-block;\n      contain: none !important;\n    }\n\n\n    tp-yt-paper-tooltip[role="tooltip"] #tooltip[style-target="tooltip"]{\n      max-width: ${i};\n      width: max-content;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n\n  `:"",p={nil:Symbol(),logs:[],style:"",log(...e){p.logs.push({type:"log",msg:[p.tag||p.nil,...e,p.style||p.nil].filter((e=>e!==p.nil))})},setTag(e){p.tag=e},setStyle(e){p.style=e},groupCollapsed(...e){p.logs.push({type:"groupCollapsed",msg:[...e].filter((e=>e!==p.nil))})},groupEnd(){p.logs.push({type:"groupEnd"})},print(){const e=p.logs.slice(0);p.logs.length=0;for(const{type:t,msg:n}of e)"log"===t?console.log(...n):"groupCollapsed"===t?console.groupCollapsed(...n):"groupEnd"===t&&console.groupEnd()}},m="undefined"!=typeof unsafeWindow?unsafeWindow:this instanceof Window?this:window,f="mchbwnoasqph";if(m[f])throw new Error("Duplicated Userscript Calling");m[f]=!0;let _="";const y=e=>{for(const t in e)if(e.hasOwnProperty(t)&&"object"==typeof e[t])return t;return null};class g extends Set{constructor(e){super(),this.limit=e}add(e){if(!super.has(e)){super.add(e);let t=super.size-this.limit;if(t>0){const e=super.values();do{const t=e.next().value;super.delete(t)}while(--t>0)}}}removeAdd(e){super.delete(e),this.add(e)}}class w extends Map{constructor(e){super(),this.limit=e}set(e,t){if(!super.has(e)){super.set(e,t);let n=super.size-this.limit;if(n>0){const e=super.keys();do{const t=e.next().value;super.delete(t)}while(--n>0)}}}removeSet(e,t){super.delete(e),this.set(e,t)}}function v(e,t){if(t=t||[],!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map((e=>v(e,t)));const n={};for(let o in e)t.includes(o)||(n[o]=v(e[o],t));return n}class C{constructor(){this.p=c.resolve()}lockWith(e){this.p=this.p.then((()=>new c(e).catch(console.warn)))}}const b=((e,t)=>{const n=(n,o)=>{e=n,t=o};return class extends c{constructor(o=n){super(o),o===n&&(this.resolve=e,this.reject=t)}}})(),E=(()=>{let e=c.resolve();return t=>new c(((n,o)=>{e=e.then((async()=>{let e;try{e=await t()}catch(e){console.log("error_F1",e),o(e)}n(e)})).catch(console.warn)}))})();let A=null,S=null,T=c.resolve(),k=null,I=null,M=null;const x=e=>e?e.polymerController||e.inst||e||0:e||0,R=e=>x(e).$||e.$||0,F=e=>{if(e){return x(e).constructor.prototype||null}return null},D=e=>e()||console.assert(!1,e+""),O=(e,t)=>{if(!e||"function"!=typeof e)return void console.warn("f is not a function",e);let n=`${e}`,o=0,i=-1,s=0;for(let e=0,t=n.length;e<t;e++){const t=n[e];t>="a"&&t<="z"||t>="A"&&t<="Z"?(i<e-1&&s++,i=e):o++}let r=`${e.length}.${o}.${s}`;return t?r===t||(console.warn("fnIntegrity=false",r),!1):r};(()=>{const e=e=>{e&&(e.kevlar_should_maintain_stable_list=!0,e.kevlar_tuner_should_test_reuse_components=!0,e.kevlar_tuner_should_reuse_components=!0,e.enable_shadydom_free_scoped_node_methods=!1,e.enable_shadydom_free_scoped_query_methods=!1,e.enable_shadydom_free_scoped_readonly_properties_batch_one=!1,e.enable_shadydom_free_parent_node=!1,e.enable_shadydom_free_children=!1,e.enable_shadydom_free_last_child=!1)},t=t=>{if(t=t||(()=>{try{return ytcfg.data_}catch(e){}return null})()){const{EXPERIMENT_FLAGS:n,EXPERIMENTS_FORCED_FLAGS:o}=t;n&&(e(n),o&&e(o))}};window._ytConfigHacks.add((e=>{t(e)})),t()})();{let e=new MutationObserver((()=>{if(!e)return;let t=document.head;if(!t)return;e.disconnect(),e.takeRecords(),e=null;let n=document.createElement("meta");n.setAttribute("name","google"),n.setAttribute("content","notranslate"),t.appendChild(n)}));e.observe(document,{subtree:!0,childList:!0})}console.assert(!0);CSS.supports("contain","layout paint style")||console.warn("Your browser does not support css property 'contain'.\nPlease upgrade to the latest version.".trim());const B=CSS.supports("overflow-anchor","auto");B||console.warn("Your browser does not support css property 'overflow-anchor'.\nPlease upgrade to the latest version.".trim());const P=B&&n;let L=null;const N=(e,t)=>{let n=null;try{n=Object.getOwnPropertyDescriptor(e,t).get}catch(e){}return"function"==typeof n?e=>{try{return n.call(e)}catch(e){}return e[t]}:e=>e[t]},q=N(Node.prototype,"parentNode"),H=N(HTMLElement.prototype,"previousElementSibling"),$=N(HTMLElement.prototype,"nextElementSibling"),G=N(HTMLElement.prototype,"lastElementChild"),z=(e,t)=>{console.groupCollapsed(`%c${e}%c${t}`,"background-color: #010502; color: #6acafe; font-weight: 700; padding: 2px;","background-color: #010502; color: #6ad9fe; font-weight: 300; padding: 2px;")},K="ytI-ce-registry-created",U=new c((e=>{if("undefined"==typeof customElements){"__CE_registry"in document||Object.defineProperty(document,"__CE_registry",{get(){},set(e){return"object"==typeof e&&(delete this.__CE_registry,this.__CE_registry=e,this.dispatchEvent(new CustomEvent(K))),!0},enumerable:!1,configurable:!0});let t=n=>{document.removeEventListener(K,t,!1);const o=e;e=null,t=null,o()};document.addEventListener(K,t,!1)}else e()})),W="undefined"!=typeof ResizeObserver?e=>new c((t=>{let n=new ResizeObserver((e=>{e&&e.length>=1&&(t(),n.disconnect(),n=null)}));n.observe(e)})):e=>new c((t=>{let n=new r((e=>{e&&e.length>=1&&(t(),n.disconnect(),n=null)}));n.observe(e)})),j="function"==typeof WeakRef?e=>e?new WeakRef(e):null:e=>e||null,Y=e=>e&&e.deref?e.deref():e,X=()=>c.all([customElements.whenDefined("yt-live-chat-app"),customElements.whenDefined("yt-live-chat-renderer")]).then((async()=>{const e="yt-live-chat-renderer";let t=document.querySelector(e);if(!t){let n=null;const o=document.querySelector("yt-live-chat-app")||document.createElement("yt-live-chat-app"),i=F(o);t=await new c((t=>{"function"!=typeof i.createComponent_||i.createComponent99_?(n=new MutationObserver((()=>{const n=document.querySelector(e);n&&t(n)})),n.observe(document,{subtree:!0,childList:!0})):(i.createComponent99_=i.createComponent_,i.createComponent98_=function(e,n,o){const i=this.createComponent99_.apply(this,arguments);return"yt-live-chat-renderer"===e&&t(i),i},i.createComponent_=i.createComponent98_)})),n&&(n.disconnect(),n.takeRecords(),n=null),i.createComponent99_&&i.createComponent_&&i.createComponent98_===i.createComponent_&&(i.createComponent_=i.createComponent99_,i.createComponent99_=null,i.createComponent98_=null)}return t})),{addCssManaged:V}=(()=>{const e=()=>{z("YouTube Super Fast Chat"," | Fonts Pre-Rendering");let e=document.createElement("elzm-fonts");e.id="elzm-fonts-yk75g";const t=[];let n=document.createElement("elzm-font");if(t.push(n),1&h)for(const e of[100,200,300,400,500,600,700,800,900])n=document.createElement("elzm-font"),n.style.fontWeight=e,t.push(n);if(2&h)for(const e of[100,200,300,400,500,600,700,800,900])n=document.createElement("elzm-font"),n.style.fontFamily="Roboto",n.style.fontWeight=e,t.push(n);if(4&h)for(const e of[100,200,300,400,500,600,700,800,900])n=document.createElement("elzm-font"),n.style.fontFamily='"YouTube Noto",Roboto,Arial,Helvetica,sans-serif',n.style.fontWeight=e,t.push(n);if(8&h)for(const e of[100,200,300,400,500,600,700,800,900])n=document.createElement("elzm-font"),n.style.fontFamily='"Noto",Roboto,Arial,Helvetica,sans-serif',n.style.fontWeight=e,t.push(n);if(16&h)for(const e of[100,200,300,400,500,600,700,800,900])n=document.createElement("elzm-font"),n.style.fontFamily="sans-serif",n.style.fontWeight=e,t.push(n);console.log("number of elzm-font elements",t.length),HTMLElement.prototype.append.apply(e,t),(document.body||document.documentElement).appendChild(e),console.log("elzm-font elements have been added to the page for rendering."),console.groupEnd()};let t=!1;return{addCssManaged:()=>{!t&&document.documentElement&&document.head&&(t=!0,document.head.appendChild(function(){let e=document.createElement("style");return e.id="ewRvC",e}()).textContent=`\n\n    @property --ticker-rtime {\n      syntax: "<percentage>";\n      inherits: false;\n      initial-value: 0%;\n    }\n\n    /*\n    .run-ticker {\n      background:linear-gradient(90deg, var(--ticker-c1),var(--ticker-c1) var(--ticker-rtime),var(--ticker-c2) var(--ticker-rtime),var(--ticker-c2));\n    }\n\n    .run-ticker-test {\n      background: #00000001;\n    }\n\n    .run-ticker-forced,\n    yt-live-chat-ticker-renderer #items > * > #container.run-ticker-forced,\n    yt-live-chat-ticker-renderer[class] #items[class] > *[class] > #container.run-ticker-forced[class]\n    {\n      background:linear-gradient(90deg, var(--ticker-c1),var(--ticker-c1) var(--ticker-rtime),var(--ticker-c2) var(--ticker-rtime),var(--ticker-c2)) !important;\n    }\n    */\n\n    .run-ticker {\n      --ticker-bg:linear-gradient(90deg, var(--ticker-c1),var(--ticker-c1) var(--ticker-rtime),var(--ticker-c2) var(--ticker-rtime),var(--ticker-c2));\n    }\n\n    .run-ticker,\n    yt-live-chat-ticker-renderer #items > * > #container.run-ticker,\n    yt-live-chat-ticker-renderer[class] #items[class] > *[class] > #container.run-ticker[class]\n    {\n      background: var(--ticker-bg) !important;\n    }\n\n    yt-live-chat-ticker-dummy777-item-renderer {\n      background: #00000001;\n    }\n\n    yt-live-chat-ticker-dummy777-item-renderer[dummy777] {\n      position: fixed !important;\n      top: -1000px !important;\n      left: -1000px !important;\n      font-size: 1px !important;\n      color: transparent !important;\n      pointer-events: none !important;\n      z-index: -1 !important;\n      contain: strict !important;\n      box-sizing: border-box !important;\n      pointer-events: none !important;\n      user-select: none !important;\n      max-width: 1px !important;\n      max-height: 1px !important;\n      overflow: hidden !important;\n      visibility: collapse !important;\n      display: none !important;\n    }\n\n    yt-live-chat-ticker-dummy777-item-renderer #container {\n      background: inherit;\n    }\n\n\n    ${d}\n\n    \n    tp-yt-iron-dropdown.yt-live-chat-app ytd-menu-popup-renderer  {\n        -webkit-backdrop-filter: none;\n        backdrop-filter: none;\n    }\n  \n\n    @supports (contain: layout paint style) {\n\n      \n\n    /* ------------------------------------------------------------------------------------------------------------- */\n\n    yt-live-chat-author-chip #chat-badges.yt-live-chat-author-chip, yt-live-chat-author-chip #chat-badges.yt-live-chat-author-chip yt-live-chat-author-badge-renderer, yt-live-chat-author-chip #chat-badges.yt-live-chat-author-chip yt-live-chat-author-badge-renderer #image, yt-live-chat-author-chip #chat-badges.yt-live-chat-author-chip yt-live-chat-author-badge-renderer #image img {\n        contain: layout style;\n    }\n\n    #items.style-scope.yt-live-chat-item-list-renderer {\n        contain: layout paint style;\n    }\n\n    #item-offset.style-scope.yt-live-chat-item-list-renderer {\n        contain: style;\n    }\n\n    #item-scroller.style-scope.yt-live-chat-item-list-renderer {\n        contain: size style;\n    }\n\n    #contents.style-scope.yt-live-chat-item-list-renderer, #chat.style-scope.yt-live-chat-renderer, img.style-scope.yt-img-shadow[width][height] {\n        contain: size layout paint style;\n    }\n\n    .style-scope.yt-live-chat-ticker-renderer[role="button"][aria-label], .style-scope.yt-live-chat-ticker-renderer[role="button"][aria-label] > #container {\n        contain: layout paint style;\n    }\n\n    yt-live-chat-text-message-renderer.style-scope.yt-live-chat-item-list-renderer, yt-live-chat-membership-item-renderer.style-scope.yt-live-chat-item-list-renderer, yt-live-chat-paid-message-renderer.style-scope.yt-live-chat-item-list-renderer, yt-live-chat-banner-manager.style-scope.yt-live-chat-item-list-renderer {\n        contain: layout style;\n    }\n\n    tp-yt-paper-tooltip[style*="inset"][role="tooltip"] {\n        contain: layout paint style;\n    }\n\n    /* ------------------------------------------------------------------------------------------------------------- */\n\n  \n\n    }\n\n    @supports (color: var(--general)) {\n\n      html {\n          --yt-live-chat-item-list-renderer-padding: 0px 0px;\n      }\n\n      \n\n    #item-offset.style-scope.yt-live-chat-item-list-renderer > #items.style-scope.yt-live-chat-item-list-renderer {\n        position: static !important;\n    }\n\n  \n\n      \n\n    /* remove YouTube constant will-change */\n    /* constant value will slow down the performance; default auto */\n\n    /* www-player.css */\n    html .ytp-contextmenu,\n    html .ytp-settings-menu {\n        will-change: unset;\n    }\n\n    /* frequently matched elements */\n    html .fill.yt-interaction,\n    html .stroke.yt-interaction,\n    html .yt-spec-touch-feedback-shape__fill,\n    html .yt-spec-touch-feedback-shape__stroke {\n        will-change: unset;\n    }\n\n    /* live_chat_polymer.js */\n    /*\n    html .toggle-button.tp-yt-paper-toggle-button,\n    html #primaryProgress.tp-yt-paper-progress,\n    html #secondaryProgress.tp-yt-paper-progress,\n    html #onRadio.tp-yt-paper-radio-button,\n    html .fill.yt-interaction,\n    html .stroke.yt-interaction,\n    html .yt-spec-touch-feedback-shape__fill,\n    html .yt-spec-touch-feedback-shape__stroke {\n        will-change: unset;\n    }\n    */\n\n    /* desktop_polymer_enable_wil_icons.js */\n    /* html .fill.yt-interaction,\n    html .stroke.yt-interaction, */\n    html tp-yt-app-header::before,\n    html tp-yt-iron-list,\n    html #items.tp-yt-iron-list > *,\n    html #onRadio.tp-yt-paper-radio-button,\n    html .toggle-button.tp-yt-paper-toggle-button,\n    html ytd-thumbnail-overlay-toggle-button-renderer[use-expandable-tooltip] #label.ytd-thumbnail-overlay-toggle-button-renderer,\n    html #items.ytd-post-multi-image-renderer,\n    html #items.ytd-horizontal-card-list-renderer,\n    html #items.yt-horizontal-list-renderer,\n    html #left-arrow.yt-horizontal-list-renderer,\n    html #right-arrow.yt-horizontal-list-renderer,\n    html #items.ytd-video-description-infocards-section-renderer,\n    html #items.ytd-video-description-music-section-renderer,\n    html #chips.ytd-feed-filter-chip-bar-renderer,\n    html #chips.yt-chip-cloud-renderer,\n    html #items.ytd-merch-shelf-renderer,\n    html #items.ytd-product-details-image-carousel-renderer,\n    html ytd-video-preview,\n    html #player-container.ytd-video-preview,\n    html #primaryProgress.tp-yt-paper-progress,\n    html #secondaryProgress.tp-yt-paper-progress,\n    html ytd-miniplayer[enabled] /* ,\n    html .yt-spec-touch-feedback-shape__fill,\n    html .yt-spec-touch-feedback-shape__stroke */ {\n        will-change: unset;\n    }\n\n    /* other */\n    .ytp-videowall-still-info-content[class],\n    .ytp-suggestion-image[class] {\n        will-change: unset !important;\n    }\n\n  \n\n      \n\n    img,\n    yt-img-shadow[height][width],\n    yt-img-shadow {\n        content-visibility: visible !important;\n    }\n\n  \n\n      yt-live-chat-item-list-renderer:not([allow-scroll]) #item-scroller.yt-live-chat-item-list-renderer {\n          overflow-y: scroll;\n          padding-right: 0;\n      }\n\n      \n\n    /* optional */\n    #item-offset.style-scope.yt-live-chat-item-list-renderer {\n        height: auto !important;\n        min-height: unset !important;\n    }\n\n    #items.style-scope.yt-live-chat-item-list-renderer {\n        transform: translateY(0px) !important;\n    }\n\n    /* optional */\n\n  \n\n      yt-icon[icon="down_arrow"] > *, yt-icon-button#show-more > * {\n          pointer-events: none !important;\n      }\n\n      #continuations, #continuations * {\n          contain: strict;\n          position: fixed;\n          top: 2px;\n          height: 1px;\n          width: 2px;\n          height: 1px;\n          visibility: collapse;\n      }\n\n      \n\n    yt-live-chat-renderer[has-action-panel-renderer] #show-more.yt-live-chat-item-list-renderer{\n        top: 4px;\n        transition-property: top;\n        bottom: unset;\n    }\n\n    yt-live-chat-renderer[has-action-panel-renderer] #show-more.yt-live-chat-item-list-renderer[disabled]{\n        top: -42px;\n    }\n\n  \n\n      \n\n    html #panel-pages.yt-live-chat-renderer > #input-panel.yt-live-chat-renderer:not(:empty) {\n        --yt-live-chat-action-panel-top-border: none;\n    }\n\n    html #panel-pages.yt-live-chat-renderer > #input-panel.yt-live-chat-renderer.iron-selected > *:first-child {\n        border-top: 1px solid var(--yt-live-chat-panel-pages-border-color);\n    }\n\n    html #panel-pages.yt-live-chat-renderer {\n        border-top: 0;\n        border-bottom: 0;\n    }\n\n  \n\n      \n\n    #input-panel #picker-buttons yt-live-chat-icon-toggle-button-renderer#product-picker {\n        contain: layout style;\n    }\n\n    #chat.yt-live-chat-renderer ~ #panel-pages.yt-live-chat-renderer {\n        overflow: visible;\n    }\n\n  \n\n    }\n\n\n    @supports (overflow-anchor: auto) {\n\n      .no-anchor * {\n          overflow-anchor: none;\n      }\n      .no-anchor > item-anchor {\n          overflow-anchor: auto;\n      }\n\n      item-anchor {\n\n          height:1px;\n          width: 100%;\n          transform: scaleY(0.00001);\n          transform-origin:0 0;\n          contain: strict;\n          opacity:0;\n          display:flex;\n          position:relative;\n          flex-shrink:0;\n          flex-grow:0;\n          margin-bottom:0;\n          overflow:hidden;\n          box-sizing:border-box;\n          visibility: visible;\n          content-visibility: visible;\n          contain-intrinsic-size: auto 1px;\n          pointer-events:none !important;\n\n      }\n\n      #item-scroller.style-scope.yt-live-chat-item-list-renderer[class] {\n          overflow-anchor: initial !important; /* whenever ENABLE_OVERFLOW_ANCHOR or not */\n      }\n\n      html item-anchor {\n\n          height: 1px;\n          width: 1px;\n          top: auto;\n          left: auto;\n          right: auto;\n          bottom: auto;\n          transform: translateY(-1px);\n          position: absolute;\n          z-index: -1;\n\n      }\n\n    }\n\n    @supports (color: var(--pre-rendering)) {\n\n      @keyframes dontRenderAnimation {\n          0% {\n              background-position-x: 3px;\n          }\n          100% {\n              background-position-x: 4px;\n          }\n      }\n\n      .dont-render[class] {\n          /* visibility: collapse !important; */\n          /* visibility: collapse will make innerText become "" which conflicts with BetterStreamChat; see https://greasyfork.org/scripts/469878/discussions/197267 */\n\n          transform: scale(0.01) !important;\n          transform: scale(0.00001) !important;\n          transform: scale(0.0000001) !important;\n          transform-origin: 0 0 !important;\n          z-index: -1 !important;\n          contain: strict !important;\n          box-sizing: border-box !important;\n\n          height: 1px !important;\n          height: 0.1px !important;\n          height: 0.01px !important;\n          height: 0.0001px !important;\n          height: 0.000001px !important;\n\n          animation: dontRenderAnimation 1ms linear 80ms 1 normal forwards !important;\n\n          pointer-events: none !important;\n          user-select: none !important;\n\n      }\n\n      #sk35z {\n        display: block !important;\n\n        visibility: collapse !important;\n\n        transform: scale(0.01) !important;\n        transform: scale(0.00001) !important;\n        transform: scale(0.0000001) !important;\n        transform-origin: 0 0 !important;\n        z-index: -1 !important;\n        contain: strict !important;\n        box-sizing: border-box !important;\n\n        height: 1px !important;\n        height: 0.1px !important;\n        height: 0.01px !important;\n        height: 0.0001px !important;\n        height: 0.000001px !important;\n\n        position: absolute !important;\n        top: -1000px !important;\n        left: -1000px !important;\n\n      }\n\n    }\n\n    [rNgzQ] {\n      opacity: 0 !important;\n      pointer-events: none !important;\n    }\n\n\n    \n\n    @keyframes blinker-miuzp {\n        0%, 60%, 100% {\n            opacity: 1;\n        }\n        30% {\n            opacity: 0.6;\n        }\n    }\n\n    yt-icon-button#show-more.has-new-messages-miuzp {\n        animation: blinker-miuzp 1.74s linear infinite;\n    }\n\n  \n\n    \n\n    yt-live-chat-paid-message-renderer.yt-live-chat-item-list-renderer[whole-message-clickable] #menu.style-scope[class] {\n      pointer-events: none !important;\n    }\n\n    yt-live-chat-membership-item-renderer.yt-live-chat-item-list-renderer[whole-message-clickable] #menu.style-scope[class] {\n      pointer-events: none !important;\n    }\n\n    yt-live-chat-paid-sticker-renderer.yt-live-chat-item-list-renderer[whole-message-clickable] #menu.style-scope[class] {\n      pointer-events: none !important;\n    }\n\n    yt-live-chat-text-message-renderer.yt-live-chat-item-list-renderer[whole-message-clickable] #menu.style-scope[class] {\n      pointer-events: none !important; /* TO_BE_REVIEWED */\n    }\n\n    yt-live-chat-auto-mod-message-renderer.yt-live-chat-item-list-renderer[whole-message-clickable] #menu.style-scope[class] {\n      pointer-events: none !important;\n    }\n\n  \n\n    ${u}\n\n    \n    [menu-visible] {\n      --sfc47-text-select: none;\n    }\n    [menu-visible] #header[id][class],\n    [menu-visible] #content[id][class],\n    [menu-visible] #header[id][class] *,\n    [menu-visible] #content[id][class] * {\n      user-select: var(--sfc47-text-select) !important;\n    }\n    [menu-visible] #menu {\n      --sfc47-text-select: inherit;\n    }\n  \n\n    \n  yt-live-chat-header-renderer.yt-live-chat-renderer #label.yt-dropdown-menu::before {\n    border:0;\n  }\n  \n\n    \n    .style-scope.yt-live-chat-ticker-renderer #animation-container[id][class] {\n      position: relative;\n      display: grid;\n      grid-auto-columns: 1fr;\n      grid-auto-rows: 1fr;\n      grid-template-columns: repeat(1, 1fr);\n      gap: 7px;\n      padding-bottom: 0;\n      margin-bottom: 0;\n      padding-top: 0;\n      align-self: flex-start;\n      flex-wrap: nowrap;\n      margin-top: 1px;\n  }\n\n  .style-scope.yt-live-chat-ticker-renderer #animation-container > [id][class] {\n      margin-top: 0px;\n      margin-bottom: 0px;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      align-items: center;\n      justify-content: flex-start;\n  }\n\n  .style-scope.yt-live-chat-ticker-renderer #animation-container > [id][class]:first-child::after {\n      content: '補';\n      visibility: collapse;\n      display: inline-block;\n      position: relative;\n      width: 0;\n      line-height: 22px;\n  }\n\n  \n\n    \n    #card  #author-name-chip > yt-live-chat-author-chip[single-line] {\n        flex-wrap: nowrap;\n        white-space: nowrap;\n        display: inline-flex;\n        flex-direction: row;\n        text-wrap: nowrap;\n        flex-shrink: 0;\n        align-items: center;\n    }\n\n    #card  #author-name-chip {\n        display: inline-flex;\n        flex-direction: row;\n        align-items: flex-start;\n    }\n  \n\n    \n    yt-live-chat-banner-manager#live-chat-banner.style-scope.yt-live-chat-item-list-renderer {\n      max-width: 100%;\n      box-sizing: border-box;\n    }\n  \n\n    \n    #reaction-control-panel-overlay[class] {\n      contain: strict;\n      margin: 0;\n      padding: 0;\n      border: 0;\n      box-sizing: border-box;\n      will-change: initial;\n    }\n    #reaction-control-panel-overlay[class] *[class] {\n      will-change: initial;\n    }\n  \n\n  `,h&&c.resolve().then(e))}}})(),{setupStyle:J}=(()=>{const e=Symbol();return{setupStyle:(t,n)=>{const o={transform:"",height:"",minHeight:"",paddingBottom:"",paddingTop:""},i=t=>function(){return this[e][t](...arguments)};for(const e of["toString","getPropertyPriority","getPropertyValue","item","removeProperty","setProperty"])o[e]=i(e);const s=(r=o,{get:(t,n)=>n in r?r[n]:n===e?t:t[n],set:(e,t,n)=>(t in r||(e[t]=n),!0),has:(e,t)=>t in e,deleteProperty:(e,t)=>!0,ownKeys:e=>Object.keys(e),defineProperty:(e,t,n)=>Object.defineProperty(e,t,n),getOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t)});var r;const a=new Proxy(t.style,s),l=new Proxy(n.style,s);Object.defineProperty(t,"style",{get:()=>a,set(){},enumerable:!0,configurable:!0}),Object.defineProperty(n,"style",{get:()=>l,set(){},enumerable:!0,configurable:!0}),t.removeAttribute("style"),n.removeAttribute("style")}}})();function Q(e){const{baseObject:t,thumbnails:n,flag0:o,imageLinks:i}=e;if((o||i)&&n&&n.length>0)if(o>0&&n.length>1){let e=0,s=[];for(const t of n){if(!t||!t.url)continue;const n=t.width===t.height&&"number"==typeof t.width,r=e<=0||(1===o?e>t.width:e<t.width),a=!n||t.width>=48;n&&!r||!a||(s.push(t),i&&i.add(t.url)),n&&r&&a&&(e=t.width)}n.length!==s.length&&n===t.thumbnails&&s.length>0?t.thumbnails=s:s.length=0,s=null}else for(const e of n)e&&e.url&&i&&i.add(e.url)}function Z(e,t){const n=(e||0).liveChatTextMessageRenderer||0;if(n){const e=(n.message||0).runs||0;if(e&&e.length>0)for(const n of e){const e=((n||0).emoji||0).image||0;Q({baseObject:e,thumbnails:e.thumbnails,flag0:1,imageLinks:t})}const o=n.authorPhoto||0;Q({baseObject:o,thumbnails:o.thumbnails,flag0:1,imageLinks:t})}}let ee=null;const te=new g(512),ne=new g(68);function oe(e,t,n,o){return new c((i=>{e||(e=document.createElement("link")),e.rel=t,o&&e.setAttribute("as",o),e.onload=function(){i({link:this,success:!0}),this.remove()},e.onerror=function(){i({link:this,success:!1}),this.remove()},e.href=n,document.head.appendChild(e),e=null}))}let ie=null;window.addEventListener("message",(e=>{"xoIcj"===(e||0).data&&null!==ie&&ie.resolve()}));(async e=>{const t=requestAnimationFrame;try{let n=16;const o="vanillajs-iframe-v1";let i=document.getElementById(o),s=null;if(!i){i=document.createElement("iframe"),i.id=o;const r="function"==typeof webkitCancelAnimationFrame&&"undefined"==typeof kagi?i.src=URL.createObjectURL(new Blob([],{type:"text/html"})):null;i.sandbox="allow-same-origin";let a=document.createElement("noscript");for(a.appendChild(i);!document.documentElement&&n-- >0;)await new c(t);document.documentElement.appendChild(a),r&&c.resolve().then((()=>URL.revokeObjectURL(r))),s=t=>{const n=o=>{o&&e.removeEventListener("DOMContentLoaded",n,!1),o=a,a=e=s=0,t?t((()=>o.remove()),200):o.remove()};t&&"loading"===document.readyState?e.addEventListener("DOMContentLoaded",n,!1):n()}}for(;!i.contentWindow&&n-- >0;)await new c(t);const r=i.contentWindow;if(!r)throw"window is not found.";try{const{requestAnimationFrame:t,setTimeout:n,cancelAnimationFrame:o,setInterval:i,clearInterval:a,getComputedStyle:l}=r,h={requestAnimationFrame:t,setTimeout:n,cancelAnimationFrame:o,setInterval:i,clearInterval:a,getComputedStyle:l};for(let t in h)h[t]=h[t].bind(e);s&&c.resolve(h.setTimeout).then(s);const d=r.HTMLElement.prototype,u=r.EventTarget.prototype;return{...h,animate:d.animate,addEventListener:u.addEventListener,removeEventListener:u.removeEventListener}}catch(e){return s&&s(),null}}catch(e){return console.warn(e),null}})(m).then((e=>{if(!e)return null;const{requestAnimationFrame:n,setTimeout:i,cancelAnimationFrame:a,setInterval:h,clearInterval:d,animate:u,getComputedStyle:p,addEventListener:f,removeEventListener:g}=e,B=new t,N=e=>{let t=B.get(e);return t||(t=p(e),B.set(e,t)),t},K=(()=>{try{const e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}})(),Q=(()=>{if(K)return null;const e=Object.getOwnPropertyDescriptor(Document.prototype,"visibilityState");if(!e||"function"!=typeof e.get)return null;const t=e.get;let n=null,o="hidden"===t.call(document);return l.call(document,"visibilitychange",(e=>{const i="hidden"===t.call(document);o!==i&&(o=i,!o&&n&&(n=n.resolve()))})),()=>{if(n)return n;const e=(!o&&i((()=>{o||n!==e||(n=n.resolve())})),n=new b);return e}})();let se=null;const re=()=>se||(se=new c((e=>{n((t=>{se=null,e(t)}))}))),ae=Q||re,le=Q||(void 0===r?re:(()=>{const e=new t,n=Symbol(),o=(e,t)=>{const o=t[n],i=o.resolve;let s;i&&(s=((e?e[0]:0)||0).target)instanceof Element&&(o.resolve=null,t.unobserve(s),i())};return t=>{let i=e.get(t);i||(i=new r(o),e.set(t,i));let s=i[n];return s||(s=i[n]=new b,i.observe(t)),s}})());let ce=null,he=null,de=null,ue=0,pe=!1,me=!1,fe=0,_e=null,ye=null;const ge=new t;let we=Date.now()-2e3;const ve=()=>Date.now()-we;let Ce=0,be=0,Ee=0,Ae=!1,Se=0,Te=0,ke=!1,Ie=0,Me=null,xe=!0,Re=null,Fe=!0;class De{constructor(){this.startAt=8170,this.counter=0,this.rid=0,this.funcs=new Map;const e=this.funcs;this.bCallback=this.mCallback.bind(this),this.pClear=()=>e.clear(),this.keepRAF=!1}mCallback(e){this.rid=0,c.resolve().then(this.pClear),this.funcs.forEach((t=>c.resolve(e).then(t).catch(console.warn)))}request(e){this.counter>1e9&&(this.counter=9);let t=this.startAt+ ++this.counter;return this.funcs.set(t,e),0===this.rid&&(this.rid=n(this.bCallback)),t}cancel(e){if((e=+e)>0){if(e<=this.startAt)return a(e);this.rid>0&&(this.funcs.delete(e),0!==this.funcs.size||this.keepRAF||(a(this.rid),this.rid=0))}}}new c((e=>{"loading"!==document.readyState?e():m.addEventListener("DOMContentLoaded",e,!1)})).then((()=>{const e=["https://www.youtube.com","https://googlevideo.com","https://googleapis.com","https://accounts.youtube.com","https://www.gstatic.com","https://ggpht.com","https://yt3.ggpht.com","https://yt4.ggpht.com"],t=["https://youtube.com","https://fonts.googleapis.com","https://fonts.gstatic.com"];let n=null;function o(){n=document.createElement("link"),ee=n.relList&&n.relList.supports?(n.relList.supports("dns-prefetch")?1:0)+(n.relList.supports("preconnect")?2:0)+(n.relList.supports("prefetch")?4:0)+(n.relList.supports("subresource")?8:0)+(n.relList.supports("preload")?16:0):0,z("YouTube Super Fast Chat"," | PREFETCH SUPPORTS"),console.log("dns-prefetch",1&ee?"OK":"NG"),console.log("preconnect",2&ee?"OK":"NG"),console.log("prefetch",4&ee?"OK":"NG"),console.log("preload",16&ee?"OK":"NG"),console.groupEnd()}for(const t of e)null===ee&&o(),2&ee&&(oe(n,"preconnect",t),n=null);for(const e of t)null===ee&&o(),1&ee&&(oe(n,"dns-prefetch",e),n=null)}));const{notifyPath7081:Oe}=(()=>{const e=new C;let t=0,o=0,i=-1;const s=(e,t)=>{const n=new Set(t);return e.map((e=>n.has(e)))};let r=null;class a{constructor(e,t,n){this.index=e,this.addedCount=t,this.removed=n}get __proxy312__(){return 1}get type(){return"splice"}get object(){return Y(r)}}function l(e){return e.map((e=>{if(!e||"object"!=typeof e)return console.warn("Error(0xFA41): convertToIds",e),e;let t=Object.keys(e);if(1!==t.length)return console.warn("Error(0xFA42): convertToIds",e),e;let n=e[t[0]]||0,o=n.authorName||0,i=`${o.simpleText||o.text}`,s=e;return"string"!=typeof i?console.warn("Error(0xFA53): convertToIds",e):(i=`${n.authorExternalChannelId||"null"}|${i||""}`,i.length>1&&(s=i)),s}))}const h=(e,t)=>e.authorName!==t.authorName||(e.authorPhoto!==t.authorPhoto||e.authorBadges!==t.authorBadges);return{notifyPath7081:function(d){if("participantsManager.participants"!==d)return this.__notifyPath5036__.apply(this,arguments);if(i===o)return;t>1e8&&(t%=100);let u=++t;const p=j(this);e.lockWith((e=>{const d=Y(p),m=((d||0).participantsManager||0).participants||0;if(u!==t||!d||"function"!=typeof(m||0).splice)return void e();let f=!1;if(m.r94dm||(m.r94dm=1,++o>1e9&&(o=9),m.push=function(){return++o>1e9&&(o=9),Array.prototype.push.apply(this,arguments)},m.pop=function(){return++o>1e9&&(o=9),Array.prototype.pop.apply(this,arguments)},m.shift=function(){return++o>1e9&&(o=9),Array.prototype.shift.apply(this,arguments)},m.unshift=function(){return++o>1e9&&(o=9),Array.prototype.unshift.apply(this,arguments)},m.splice=function(){return++o>1e9&&(o=9),Array.prototype.splice.apply(this,arguments)},m.sort=function(){return++o>1e9&&(o=9),Array.prototype.sort.apply(this,arguments)},m.reverse=function(){return++o>1e9&&(o=9),Array.prototype.reverse.apply(this,arguments)}),i!==o&&(i=o,f=!0),!f)return void e();const _=m.slice(0),y=ge.get(d)||[];ge.set(d,_);const g=(async()=>{if(0===y.length)return 0;let e=d.__getAllParticipantsDOMRenderedLength__();if(y.length!==e)return 0;const t=l(y),n=l(_);let{indexSplices:o,contentUpdates:i}=((e,t,n,o)=>{let i=s(o,n),l=s(n,o);const c=i.length,h=l.length,d=[],u=[];r=null;for(let s=0,r=0;s<h||r<c;)if(e[s]===t[r])s++,r++;else if(n[s]===o[r])u.push({indexI:s,indexJ:r}),s++,r++;else{let t=0;for(let e=r;e<c&&!1===i[e];e++)t++;let n=0;for(let e=s;e<h&&!1===l[e];e++)n++;if(!t&&!n)throw"ERROR(0xFF32): spliceIndicesFunc";const o=new a(r,t,n>=1?e.slice(s,s+n):[]);d.push(o),s+=n,r+=t}return l=null,i=null,n=null,o=null,e=null,r=d.length>0?j(t):null,t=null,{indexSplices:d,contentUpdates:u}})(y,_,t,n),u=1;if(o.length>=1){await new c((e=>{d.resolveForDOMRendering781=e,d.__notifyPath5036__("participantsManager.participants.splices",{indexSplices:o}),o=null,r=null,d.__notifyPath5036__("participantsManager.participants.length",_.length)})),"function"!=typeof nextBrowserTick?await c.resolve(0):await new c((e=>nextBrowserTick(e))).then(),e=d.__getAllParticipantsDOMRenderedLength__();if(_.length!==e)return console.warn("ERROR(0xE2C3): notifyPath7081",y.length,_.length,doms.length),0;u=6}else if(o=null,r=null,_.length!==e)return 0;if(i.length>=1)for(const e of i){h(y[e.indexI],_[e.indexJ])&&(d.__notifyPath5036__(`participantsManager.participants[${e.indexJ}]`),u|=12)}return i=null,u})();g.then((t=>{if(0===t)return void new c((e=>{d.resolveForDOMRendering781=e,d.__notifyPath5036__("participantsManager.participants")})).then((()=>{console.groupEnd()})).then(e);!(4&~t)?n(e):e()}))}))}}})(),Be=async e=>{const t=[...new Set(e)],n=t.length,o=new Array(n);for(let e=0;e<n;e++)o[e]=customElements.whenDefined(t[e]);return await c.all(o),o.length=0,t},Pe=()=>{function e(e,t,n){}function t(e,t,n){}customElements.whenDefined("yt-live-chat-participant-list-renderer").then((()=>{const n="yt-live-chat-participant-list-renderer",o=F(document.createElement(n));if(!o||"function"!=typeof o.attached)return void console.warn(`proto.attached for ${n} is unavailable.`);z("YouTube Super Fast Chat"," | yt-live-chat-participant-list-renderer hacks");const i=["kevlar_tuner_should_test_maintain_stable_list","kevlar_should_maintain_stable_list","kevlar_tuner_should_test_reuse_components","kevlar_tuner_should_reuse_components"],s={};for(const e of i)s[e]=void 0;try{const e=ytcfg.data_.EXPERIMENT_FLAGS;for(const t of i)s[t]=e[t]}catch(e){}console.log(`EXPERIMENT_FLAGS: ${JSON.stringify(s,null,2)}`);const r=(()=>{if("function"!=typeof o.__notifyPath5035__||"dummy5035"===o.__notifyPath5035__.name)if("function"!=typeof o.__attached411__||"dummy411"===o.__attached411__.name)if(o.__notifyPath5035__=e,o.__attached411__=t,"function"==typeof o.flushRenderStamperComponentBindings_&&0===o.flushRenderStamperComponentBindings_.length)if("function"!=typeof o.flushRenderStamperComponentBindings66_){if("function"!=typeof o.__getAllParticipantsDOMRenderedLength__)return!0;console.warn("ERROR(0xE357): cProto.__getAllParticipantsDOMRenderedLength__")}else console.warn("ERROR(0xE356): cProto.flushRenderStamperComponentBindings66_");else console.warn("ERROR(0xE355): cProto.flushRenderStamperComponentBindings_ not found");else console.warn("YouTube Live Chat Tamer is running.");else console.warn("YouTube Live Chat Tamer is running.")})();if(console.log(`Data Manipulation Boost = ${r}`),D((()=>O(o.attached,"0.32.22"))),"function"==typeof o.flushRenderStamperComponentBindings_){const e=O(o.flushRenderStamperComponentBindings_);console.log(`flushRenderStamperComponentBindings_ ### ${e} ###`)}else console.log("flushRenderStamperComponentBindings_ - not found");"function"==typeof o.flushRenderStamperComponentBindings_&&(o.flushRenderStamperComponentBindings66_=o.flushRenderStamperComponentBindings_,o.flushRenderStamperComponentBindings_=function(){this.flushRenderStamperComponentBindings66_(),this.resolveForDOMRendering781&&(this.resolveForDOMRendering781(),this.resolveForDOMRendering781=null)}),o.__getAllParticipantsDOMRenderedLength__=function(){const e=((this||0).$||0).participants;return e?HTMLElement.prototype.querySelectorAll.call(e,"yt-live-chat-participant-renderer").length:0};const a=[...document.querySelectorAll("yt-live-chat-participant-list-renderer:not(.n9fJ3)")];o.__attached412__=o.attached;const l=function(e){const t=x(e);if(ge.has(t))return;if(e.classList.add("n9fJ3"),D((()=>!0===t.__dataEnabled&&!0===t.__dataReady)),"function"!=typeof t.notifyPath||void 0!==t.__notifyPath5036__)return void console.warn("ERROR(0xE318): yt-live-chat-participant-list-renderer");z("Participant List attached",""),t.__notifyPath5036__=t.notifyPath;const n=(t.participantsManager||0).participants||0;D((()=>n.length>-1&&"function"==typeof n.slice)),console.log(`initial number of participants: ${n.length}`);const o=n.length>=1&&"function"==typeof n.slice?n.slice(0):[];ge.set(t,o),t.notifyPath=Oe,console.log("CHECK_CHANGE_TO_PARTICIPANT_RENDERER_CONTENT = true"),console.groupEnd()};o.attached=function(){l(this.hostElement||this),this.__attached412__.apply(this,arguments)};{let e=!0;if("function"==typeof o.stampDomArray_&&6===o.stampDomArray_.length&&!o.stampDomArray_.nIegT&&!o.stampDomArray66_){let t=0;o.stampDomArray66_=o.stampDomArray_,o.stampDomArray_=function(...n){if(n[0]&&n[0].length>0&&"participants"===n[1]&&n[2]&&!0===n[3]&&!n[5]){"function"==typeof e&&(e=e()),n[5]=e;let o=Date.now();o-t>440&&(t=o,console.log("maintain_stable_list for participants list",e))}return this.stampDomArray66_.apply(this,n)},o.stampDomArray_.nIegT=1}console.log("ENABLE_FLAGS_MAINTAIN_STABLE_LIST_FOR_PARTICIPANTS_LIST - YES")}if(console.groupEnd(),a.length>=1)for(const e of a)!0===x(e).isAttached&&l(e)})).catch(console.warn)};U.then(Pe);const Le=new De;if("function"==typeof Object.getOwnPropertyDescriptor&&"undefined"!=typeof Proxy){const ze=HTMLDivElement.prototype,Ke=function(e,t,n){return x(this).set(e,t,n)},Ue=function(e,t){return x(this).set(e,t)},We=function(){console.log("dummyFn",...arguments)},je=new Map;function Ye(e){const t=e.is;if(t&&!e.set){let n=je.get(t);if(!n){n=1;const o=x(e);if(o!==e&&o&&"function"==typeof o.set){const e=o.constructor.prototype.set;e&&"function"==typeof e&&3===e.length?n=Ke:e&&"function"==typeof e&&2===e.length&&(n=Ue)}je.set(t,n)}e.set="function"==typeof n?n:We}}if(!ze.__children577__&&!ze.__children578__){const Xe=Object.getOwnPropertyDescriptor(Element.prototype,"children"),Ve=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children"),Je=Object.getOwnPropertyDescriptor(ze,"children");if(Xe&&!0===Xe.configurable&&!0===Xe.enumerable&&"function"==typeof Xe.get&&!Ve&&!Je&&ze instanceof HTMLElement&&ze instanceof Element){let Qe=Object.assign({},Xe);ze.__children577__=Xe.get,ze.__children578__=function(){if(this.__children803__)return this.__children803__;if(this.__children801__){let e=[];for(let t=this.firstElementChild;null!==t;t=t.nextElementSibling)t.is&&(Ye(t),e.push(t));return 2===this.__children801__&&(this.__children803__=e),e}return 577},Qe.get=function(){const e=this.__children578__();return 577!==e?e:this.__children577__()},Object.defineProperty(ze,"children",Qe),console.log("fixChildrenIssue - set OK")}}}const Ne=()=>{const e=e=>{const t=Y(e);return t&&t.isConnected?t:null},t=()=>{c.resolve().then((()=>{const t=document.querySelector("#show-more[disabled]");let n=t?j(t):null,o=null;for(const e of document.querySelectorAll("[wSr93]"))"visible"===e.getAttribute("wSr93")&&(o=j(e)),e.setAttribute("wSr93","");ae().then((()=>{const t=e(n);if(n=null,t)t.click();else{const t=e(o);o=null,t&&c.resolve().then((()=>t.scrollIntoView())).then((()=>t.scrollIntoView(!1))).then((()=>t.scrollIntoView({behavior:"instant",block:"end",inline:"nearest"}))).catch((e=>{}))}}))}))},n=new MutationObserver((e=>{for(const n of e){if((n.addedNodes||0).length>=1)for(const e of n.addedNodes)if("STYLE"===e.nodeName)return void t();if((n.removedNodes||0).length>=1)for(const e of n.removedNodes)if("STYLE"===e.nodeName)return void t()}}));n.observe(document.documentElement,{childList:!0,subtree:!1}),n.observe(document.head,{childList:!0,subtree:!1}),n.observe(document.body,{childList:!0,subtree:!1})};const{lcRendererElm:qe,visObserver:He}=(()=>{let e=null;const t=()=>{let t=Y(e);return t&&t.isConnected||(t=document.querySelector("yt-live-chat-item-list-renderer.yt-live-chat-renderer"),e=t?j(t):null),t};let n=!1;const o=e=>{const o=e.target;if(!o)return;!0===e.isIntersecting&&e.intersectionRatio>.5?(o.setAttribute("wSr93","visible"),null===$(o)||n||(n=!0,ae().then((()=>{const e=t();e&&("function"!=typeof nextBrowserTick?x(e).scrollToBottom_():nextBrowserTick((()=>{const t=x(e);!1!==t.isAttached&&!1!==(t.hostElement||t).isConnected&&t.scrollToBottom_()})))})))):"visible"===o.getAttribute("wSr93")&&o.setAttribute("wSr93","hidden")},i=new r((e=>{for(const t of e)c.resolve(t).then(o)}),{rootMargin:"0px",threshold:[.05,.95]});return{lcRendererElm:t,visObserver:i}})(),{setupMutObserver:$e}=(()=>{const e=e=>{let t=-1;const n=new Set;for(let o=G(e);null!==o;o=H(o)){if(o.hasAttribute("wSr93")){t=parseInt(o.getAttribute("yt-chat-item-seq"),10);break}o.setAttribute("wSr93",""),He.observe(o),n.add(o)}let o=n.values(),i=t+n.size;for(let e;e=o.next().value;)e.setAttribute("yt-chat-item-seq",i%60),e.classList.add("yt-chat-item-"+(i%2?"odd":"even")),i--;o=null,n.clear()},t=new MutationObserver((t=>{const n=(t[0]||0).target;n&&(Re&&(Re(),Re=null),e(n))}));return{setupMutObserver:n=>{if(Me=null,t.disconnect(),t.takeRecords(),n){"function"==typeof n.__appendChild932__&&("function"==typeof n.appendChild&&(n.appendChild=n.__appendChild932__),"function"==typeof n.__shady_native_appendChild&&(n.__shady_native_appendChild=n.__appendChild932__)),t.observe(n,{childList:!0,subtree:!1}),e(n);const o=Fe;if(Fe=!1,P){let e=n,t=!1;e&&null===e.nextElementSibling&&(e.classList.add("no-anchor"),t=!0,e.parentNode.appendChild(document.createElement("item-anchor"))),t&&q(n).classList.add("no-anchor")}(()=>{const e="yt-iframed-player-events-relay",t=document.createElement(e),n=F(t);if(n&&n.handlePostMessage_){if("function"==typeof n.handlePostMessage_&&!n.handlePostMessage66_&&!n.handlePostMessage67_){n.handlePostMessage66_=n.handlePostMessage_;const e=e=>{if(e&&"object"==typeof e)if("yt-player-state-change"in e){const t=e["yt-player-state-change"];let n=!1;2===t?(n=t!==he,he=2,ue=0):3===t?(n=t!==he,he=3):1===t&&(n=t!==he,he=1),n&&ce!==he&&(pe=!0,S=new c((e=>{const t=he;ae().then((()=>{t===he&&ce!==he&&(ce=he),S=null,e()}))})).catch(console.warn))}else if("yt-player-video-progress"in e){const t=e["yt-player-video-progress"];ue++,de=t>0?t:0,A&&t>0&&ue>=2&&(S?S.then((()=>{A&&A.resolve(),A=null})):(A.resolve(),A=null))}};n.handlePostMessage67_=function(t){let n=t.data;const o=j(this);T=T.then((()=>{const i=Y(o);if(!i||!t||!n)return;e(n),n=null;i.handlePostMessage66_(t);t=null})).catch(console.warn)};const t=e=>{const t=document.querySelector("yt-live-chat-renderer"),n=document.querySelector("yt-player-seek-continuation");if(t&&n&&t.replayBuffer_){const o=t.replayBuffer_.lastVideoOffsetTimeMsec,i=1e3*e["yt-player-video-progress"],s=(t.replayBuffer_.replayQueue||0).front_,r=(t.replayBuffer_.replayQueue||0).back_;s&&r&&o>i&&r.length>2&&r.some((e=>e&&+e.videoOffsetTimeMsec>i))&&r.some((e=>e&&+e.videoOffsetTimeMsec<i))||o<i+3400&&o>i-1200||(t.previousProgressSec=1e-5,t.replayBuffer_.clear(),n.fireSeekContinuation_(e["yt-player-video-progress"]))}};n.handlePostMessage_=function(e){let n=(e||0).data||0;const o=j(this);if("object"==typeof n&&1!==fe){if(!me&&(me=!0,"yt-player-video-progress"in n)){fe=1;const i=t=>{const{origin:n}=e;return{origin:n,data:t}};return this.handlePostMessage67_(i({"yt-iframed-parent-ready":!0})),void(T=T.then((()=>{const i=Y(o);if(!i||!e||!n)return;t(n),n=null,fe=2;i.handlePostMessage_(e);e=null})).catch(console.warn))}this.handlePostMessage67_(e)}}}}else console.warn(`proto.handlePostMessage_ for ${e} is unavailable.`)})(),o&&async function(){try{if(await U.then(),await customElements.whenDefined("yt-live-chat-text-message-renderer"),await new c((e=>i(e,800))),!L)return;const e=document.querySelector("#ticker yt-live-chat-ticker-renderer.style-scope.yt-live-chat-renderer");if(!e)return;const t=(R(e)||0).items||0;if(!t)return;const n=document.createElement("template");n.innerHTML=`<yt-live-chat-ticker-dummy777-item-renderer class="style-scope yt-live-chat-ticker-renderer" whole-message-clickable=""\n            modern="" aria-label="¥1,000" role="button" tabindex="0" id="Chw777" style="width: 94px; overflow: hidden;"\n            dimmed="" [dummy777]>\n            <div id="container" dir="ltr" class="style-scope yt-live-chat-ticker-dummy777-item-renderer"\n              style="--background:linear-gradient(90deg, rgba(1,2,3,1),rgba(1,2,3,1) 7%,rgba(4,0,0,1) 7%,rgba(4,0,0,1));">\n              <div id="content" class="style-scope yt-live-chat-ticker-dummy777-item-renderer" style="color: rgb(255, 255, 255);">\n                <yt-img-shadow777 id="author-photo" height="24" width="24"\n                  class="style-scope yt-live-chat-ticker-dummy777-item-renderer no-transition"\n                  style="background-color: transparent;" loaded=""><img id="img"\n                    draggable="false" class="style-scope yt-img-shadow" alt="I" height="24" width="24"\n                    src="${s}"></yt-img-shadow777>\n\n                <span id="text" dir="ltr" class="style-scope yt-live-chat-ticker-dummy777-item-renderer">¥1,000</span>\n              </div>\n            </div>\n          </yt-live-chat-ticker-dummy777-item-renderer>`;const o=n.content.firstElementChild;await c.resolve().then();let r=0;if(t instanceof HTMLElement&&!0===t.isConnected){try{t.appendChild(o);let e=HTMLElement.prototype.querySelector.call(o,"#container")||0;if(!0===e.isConnected){const t=`${N(e).background}`;e=null,r=t.indexOf("0.")<4?1:2}}catch(e){console.warn(e)}HTMLElement.prototype.remove.call(o)}await c.resolve().then(),o.textContent="",1===r?(console.groupCollapsed("%cYouTube Super Fast Chat%c | Incompatibility Found","background-color: #010502; color: #fe806a; font-weight: 700; padding: 2px;","background-color: #010502; color: #fe806a; font-weight: 300; padding: 2px;"),console.warn("%cWarning:\n\tYou might have added a userscript or extension that also modifies the ticker background.\n\tYouTube Super Fast Chat is taking over.","color: #bada55"),console.groupEnd(),console.log("%cALLOW_ADVANCED_ANIMATED_TICKER_BACKGROUND (Overriding other scripting)","background-color: #7eb32b; color: #102624; padding: 2px 4px")):2===r&&console.log("%cALLOW_ADVANCED_ANIMATED_TICKER_BACKGROUND","background-color: #16c450; color: #102624; padding: 2px 4px")}catch(e){console.warn(e)}}()}}}})();U.then((()=>{let e=!1;const s=()=>D((()=>location.pathname.startsWith("/live_chat")&&(location.search.indexOf("continuation=")>0||location.search.indexOf("v=")>0))),l=()=>{if(e)return;if(e=!0,!document.body||!document.head)return;if(!s())return;V();let t=document.getElementById("elzm-fonts-yk75g");t&&t.parentNode!==document.body&&document.body.appendChild(t)};if(!s())return;const{weakWrap:h}=(()=>{const e="dtz02",t="dtz04",n="dtz08",o=t=>{if(!t)return null;const n=t[e];if(n){const e=n.ref;return(e?Y(e):null)||null}return t},i={get:(e,n)=>n===t?e:Reflect.get(e,n),apply(e,t,n){if(t=o(t))return Reflect.apply(e,t,n)}},s={get(o,s){if(s===e)return o;const r=o.ref,a=Y(r);return a?"function"!=typeof a[s]||a[s][t]||a[s][e]?a[s]:(a[s][n]||(a[s][n]=new Proxy(a[s],i)),a[s][n]):void 0},set(n,i,s){const r=Y(n.ref);return!r||(s&&(s[t]||s[e])?(r[i]=s[t]||o(s),!0):(r[i]=s,!0))}};return window.getComputedStyle533||"function"!=typeof window.getComputedStyle||(window.getComputedStyle533=window.getComputedStyle,window.getComputedStyle=function(e,...t){return(e=o(e))?getComputedStyle533(e,...t):null}),{weakWrap:e=>(e=o(e))?new Proxy({ref:j(e)},s):(console.error("thisArg is not found"),null)}})();document.documentElement&&document.head&&V(),X().then((async e=>{const t=F(e);if(t&&t.attached){if(l(),z("YouTube Super Fast Chat"," | yt-live-chat-renderer hacks"),console.log("[Begin]"),"function"==typeof t.playerProgressChanged_&&!t.playerProgressChanged32_){t.playerProgressChanged32_=t.playerProgressChanged_;const e=function(){const e=this.pop78();if(e&&(e.actions||0).length>=1&&e.videoOffsetTimeMsec)for(const t of e.actions){const n=t?"addChatItemAction"in t?"addChatItemAction":"addLiveChatTickerItemAction"in t?"addLiveChatTickerItemAction":null:null;if(n){const o=(t[n]||0).item;if("object"==typeof o){const t=y(o);if(t){const n=o[t];n&&"object"==typeof n&&(n.__videoOffsetTimeMsec__=e.videoOffsetTimeMsec,n.__progressAt__=k)}}}}return e},n={get(t,n,o){if("qe3"===n)return 1;const i=t[n];return"front_"===n&&i&&"number"==typeof i.length&&(i.pop78||(i.pop78=i.pop,i.pop=e)),i}};t.playerProgressChanged_=function(e,t,o){k=e,I=t,M=o;const i=this.replayBuffer_;if(i){const e=i.replayQueue;e&&"object"==typeof e&&!e.qe3&&(i.replayQueue=new Proxy(i.replayQueue,n))}return this.playerProgressChanged32_.apply(this,arguments)}}console.log("[End]"),console.groupEnd()}else console.warn("proto.attached for yt-live-chat-renderer is unavailable.")})),customElements.whenDefined("yt-live-chat-item-list-renderer").then((()=>{const e="yt-live-chat-item-list-renderer",t=document.createElement(e),n=F(t);if(!n||!n.attached)return void console.warn(`proto.attached for ${e} is unavailable.`);l(),z("YouTube Super Fast Chat"," | yt-live-chat-item-list-renderer hacks"),console.log("[Begin]");const o=n,s=window._flag0281_||o._flag0281_;try{D((()=>"function"==typeof o.scrollToBottom_)),D((()=>"function"==typeof o.flushActiveItems_)),D((()=>"function"==typeof o.canScrollToBottom_)),D((()=>"function"==typeof o.setAtBottom)),D((()=>void 0===o.scrollToBottom66_)),D((()=>void 0===o.flushActiveItems66_))}catch(e){}try{D((()=>"function"==typeof o.attached)),D((()=>"function"==typeof o.detached)),D((()=>"function"==typeof o.canScrollToBottom_)),D((()=>"function"==typeof o.isSmoothScrollEnabled_)),D((()=>"function"==typeof o.maybeResizeScrollContainer_)),D((()=>"function"==typeof o.refreshOffsetContainerHeight_)),D((()=>"function"==typeof o.smoothScroll_)),D((()=>"function"==typeof o.resetSmoothScroll_))}catch(e){}o.__intermediate_delay__=null;let a=0,h=0,d=0,u=0,p=null,m=0;8192&s||(0===(o.clearList||0).length?(!(2&s)&&D((()=>O(o.clearList,"0.106.50"))),o.clearList66=o.clearList,o.clearList=function(){a++,h++,d++,u++,m++,p=null,this.__intermediate_delay__=null,this.clearList66()},console.log("clearList","OK")):console.log("clearList","NG"));let f=!1;function _(e,t){!1===f&&(f=!0,c.resolve().then(Ne),V(),(()=>{let e=0;const t="function"!=typeof r||{capture:!0,passive:!0},n=()=>{const e=qe();if(e){const t=x(e);if(!t.hasUserJustInteracted11_)return;t.atBottom&&t.allowScroll&&t.activeItems_.length>=1&&t.hasUserJustInteracted11_()&&t.delayFlushActiveItemsAfterUserAction11_&&t.delayFlushActiveItemsAfterUserAction11_()}};document.addEventListener("scroll",(t=>{t&&t.isTrusted&&++e>1e9&&(e=9)}),t);let o=-1;document.addEventListener("wheel",(t=>{t&&t.isTrusted&&o!==e&&(o=e,Ce=ve(),n&&n())}),t),document.addEventListener("mousedown",(e=>{e&&e.isTrusted&&"item-scroller"===((e||0).target||0).id&&(be=ve(),Ae=!0,Ie=be)}),t),document.addEventListener("pointerdown",(e=>{e&&e.isTrusted&&"item-scroller"===((e||0).target||0).id&&(be=ve(),Ae=!0,Ie=be)}),t),document.addEventListener("click",(e=>{e&&e.isTrusted&&"item-scroller"===((e||0).target||0).id&&(be=Ee=ve(),Ae=!1,Ie=be,n&&n())}),t),document.addEventListener("tap",(e=>{e&&e.isTrusted&&"item-scroller"===((e||0).target||0).id&&(be=Ee=ve(),Ae=!1,Ie=be,n&&n())}),t),document.addEventListener("mouseup",(e=>{e&&e.isTrusted&&Ae&&(Ee=ve(),Ae=!1,Ie=Ee,n&&n())}),t),document.addEventListener("pointerup",(e=>{e&&e.isTrusted&&Ae&&(Ee=ve(),Ae=!1,Ie=Ee,n&&n())}),t),document.addEventListener("touchstart",(e=>{e&&e.isTrusted&&(Se=ve(),ke=!0,Ie=Se)}),t),document.addEventListener("touchmove",(e=>{e&&e.isTrusted&&(Se=ve(),ke=!0,Ie=Se)}),t),document.addEventListener("touchend",(e=>{e&&e.isTrusted&&ke&&(Te=ve(),ke=!1,Ie=Te,n&&n())}),t),document.addEventListener("touchcancel",(e=>{e&&e.isTrusted&&ke&&(Te=ve(),ke=!1,Ie=Te,n&&n())}),t)})()),J(e,t),$e(t)}o.attached419=async function(){if(!this.isAttached)return;let e=16;for(;!(this.$&&this.$["item-scroller"]&&this.$["item-offset"]&&this.$.items);){if(--e<0||!this.isAttached)return;await le(this.hostElement).then()}if(!0!==this.isAttached)return;if(!this.$)return void console.warn("!this.$");if(!this.$)return;const t=this.$["item-scroller"],n=this.$["item-offset"],o=this.$.items;if(!t||!n||!o)return void console.warn("items.parentNode !== itemOffset");if(q(o)!==n)return void console.warn("items.parentNode !== itemOffset");if("items"!==o.id||"item-offset"!==n.id)return void console.warn("id incorrect");HTMLElement.prototype.matches.call(o,"#item-offset.style-scope.yt-live-chat-item-list-renderer > #items.style-scope.yt-live-chat-item-list-renderer")?_(n,o):console.warn("!isTargetItems")},o.attached331=o.attached,o.attached=function(){return this.attached419&&this.attached419(),this.attached331()},o.detached331=o.detached,o.detached=function(){return $e(),this.detached331()};const y=document.querySelectorAll("yt-live-chat-item-list-renderer");for(const e of y)!0===x(e).isAttached&&e.attached419();if(2===(o.async||0).length&&1===(o.cancelAsync||0).length){D((()=>O(o.async,"2.24.15"))),D((()=>O(o.cancelAsync,"1.15.8")));const e=new Map;let t=6150;o.async66=o.async,o.async=function(n,o){const i=2===arguments.length,s=(new Error).stack.indexOf("flushActiveItems_")>=0;t>1e9&&(t=6159);const r=++t;return e.set(r,n),(this.__intermediate_delay__||c.resolve()).then((t=>{const n=e.get(r);if("function"!=typeof n)return;let a=!1;if(s&&(t<0||2===t&&arguments[0]===this.maybeScrollToBottom_)&&(a=!0),a)e.delete(r);else{const t=function(){return e.delete(r),n.apply(this,arguments)};e.set(r,i?this.async66(t,o):this.async66(t))}})),r},o.cancelAsync66=o.cancelAsync,o.cancelAsync=function(t){if(t<=6150)this.cancelAsync66(t);else if(e.has(t)){const n=e.get(t);e.delete(t),"function"!=typeof n&&this.cancelAsync66(n)}},console.log("async","OK")}else console.log("async","NG");if(2&s||(0===(o.showNewItems_||0).length?(D((()=>O(o.showNewItems_,"0.170.79"))),o.showNewItems66_=o.showNewItems_,o.showNewItems77_=async function(){a>1e9&&(a=9);let e=++a;if(await le(this.hostElement).then(),e!==a)return;await c.resolve(),this.showNewItems66_(),await c.resolve()},o.showNewItems_=function(){const e=this;e.__intermediate_delay__=new c((t=>{e.showNewItems77_().then((()=>{t()}))}))},console.log("showNewItems_","OK")):console.log("showNewItems_","NG")),!(8192&s))if(0===(o.flushActiveItems_||0).length){if(!(2&s)){const e=O(o.flushActiveItems_);"0.156.86"===e||"0.150.84"===e||"0.137.81"===e||"0.138.81"===e||D((()=>O(o.flushActiveItems_,"0.150.84")))}let e=0;o.flushActiveItems66_=o.flushActiveItems_;const t=e=>{let t=[];const n=new Set;for(const t of e)Z(t,n);if(null!==ee&&12&ee&&n.size>0){const e=8&ee?"subresource":16&ee?"preload":4&ee?"prefetch":"";e&&n.forEach((n=>{let o=!1;if(n.includes(".ggpht.com/"))return;const i=n.includes("/emoji/")?te:ne;i.has(n)||(i.add(n),o=!0),o&&t.push(oe(null,e,n,"image"))}))}return async()=>{t.length>0&&await c.race([new c((e=>i(e,250))),c.all(t)]),t.length=0,t=null}};o.flushActiveItems78_=async function(e){try{if(e!==h)return;if(!(4&~this._flag0281_)){const n=this;if(e!==h||!1===n.isAttached||!1===(n.hostElement||n).isConnected)return;if(!n.activeItems_||0===n.activeItems_.length)return;h++,m>1e9&&(m=9),++m;const o=n.activeItems_;if(o.length<25){const e=t(o);await e()}return n.flushActiveItems66_(),1}const n=this.data.maxItemsToDisplay944;let o=!1;const s=this;let r=s.__intermediate_delay__;if(await le(this.hostElement).then(),e!==h||!1===s.isAttached||!1===(s.hostElement||s).isConnected)return;if(!s.activeItems_||0===s.activeItems_.length)return;h++,m>1e9&&(m=9),++m;const a=this.data.maxItemsToDisplay,l=25;let d=!1;const u=this.activeItems_.length;u>a&&a>0&&(o=!0,z("YouTube Super Fast Chat"," | flushActiveItems78_"),o&&console.log("[Begin]"),console.log("this.activeItems_.length > N",u,a),n===a&&n!==l?(console.log("reduce maxitems"),a>l&&(d=!0,this.data.maxItemsToDisplay=l,console.log(`'maxItemsToDisplay' is reduced from ${a} to ${l}.`)),this.activeItems_.splice(0,u-this.data.maxItemsToDisplay),console.log("new this.activeItems_.length > N",this.activeItems_.length)):(this.activeItems_.splice(0,u-(a<900?a:900)),console.log("new this.activeItems_.length > N",this.activeItems_.length))),s.__intermediate_delay__=c.all([s.__intermediate_delay__||null,r||null]),await c.resolve();const p=s.activeItems_;p.length||console.warn("cnt.activeItems_.length = 0");const f=t(p),_=0===((s.visibleItems||0).length||0);xe=_,await f(),s.flushActiveItems66_();const y=0===((s.visibleItems||0).length||0);xe=y,await c.resolve(),d&&this.data.maxItemsToDisplay===l&&a>l?(this.data.maxItemsToDisplay=a,o&&console.log(`'maxItemsToDisplay' is restored from ${l} to ${a}.`)):d&&o&&console.log("'maxItemsToDisplay' cannot be restored",{maxItemsToDisplay:this.data.maxItemsToDisplay,reducedMaxItemsToDisplay:l,originalMaxItemsToDisplay:a}),o&&console.log("[End]"),o&&console.groupEnd(),_&&!y&&!(256&(s.__notRequired__||0))&&i((()=>s.setAtBottom()),1);{const e=s;if(!Me){const t=e,n=()=>{const e=t.itemScroller;e&&!1!==e.isConnected&&!1!==t.isAttached&&(t.atBottom?0===e.scrollTop&&(e.scrollTop=e.scrollHeight):t.scrollToBottom_())};Me="function"!=typeof nextBrowserTick?()=>c.resolve().then(n).then(n):()=>nextBrowserTick(n)}Me()}return 1}catch(e){console.warn(e)}},o.flushActiveItems77_=function(){return new c((e=>{try{const t=this;h>1e9&&(h=9);let n=++h;const o=t.hostElement||t;if(n!==h||!1===t.isAttached||!1===o.isConnected)return e();if(!t.activeItems_||0===t.activeItems_.length)return e();const i=this.data.maxItemsToDisplay944;this.activeItems_.length>4*i&&i>4&&this.activeItems_.splice(0,this.activeItems_.length-i-1),t.canScrollToBottom_()?t.mutexPromiseFA78=(t.mutexPromiseFA78||c.resolve()).then((()=>t.flushActiveItems78_(n))).then((t=>{e(t),e=null})).catch((t=>{console.warn(t),e&&e()})):(e(2),e=null)}catch(t){console.warn(t),e&&e()}}))},o.flushActiveItems_=function(){const t=this;if(0!==arguments.length||!t.activeItems_||!t.canScrollToBottom_)return t.flushActiveItems66_.apply(this,arguments);if(0===t.activeItems_.length)return void(t.__intermediate_delay__=null);const n=(t||0).data||0;void 0===n.maxItemsToDisplay944&&(n.maxItemsToDisplay944=null,n.maxItemsToDisplay>90&&(n.maxItemsToDisplay=90),n.maxItemsToDisplay944=n.maxItemsToDisplay||null),t.__intermediate_delay__=new c((n=>{t.flushActiveItems77_().then((o=>{if(1===o){if(n(1),1===e){e=0;const n=(t.$||0)["show-more"];n&&n.classList.remove("has-new-messages-miuzp")}}else if(2===o){if(n(2),0===e){e=1;const n=t.$["show-more"];n&&n.classList.add("has-new-messages-miuzp")}}else n(-1)})).catch((e=>{console.warn(e)}))}))},console.log("flushActiveItems_","OK")}else console.log("flushActiveItems_","NG");if(64&s||("function"!=typeof o.refreshOffsetContainerHeight_||o.refreshOffsetContainerHeight26_||0!==o.refreshOffsetContainerHeight_.length?console.log("refreshOffsetContainerHeight_","NG"):(D((()=>O(o.refreshOffsetContainerHeight_,"0.31.21"))),o.refreshOffsetContainerHeight26_=o.refreshOffsetContainerHeight_,o.refreshOffsetContainerHeight_=function(){},console.log("refreshOffsetContainerHeight_","OK"))),128&s||(o.delayFlushActiveItemsAfterUserAction11_=async function(){try{m>1e9&&(m=9);const e=++m,t=()=>this.atBottom&&this.allowScroll&&e===m&&!0===this.isAttached&&this.activeItems_.length>=1&&!0===(this.hostElement||0).isConnected,n=()=>this.canScrollToBottom_();if(!t())return;if(n())return 1|this.flushActiveItems_();if(await new c((e=>i(e,80))),!t())return;if(n())return 1|this.flushActiveItems_();if(await le(this.hostElement).then(),n())return 1|this.flushActiveItems_()}catch(e){console.warn(e)}}),!(64&s))if(1===(o.atBottomChanged_||0).length){const e=O(o.atBottomChanged_);"1.73.37"===e||"1.75.39"===e||D((()=>O(o.atBottomChanged_,"1.73.37")));const t=HTMLElement.prototype.querySelector,n=e=>({querySelector:n=>t.call(e,n)});let i=0;o.__updateButtonVisibility371__=function(e){c.resolve(this).then((t=>{e.style.visibility=t.__buttonVisibility371__}))};const s=function(e,t){t.addEventListener("click",(t=>{t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),c.resolve(e).then((e=>{e.scrollToBottom_()}))}),!0)};o.atBottomChanged_=function(e){const t=(this.$||0)["show-more"];if(t)if(e){if("hidden"!==this.__buttonVisibility371__&&(this.__buttonVisibility371__="hidden",!this.hideShowMoreAsync_)){const e=++i;this.hideShowMoreAsync_=ae().then((()=>{e===i&&this.__updateButtonVisibility371__(t)}))}}else"visible"!==this.__buttonVisibility371__&&(this.__buttonVisibility371__="visible",this.hideShowMoreAsync_&&i++,this.hideShowMoreAsync_=null,t.__fix_onclick__||(t.__fix_onclick__=!0,s(this,t)),this.__updateButtonVisibility371__(t));else{let t=++i,o=this;e?this.hideShowMoreAsync_||(this.hideShowMoreAsync_=this.async((function(){t===i&&(n(o.hostElement).querySelector("#show-more").style.visibility="hidden")}),200)):(this.hideShowMoreAsync_&&this.cancelAsync(this.hideShowMoreAsync_),this.hideShowMoreAsync_=null,n(this.hostElement).querySelector("#show-more").style.visibility="visible")}},console.log("atBottomChanged_","OK")}else console.log("atBottomChanged_","NG");if(2&s||(1===(o.onScrollItems_||0).length?(D((()=>O(o.onScrollItems_,"1.17.9"))),o.onScrollItems66_=o.onScrollItems_,o.onScrollItems77_=async function(e){d>1e9&&(d=9);let t=++d;if(await le(this.hostElement).then(),t!==d)return;const n=this;await c.resolve();{const t=!!(512&(n.__notRequired__||0));await c.resolve().then((()=>{this.ytRendererBehavior.onScroll(e)})).then((()=>{if(!t){if(!this.canScrollToBottom_())return!(256&(n.__notRequired__||0))&&this.setAtBottom(),1;if(!this.hasUserJustInteracted11_||this.hasUserJustInteracted11_())return!(256&(n.__notRequired__||0))&&this.setAtBottom(),1}})).then((e=>{if(!t&&this.activeItems_.length){if(this.canScrollToBottom_())return this.flushActiveItems_(),e;if(this.atBottom&&this.allowScroll&&this.hasUserJustInteracted11_&&this.hasUserJustInteracted11_())return this.delayFlushActiveItemsAfterUserAction11_&&this.delayFlushActiveItemsAfterUserAction11_(),0}})).then((e=>{t||e&&!(256&(n.__notRequired__||0))&&this.setAtBottom()}))}await c.resolve()},o.onScrollItems_=function(e){const t=this;t.__intermediate_delay__=new c((n=>{t.onScrollItems77_(e).then((()=>{n()}))}))},console.log("onScrollItems_","OK")):console.log("onScrollItems_","NG")),!(2&s))if(1===(o.handleLiveChatActions_||0).length){const e=O(o.handleLiveChatActions_);"1.39.20"===e||"1.31.17"===e||D((()=>O(o.handleLiveChatActions_,"1.31.17"))),o.handleLiveChatActions66_=o.handleLiveChatActions_,o.handleLiveChatActions77_=async function(e){if("number"!=typeof(e||0).length)return void this.handleLiveChatActions66_(e);u>1e9&&(u=9);let t=++u;if(null===p?p=e:Array.prototype.push.apply(p,e),e=null,await le(this.hostElement).then(),t!==u||null===p)return;const n=p;p=null,await c.resolve(),this.handleLiveChatActions66_(n),await c.resolve()},o.handleLiveChatActions_=function(e){const t=this;t.__intermediate_delay__=new c((n=>{t.handleLiveChatActions77_(e).then((()=>{n()}))}))},console.log("handleLiveChatActions_","OK")}else console.log("handleLiveChatActions_","NG");o.hasUserJustInteracted11_=()=>{const e=ve();return e-Ce<80||Ae||ke||e-Ie<80},0===(o.canScrollToBottom_||0).length?(D((()=>O(o.canScrollToBottom_,"0.9.5"))),o.canScrollToBottom_=function(){return this.atBottom&&this.allowScroll&&!this.hasUserJustInteracted11_()},console.log("canScrollToBottom_","OK")):console.log("canScrollToBottom_","NG"),o.isSmoothScrollEnabled_=function(){return!1},o.maybeResizeScrollContainer_=function(){},o.refreshOffsetContainerHeight_=function(){},o.smoothScroll_=function(){},o.resetSmoothScroll_=function(){},console.log("ENABLE_NO_SMOOTH_TRANSFORM","OK"),8&s||"function"!=typeof o.forEachItem_||o.forEachItem66_||1!==o.forEachItem_.length||(o.forEachItem66_=o.forEachItem_,o.forEachItem_=function(e){if(!(8&~this._flag0281_))return this.forEachItem66_(e);try{let t=!1;if("function"==typeof e){const e=this.items;if(e instanceof HTMLDivElement){const n=this.visibleItems,o=this.activeItems_;n&&o&&n.length>=0&&o.length>=0&&(t=e)}}if(t){t.__children801__=1;const n=this.forEachItem66_(e);return t.__children801__=0,n}}catch(e){}return this.forEachItem66_(e)}),"function"!=typeof o.handleAddChatItemAction_||o.handleAddChatItemAction66_||(o.handleAddChatItemAction66_=o.handleAddChatItemAction_,o.handleAddChatItemAction_=function(e){try{e&&"object"==typeof e&&!("length"in e)&&(Z(e.item,null),console.assert(arguments[0]===e))}catch(e){console.warn(e)}let t;try{t=this.handleAddChatItemAction66_.apply(this,arguments)}catch(e){if(!e||!(e.message||"").includes(".querySelector("))throw e;console.log("skipErrorForhandleAddChatItemAction_",e.message)}return t}),console.log("handleAddChatItemAction_ [ FIX_THUMBNAIL_SIZE_ON_ITEM_ADDITION ]","OK"),"function"!=typeof o.handleReplaceChatItemAction_||o.handleReplaceChatItemAction66_||(o.handleReplaceChatItemAction66_=o.handleReplaceChatItemAction_,o.handleReplaceChatItemAction_=function(e){try{e&&"object"==typeof e&&!("length"in e)&&(Z(e.replacementItem,null),console.assert(arguments[0]===e))}catch(e){console.warn(e)}return this.handleReplaceChatItemAction66_.apply(this,arguments)}),console.log("handleReplaceChatItemAction_ [ FIX_THUMBNAIL_SIZE_ON_ITEM_REPLACEMENT ]","OK"),console.log("[End]"),console.groupEnd()})).catch(console.warn);const d=function(e,t){let n=(this.__dataHost||x(this).__dataHost||0).__data;if(2===arguments.length&&"style"===e&&n&&t){let i=`${t}`;const s=100*n.ratio;if(s>-1){let e=s;const t=n.data;if(t){const r=t.durationSec,a=t.fullDurationSec;let l=500;(r===a||r+1===a)&&r>1&&(l=a>400?500:a>200?200:a>100?100:a>50?50:20),l>o&&(l=o),l<5&&(l=5);const c=l/100;if(e=Math.round(e*c)/c,e=e.toFixed(1),i=i.replace(`${s}%`,`${e}%`).replace(`${s}%`,`${e}%`),n.__style_last__===i)return;n.__style_last__=i}}HTMLElement.prototype.setAttribute.call(this,e,i)}else HTMLElement.prototype.setAttribute.apply(this,arguments)},p=e=>{const t=x(e);D((()=>"string"==typeof(t||0).is)),D((()=>1===((t||0).hostElement||0).nodeType));const n=(t.$||0).container;n?(D((()=>1===(n||0).nodeType)),D((()=>"function"==typeof n.setAttribute)),n.setAttribute=d):console.warn(`"container" does not exist in ${t.is}`)},m=["yt-live-chat-ticker-renderer","yt-live-chat-ticker-paid-message-item-renderer","yt-live-chat-ticker-paid-sticker-item-renderer","yt-live-chat-ticker-sponsor-item-renderer"],T=["yt-live-chat-ticker-renderer","yt-live-chat-ticker-paid-message-item-renderer","yt-live-chat-ticker-paid-sticker-item-renderer","yt-live-chat-ticker-sponsor-item-renderer"];new Set;c.all(m.map((e=>customElements.whenDefined(e)))).then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-ticker-... hacks"),console.log("[Begin]");let e=null;const t=()=>{let e={privateDoNotAccessOrElseSafeStyleWrappedValue_:"--nx:82;",implementsGoogStringTypedString:!0};return e.getTypedStringValue=e.toString=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},e};let n=0,o=-1;const i=function(e){if(e.hostElement&&"function"==typeof e.requestRemoval){try{(e.data||0).id||(e.data={id:1})}catch(e){}try{return e.requestRemoval(),!0}catch(e){}}return!1},s={updateStatsBarAndMaybeShowAnimationRevised:function(e,t,n){try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.updateStatsBarAndMaybeShowAnimation38.call(this.__proxySelf0__,e,t,n)}catch(e){console.log("updateStatsBarAndMaybeShowAnimationRevised ERROR"),console.error(e)}},detachedForMemoryLeakage:function(){try{this.actionHandlerBehavior.unregisterActionMap(this.behaviorActionMap)}catch(e){}return this.detached582MemoryLeak()},detachedForTickerInit:function(){let e;c.resolve(this).then((e=>{e.isAttached||(!1===e.isAttached&&!1===((e.$||0).container||0).isConnected&&i(e),e.rafId>1&&Le.cancel(e.rafId))})).catch(console.warn);try{e=this.detached77()}catch(e){console.warn(e)}return this.__ticker_attachmentId__=0,e},attachedForTickerInit:function(){return n>1e9&&(n=9),this.__ticker_attachmentId__=++n,p(this.hostElement||this),this.attached77()},_makeAnimator:function(){if(!this._r782)if(this._runnerAE){if(!_e)return console.warn("aeConstructor is undefined");const e=this._runnerAE;if(!(e instanceof _e))return console.warn("this._runnerAE is not Animation");"paused"!==e.playState&&console.warn("ae.playState !== paused");let t=this.countdownMs/this.countdownDurationMs*100;if(t>=0&&t<=100){let t=(1-this.countdownMs/this.countdownDurationMs)*this.countdownDurationMs;return t>=0&&t<=this.countdownDurationMs?this._runnerAE.currentTime=t:console.warn("Error on setting _runnerAE.currentTime!"),e.play(),e}console.warn("incorrect time ratio",t)}else{const e=(this.$||0).container;if(!e)return console.warn("this.$.container is undefined");const t=this.data;if(!t||!t.startBackgroundColor||!t.endBackgroundColor)return console.warn("this.data is undefined or incorrect");const n=this.colorFromDecimal(t.startBackgroundColor),o=this.colorFromDecimal(t.endBackgroundColor);if("string"!=typeof n||"string"!=typeof o)return console.warn("c1, c2 is not a string");e.style.setProperty("--ticker-c1",n),e.style.setProperty("--ticker-c2",o),e.classList.add("run-ticker");const i=this.countdownMs/this.countdownDurationMs*100;if(i>=0&&i<=100){let t="linear";const n=this.countdownDurationMs;0;const o=u.call(e,[{"--ticker-rtime":"100%"},{"--ticker-rtime":"0%"}],{fill:"forwards",duration:n,easing:t});this._runnerAE=o,o.onfinish=e=>{this.onfinish=null,this._runnerAE===o&&(!0!==this.isAttached||this._r782||!0!==((this.$||0).container||0).isConnected||this._aeFinished(e))};let i=(1-this.countdownMs/n)*n;return i>=0&&i<=n?o.currentTime=i:console.warn("Error on setting _runnerAE.currentTime!"),_e=o.constructor,o}console.warn("incorrect time ratio",i)}},_aeFinished:function(e){if(this._r782)return;if(!1===this.isAttached&&!1===((this.$||0).container||0).isConnected)return void this._throwOut();this._runnerAE||console.warn("Error in .updateTimeout; this._runnerAE is undefined");let t=window.performance.now();if(this.countdownMs=Math.max(0,this.countdownMs-(t-this.lastCountdownTimeMs)),this.countdownMs>this.countdownDurationMs&&(this.countdownMs=this.countdownDurationMs),this.lastCountdownTimeMs=this._lastCountdownTimeMsX0=t,this.countdownMs>76&&console.warn("Warning: this.countdownMs is not zero when finished!",this.countdownMs,this,e),this.countdownMs=0,this.lastCountdownTimeMs=this._lastCountdownTimeMsX0=null,this.isAttached){let e=!1;Date.now()-o<80&&"function"==typeof this.requestRemoval&&(e=i(this)),e||("auto"===this.hostElement.style.width&&this.setContainerWidth(),this.slideDown())}},_throwOut:function(){this._r782=1,c.resolve(this).then((e=>{i(e),e.detached(),!0===e.__dataClientsReady&&(e.__dataClientsReady=!1),!0===e.__dataEnabled&&(e.__dataEnabled=!1),!0===e.__dataReady&&(e.__dataReady=!1),e.data=null,e.countdownMs=0,e.lastCountdownTimeMs=null;const t=e.hostElement||e;t.parentNode&&t.remove();for(let e;e=t.firstChild;)e.remove()})).catch((e=>{console.warn(e)}))},startCountdownForTimerFnModA:function(e,t){try{const n=Y(this);if(!n)return;if(!n.hostElement)return;const o=n.__ticker_attachmentId__;if(!o)return;if(n._r782)return;if(!1===n.isAttached&&!1===((n.$||0).container||0).isConnected)return void n._throwOut();if(t=void 0===t?0:t,void 0!==e&&(n.countdownMs=1e3*e,n.countdownDurationMs=t?1e3*t:n.countdownMs,!n.lastCountdownTimeMs&&!n.isAnimationPaused)){n.lastCountdownTimeMs=n._lastCountdownTimeMsX0=performance.now(),n.rafId=1,n._runnerAE&&console.warn("Error in .startCountdown; cnt._runnerAE already created."),n.detlaSincePausedSecs=0;n._makeAnimator()||console.warn("Error in startCountdown._makeAnimator()"),me&&!0!==n.isAnimationPaused&&n.__ENABLE_VIDEO_PROGRESS_STATE_FIX_AND_URT_PASSED__&&(n.playerProgressSec=de>0?de:0,n.isAnimationPaused=!0,n.detlaSincePausedSecs=0,n._forceNoDetlaSincePausedSecs783=1,A=A||new b,A.then((()=>{const e=Y(this);e&&e.hostElement&&o===e.__ticker_attachmentId__&&!0===e.isAttached&&e.countdownDurationMs>0&&!0===e.isAnimationPaused&&!0!==e.isReplayPaused&&(e.isAnimationPaused=!1)})))}}catch(e){console.warn(e)}},startCountdownForTimerFnModT:function(e,t){try{const n=Y(this);if(!n)return;if(!n.hostElement)return;if(!n.__ticker_attachmentId__)return;if(n._r782)return;if(!1===n.isAttached&&!1===((n.$||0).container||0).isConnected)return void n._throwOut();n.boundUpdateTimeout37_||(n.boundUpdateTimeout37_=n.updateTimeout.bind(j(n))),t=void 0===t?0:t,void 0!==e&&(n.countdownMs=1e3*e,n.countdownDurationMs=t?1e3*t:n.countdownMs,n.ratio=1,n.lastCountdownTimeMs||n.isAnimationPaused||(n.lastCountdownTimeMs=n._lastCountdownTimeMsX0=performance.now(),n.rafId=Le.request(n.boundUpdateTimeout37_)))}catch(e){console.warn(e)}},updateTimeoutForTimerFnModA:function(e){try{const t=Y(this);if(!t)return;if(!t.hostElement)return;if(!t.__ticker_attachmentId__)return;if(t._r782)return;if(!1===t.isAttached&&!1===((t.$||0).container||0).isConnected)return void t._throwOut();if(t._runnerAE||console.warn("Error in .updateTimeout; cnt._runnerAE is undefined"),t.lastCountdownTimeMs!==t._lastCountdownTimeMsX0&&(t.countdownMs=Math.max(0,t.countdownMs-(e-(t.lastCountdownTimeMs||0)))),t.countdownMs>t.countdownDurationMs&&(t.countdownMs=t.countdownDurationMs),t.isAttached&&t.countdownMs){t.lastCountdownTimeMs=e;t._makeAnimator()||console.warn("Error in startCountdown._makeAnimator()")}else t.lastCountdownTimeMs=t._lastCountdownTimeMsX0=null,t.isAttached&&("auto"===t.hostElement.style.width&&t.setContainerWidth(),t.slideDown())}catch(e){console.warn(e)}},updateTimeoutForTimerFnModT:function(e){try{const t=Y(this);if(!t)return;if(!t.hostElement)return;if(!t.__ticker_attachmentId__)return;if(t._r782)return;if(!1===t.isAttached&&!1===((t.$||0).container||0).isConnected)return void t._throwOut();t.boundUpdateTimeout37_||(t.boundUpdateTimeout37_=t.updateTimeout.bind(j(t))),t.lastCountdownTimeMs!==t._lastCountdownTimeMsX0&&(t.countdownMs=Math.max(0,t.countdownMs-(e-(t.lastCountdownTimeMs||0)))),t.ratio=t.countdownMs/t.countdownDurationMs,t.isAttached&&t.countdownMs?(t.lastCountdownTimeMs=e,t.rafId=Le.request(t.boundUpdateTimeout37_)):(t.lastCountdownTimeMs=t._lastCountdownTimeMsX0=null,t.isAttached&&("auto"===t.hostElement.style.width&&t.setContainerWidth(),t.slideDown()))}catch(e){console.warn(e)}},isAnimationPausedChangedForTimerFnModA:function(e,t){const n=Y(this);if(!n)return;if(!n.hostElement)return;const o=n.__ticker_attachmentId__;if(!o)return;if(n._r782)return;if(!1===n.isAttached&&!1===((n.$||0).container||0).isConnected)return void n._throwOut();let i=n._forceNoDetlaSincePausedSecs783;n._forceNoDetlaSincePausedSecs783=0,c.resolve(n).then((n=>{if(o===n.__ticker_attachmentId__){if(e){if(n._runnerAE&&"running"===n._runnerAE.playState){n._runnerAE.pause();let e=window.performance.now();n.countdownMs=Math.max(0,n.countdownMs-(e-n.lastCountdownTimeMs)),n.countdownMs>n.countdownDurationMs&&(n.countdownMs=n.countdownDurationMs),n.lastCountdownTimeMs=n._lastCountdownTimeMsX0=e}}else!e&&t&&(i&&(n.detlaSincePausedSecs=0),e=n.detlaSincePausedSecs?(n.lastCountdownTimeMs||0)+1e3*n.detlaSincePausedSecs:n.lastCountdownTimeMs||0,n.detlaSincePausedSecs=0,n.updateTimeout(e),n.lastCountdownTimeMs=n._lastCountdownTimeMsX0=window.performance.now());n=null}})).catch((e=>{console.log(e)}))},isAnimationPausedChangedForTimerFnModT:function(e,t){const n=Y(this);if(!n)return;if(!n.hostElement)return;const o=n.__ticker_attachmentId__;if(!o)return;if(n._r782)return;if(!1===n.isAttached&&!1===((n.$||0).container||0).isConnected)return void n._throwOut();n._forceNoDetlaSincePausedSecs783;n._forceNoDetlaSincePausedSecs783=0,c.resolve(n).then((n=>{o===n.__ticker_attachmentId__&&(n.boundUpdateTimeout37_||(n.boundUpdateTimeout37_=n.updateTimeout.bind(j(n))),e?Le.cancel(n.rafId):!e&&t&&(e=n.lastCountdownTimeMs||0,n.detlaSincePausedSecs&&(e=(n.lastCountdownTimeMs||0)+1e3*n.detlaSincePausedSecs,n.detlaSincePausedSecs=0),n.boundUpdateTimeout37_(e),n.lastCountdownTimeMs=n._lastCountdownTimeMsX0=window.performance.now()),n=null)})).catch((e=>{console.log(e)}))},setContainerWidthNoSelfLeakage:function(){try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.setContainerWidth55.call(this.__proxySelf0__)}catch(e){console.log("setContainerWidthNoSelfLeakage ERROR"),console.error(e)}},slideDownNoSelfLeakage:function(){try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.slideDown55.call(this.__proxySelf0__)}catch(e){console.log("slideDownNoSelfLeakage ERROR"),console.error(e)}},collapseNoSelfLeakage:function(){try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.collapse55.call(this.__proxySelf0__)}catch(e){console.log("collapseNoSelfLeakage ERROR"),console.error(e)}},deletedChangedNoSelfLeakage:function(){try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.deletedChanged55.call(this.__proxySelf0__)}catch(e){console.log("deletedChangedNoSelfLeakage ERROR"),console.error(e)}},computeContainerStyleForAnimatorEnabled:function(n,o){if(this._r782)return;if(this.__ticker_attachmentId__){if(!1!==this.isAttached||!1!==((this.$||0).container||0).isConnected)return e||(e=t());this._throwOut()}},handlePauseReplayForPlaybackProgressState:function(){if(!pe)return this.handlePauseReplay66.apply(this,arguments);const e=this.__ticker_attachmentId__;if(!e)return;const t=j(this);if(S){this.rtu>1e9&&(this.rtu=this.rtu%1e4);const n=++this.rtu;S.then((()=>{const o=Y(t);e===o.__ticker_attachmentId__&&o.isAttached&&n===o.rtu&&!S&&"function"==typeof o.handlePauseReplay&&o.hostElement&&o.handlePauseReplay.apply(o,arguments)}))}else if(2===ce&&this.isAttached){this.rtk>1e9&&(this.rtk=this.rtk%1e4);const n=++this.rtk,o=ue;ae().then((()=>{const i=Y(t);e===i.__ticker_attachmentId__&&i.isAttached&&n===i.rtk&&o===ue&&2===ce&&he===ce&&i.hostElement&&i.handlePauseReplay66()}))}},handleResumeReplayForPlaybackProgressState:function(){if(!pe)return this.handleResumeReplay66.apply(this,arguments);const e=this.__ticker_attachmentId__;if(!e)return;const t=j(this);if(S){this.rtv>1e9&&(this.rtv=this.rtv%1e4);const n=++this.rtv;S.then((()=>{const o=Y(t);e===o.__ticker_attachmentId__&&n===o.rtv&&!S&&"function"==typeof o.handleResumeReplay&&o.hostElement&&o.handleResumeReplay.apply(o,arguments)}))}else if(1===ce&&this.isAttached){const n=ue;A=A||new b,A.then((()=>{const o=Y(t);e===o.__ticker_attachmentId__&&ue>n&&1===ce&&he===ce&&o.hostElement&&o.handleResumeReplay66()}))}},handleReplayProgressForPlaybackProgressState:function(e){if(this.isAttached){const t=this.__ticker_attachmentId__;if(!t)return;const n=++this.rtk,o=j(Y(this));ae().then((()=>{const i=Y(o);t===i.__ticker_attachmentId__&&i.isAttached&&n===i.rtk&&i.hostElement&&i.handleReplayProgress66(e)}))}}};for(const e of T){const t=document.createElement(e),n=F(t);if(!n||!n.attached){console.warn(`proto.attached for ${e} is unavailable.`);continue}"function"!=typeof n.detached582MemoryLeak&&"function"==typeof n.detached&&(n.detached582MemoryLeak=n.detached,n.detached=s.detachedForMemoryLeakage),n.detached77=n.detached,n.detached=s.detachedForTickerInit,n.attached77=n.attached,n.attached=s.attachedForTickerInit;let i=0;"function"!=typeof n.updateStatsBarAndMaybeShowAnimation||n.updateStatsBarAndMaybeShowAnimation38||3!==n.updateStatsBarAndMaybeShowAnimation.length||(n.updateStatsBarAndMaybeShowAnimation38=n.updateStatsBarAndMaybeShowAnimation,n.updateStatsBarAndMaybeShowAnimation=s.updateStatsBarAndMaybeShowAnimationRevised,i|=2);let r=0;if("function"==typeof n.startCountdown&&"function"==typeof n.updateTimeout&&"function"==typeof n.isAnimationPausedChanged){const e=O(n.startCountdown,"2.66.37")&&O(n.updateTimeout,"1.76.45")&&O(n.isAnimationPausedChanged,"2.56.30");e||console.log("isTimingFunctionHackable = false"),r=e?2:1}else{let t=0;"function"==typeof n.startCountdown&&(t|=1),"function"==typeof n.updateTimeout&&(t|=2),"function"==typeof n.isAnimationPausedChanged&&(t|=4),console.log(`Skip Timing Function Modification: ${t} / 7`,` ${e}`)}let a=0;if("function"!=typeof n.handlePauseReplay||n.handlePauseReplay66||0!==n.handlePauseReplay.length)r>0&&console.log("Error for setting cProto.handlePauseReplay",e);else{const e=O(n.handlePauseReplay);a++,"0.8.2"===e||"0.12.4"===e||D((()=>O(n.handlePauseReplay,"0.12.4")))}"function"!=typeof n.handleResumeReplay||n.handleResumeReplay66||0!==n.handleResumeReplay.length?r>0&&console.log("Error for setting cProto.handleResumeReplay",e):(a++,D((()=>O(n.handleResumeReplay,"0.8.2")))),"function"!=typeof n.handleReplayProgress||n.handleReplayProgress66||1!==n.handleReplayProgress.length?r>0&&console.log("Error for setting cProto.handleReplayProgress",e):(a++,D((()=>O(n.handleReplayProgress,"1.16.13"))));const l=3===a&&!0;if(n.__ENABLE_VIDEO_PROGRESS_STATE_FIX_AND_URT_PASSED__=l,l&&(n.rtk=0,n.rtu=0,n.rtv=0,n.handlePauseReplay66=n.handlePauseReplay,n.handlePauseReplay=s.handlePauseReplayForPlaybackProgressState,n.handleResumeReplay66=n.handleResumeReplay,n.handleResumeReplay=s.handleResumeReplayForPlaybackProgressState,n.handleReplayProgress66=n.handleReplayProgress,n.handleReplayProgress=s.handleReplayProgressForPlaybackProgressState),"function"!=typeof n.setContainerWidth||n.setContainerWidth55||0!==n.setContainerWidth.length||(n.setContainerWidth55=n.setContainerWidth,n.setContainerWidth=s.setContainerWidthNoSelfLeakage,i|=4),"function"!=typeof n.slideDown||n.slideDown55||0!==n.slideDown.length||(n.slideDown55=n.slideDown,n.slideDown=s.slideDownNoSelfLeakage,i|=8),"function"!=typeof n.collapse||n.collapse55||0!==n.collapse.length||(n.collapse55=n.collapse,n.collapse=s.collapseNoSelfLeakage,i|=16),"function"!=typeof n.deletedChanged||n.deletedChanged55||0!==n.deletedChanged.length||(n.deletedChanged55=n.deletedChanged,n.deletedChanged=s.deletedChangedNoSelfLeakage,i|=32),console.log(`FIX_MEMORY_LEAKAGE_TICKER_: ${i} / 63`,n.is),r>0){const t=2&r;let a=!1,l=0;null!==Le&&(l=1,l=t?2:4),a=!1;const c=a;n._throwOut=s._throwOut,n._makeAnimator=c?s._makeAnimator:null,n._aeFinished=c?s._aeFinished:null;const h=2===l,d=h||c;if(d&&(c&&o<0&&(o=0,window.addEventListener("visibilitychange",(()=>{o="visible"===document.visibilityState?Date.now():0}),!1)),n.startCountdown=c?s.startCountdownForTimerFnModA:s.startCountdownForTimerFnModT,n.updateTimeout=c?s.updateTimeoutForTimerFnModA:s.updateTimeoutForTimerFnModT,n.isAnimationPausedChanged=c?s.isAnimationPausedChangedForTimerFnModA:s.isAnimationPausedChangedForTimerFnModT,i|=1),c){const e=O(n.computeContainerStyle);"2.46.29"===e||"2.44.29"===e||"2.81.31"===e||D((()=>O(n.computeContainerStyle,"2.46.29"))),n.computeContainerStyle66=n.computeContainerStyle,n.computeContainerStyle=s.computeContainerStyleForAnimatorEnabled}!0===d&&(L=!0),c||2!==l&&4!==l||console.log("RAF_HACK_TICKERS",e,h?"OK":"NG")}}const r=m.join(", "),a=document.querySelectorAll(r);if(a.length>=1)for(const e of a)!0===x(e).isAttached&&p(e);console.log("[End]"),console.groupEnd()})).catch(console.warn);{const e={dataChanged54500:function(){if("function"!=typeof(this.ytLiveChatTickerItemBehavior||0).setContainerWidth)return this.dataChanged544();try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.dataChanged544.call(this.__proxySelf0__)}catch(e){console.log("dataChanged54500 ERROR"),console.error(e)}},dataChanged54501:function(e){if("function"!=typeof(this.ytLiveChatTickerItemBehavior||0).setContainerWidth)return this.dataChanged544(e);try{return this.__proxySelf0__||(this.__proxySelf0__=h(this)),this.dataChanged544.call(this.__proxySelf0__,e)}catch(e){console.log("dataChanged54501 ERROR"),console.error(e)}}};for(const t of["yt-live-chat-ticker-sponsor-item-renderer","yt-live-chat-ticker-paid-sticker-item-renderer"].map((e=>[e,customElements.whenDefined(e)]))){const[n,o]=t;o.then((()=>{const t=document.createElement(n),o=F(t);o&&o.attached?o.dataChanged&&!o.dataChanged544&&"function"==typeof o.dataChanged&&o.dataChanged.length>=0&&o.dataChanged.length<=1&&(o.dataChanged544=o.dataChanged,0===o.dataChanged.length?o.dataChanged=e.dataChanged54500:1===o.dataChanged.length&&(o.dataChanged=e.dataChanged54501)):console.warn(`proto.attached for ${n} is unavailable.`)}))}}customElements.whenDefined("yt-live-chat-ticker-renderer").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-ticker-renderer hacks"),console.log("[Begin]"),(()=>{const e="yt-live-chat-ticker-renderer",t=document.createElement(e),o=F(t);if(!o||!o.attached)return void console.warn(`proto.attached for ${e} is unavailable.`);console.log("do_amend_ticker_handleLiveChatAction",O(o.handleLiveChatAction),O(o.handleLiveChatActions)),console.log("AMEND_TICKER_handleLiveChatAction - NG");if("function"==typeof o.handleLiveChatAction&&!o.handleLiveChatAction45&&1===o.handleLiveChatAction.length&&"function"==typeof o.handleLiveChatActions&&!o.handleLiveChatActions45&&1===o.handleLiveChatActions.length&&"function"==typeof o.unshift&&1===o.unshift.length&&"function"==typeof o.handleMarkChatItemAsDeletedAction&&1===o.handleMarkChatItemAsDeletedAction.length&&"function"==typeof o.removeTickerItemById&&1===o.removeTickerItemById.length&&"function"==typeof o.handleMarkChatItemsByAuthorAsDeletedAction&&1===o.handleMarkChatItemsByAuthorAsDeletedAction.length&&"function"==typeof o.handleRemoveChatItemByAuthorAction&&1===o.handleRemoveChatItemByAuthorAction.length){const e=new Array(1);e.forEach=()=>{},e.push=(...e)=>1+e.length,e.pop=()=>{},e.shift=()=>{},e.unshift=()=>{},e.splice=()=>[],o.handleLiveChatActionsArr0=e,o.handleLiveChatActions58=o.handleLiveChatActions,o.xGqq4mo=null,o.xGqq4Flg=0,o.xGqq4moPreparePromise=null,o.xGqq4f=function(){2===this.xGqq4Flg&&(this.xGqq4Flg=0,E((async()=>{await this.xGqq4moPreparePromise;const e=this.handleLiveChatActionsArr0;try{this.handleLiveChatActions58(e)}catch(e){console.warn(e)}})))};const t=new WeakSet;let n=null;const i=new WeakSet;o.handleLiveChatActions=function(e){if(!e||!e.length)return this.handleLiveChatActions58(e);{let o=this.xGqq4mo;const s=this.hostElement;if(s instanceof HTMLElement&&(null===o||o instanceof MutationObserver&&this.xGqq4p!==s.xGqq4q)){o instanceof MutationObserver&&(o.disconnect(),o.takeRecords()),this.xGqq4mo=o=new MutationObserver((()=>{this.xGqq4f()}));const e=`dm-${Date.now()}-${Math.floor(314159265359*Math.random()+314159265359).toString(36)}`;this.xGqq4p=e,s.xGqq4q=e,o.observe(s,{subtree:!0,childList:!0})}for(const n of e)n&&t.add(n);const r=this.xGqq4moPreparePromise||null;this.xGqq4moPreparePromise=(async()=>{try{await r,n=null,e.forEach(this.handleLiveChatAction,this),n&&i.add(n)}catch(e){console.warn(e)}})()}};const s=(e,t)=>{if("object"==typeof(e||0))for(const n of Object.keys(e))if(t.has(n))return n;return null};o.lcuJB=function(){this.ddnB8=1;let e=new Set;const t=new Proxy({},{get(t,n){e.add(n)},set:(e,t,n)=>!0});return this.handleLiveChatAction(t),this.ddnB8=0,e.size>0?e:null},o.ddnB8=0,o.handleLiveChatAction58=o.handleLiveChatAction,o.liveChatActionFilterKeys=null,o.handleLiveChatActionTM=new w(24);const r=Date.now()-1e5;o.handleLiveChatAction=function(e){if(this.ddnB8)return this.handleLiveChatAction58(e);const o=e&&t.delete(e);let a=this.liveChatActionFilterKeys;if(null===a){const e=this.lcuJB();this.liveChatActionFilterKeys=a=e||!1}if(!a)return _||console.error(_="************************ [YouTube Super Fast Chat] TickerRenderer:handleLiveChatAction keySet not found; ERR 0xF3D0 ************************"),this.handleLiveChatAction58(e);const l=s(e,a);if(!l)return this.handleLiveChatAction58(e);const c=(e[l]||0).item||0,h=c?y(c):null,d=h?c[h]:null;if(d&&d.id){if("string"==typeof(d.id||0)){const e=this.handleLiveChatActionTM;if(e){const t=`${d.authorExternalChannelId}::${d.id}`,n=e.get(t),o=Date.now()-r;if(e.removeSet(t,o),n>0&&o-n<2400)return void console.log("handleLiveChatAction Repeated Item OK",d.id,d);n&&console.log("handleLiveChatAction Repeated Item NG",t,o,n,d.id,d)}}}o&&(n=e),this.handleLiveChatAction_LastPromise=E((async()=>{await this.xGqq4moPreparePromise;i.delete(e)&&(this.xGqq4Flg=2),this.handleLiveChatAction58(e),await(async()=>{null===ie?(ie=new b,window.postMessage("xoIcj"),await ie.then(),ie=null):await ie.then()})()}))}}if("function"!=typeof o.keepScrollClamped||o.keepScrollClamped72||"0.17.10"!==O(o.keepScrollClamped)?(D((()=>O(o.keepScrollClamped,"0.17.10"))),console.log("RAF_FIX: keepScrollClamped",e,"NG")):(o.keepScrollClamped72=o.keepScrollClamped,o.keepScrollClamped=function(){const e=Y(this);e&&e.hostElement&&(e._bound_keepScrollClamped=e._bound_keepScrollClamped||e.keepScrollClamped.bind(j(e)),e.scrollClampRaf=n(e._bound_keepScrollClamped),e.maybeClampScroll())},console.log("RAF_FIX: keepScrollClamped",e,"OK")),"function"==typeof o.startScrolling&&"function"==typeof o.scrollIncrementally&&"1.43.31"===O(o.startScrolling)&&"|1.78.45|1.82.43|".indexOf("|"+O(o.scrollIncrementally)+"|")>=0?(o.startScrolling=function(e){const t=Y(this);t&&t.hostElement&&(t.scrollStopHandle&&t.cancelAsync(t.scrollStopHandle),t.asyncHandle&&a(t.asyncHandle),t.lastFrameTimestamp=t.scrollStartTime=performance.now(),t.scrollRatePixelsPerSecond=e,t._bound_scrollIncrementally=t._bound_scrollIncrementally||t.scrollIncrementally.bind(j(t)),t.asyncHandle=n(t._bound_scrollIncrementally))},o.__getTickerBarQuery__=function(){return"#items"===this.tickerBarQuery?this.$.items:this.hostElement.querySelector(this.tickerBarQuery)},o.scrollIncrementally=function(e){const t=Y(this);if(!t)return;if(!t.hostElement)return;const o=e-(t.lastFrameTimestamp||0),i=t.scrollRatePixelsPerSecond,s=o/1e3*(i||0),r=t.__getTickerBarQuery__(),a=r.scrollLeft;if(t.lastFrameTimestamp==t.scrollStartTime);else if(s>-1e-5&&s<1e-5);else{(a>0&&i>0&&s>0||a>0&&i<0&&s<0||a<1e-5&&a>-1e-5&&i>0&&s>0)&&(r.scrollLeft+=s,t.maybeClampScroll(),t.updateArrows())}t.lastFrameTimestamp=e,t._bound_scrollIncrementally=t._bound_scrollIncrementally||t.scrollIncrementally.bind(j(t)),0<r.scrollLeft||i&&0<i?t.asyncHandle=n(t._bound_scrollIncrementally):t.stopScrolling()},console.log("RAF_FIX: scrollIncrementally2",e,"OK")):(D((()=>O(o.startScrolling,"1.43.31"))),D((()=>O(o.scrollIncrementally,"1.82.43"))),console.log("cProto.startScrolling",o.startScrolling),console.log("cProto.scrollIncrementally",o.scrollIncrementally),console.log("RAF_FIX: scrollIncrementally",e,"NG")),"function"!=typeof o.attached||o.attached37||"function"!=typeof o.detached||o.detached37)console.log("CLOSE_TICKER_PINNED_MESSAGE_WHEN_HEADER_CLICKED - NG");else{o.attached37=o.attached,o.detached37=o.detached;let e=0;o.__naohzId__=0,o.attached=function(){return c.resolve(this).then((t=>{const n=t.hostElement||t;if(!(n instanceof HTMLElement))return;if(!HTMLElement.prototype.matches.call(n,".yt-live-chat-renderer"))return;const o=HTMLElement.prototype.closest.call(n,"iron-pages.yt-live-chat-renderer");o&&(t.__naohzId__&&g.call(o,"click",t.messageBoxClickHandlerForFade,{capture:!1,passive:!0}),e>1e9&&(e%=1e4),t.__naohzId__=++e,o.setAttribute("naohz",""+ +t.__naohzId__),f.call(o,"click",t.messageBoxClickHandlerForFade,{capture:!1,passive:!0}),t=null)})),this.attached37.apply(this,arguments)},o.detached=function(){return c.resolve(this).then((e=>{const t=document.querySelector(`iron-pages[naohz="${+e.__naohzId__}"]`);t&&(g.call(t,"click",e.messageBoxClickHandlerForFade,{capture:!1,passive:!0}),e=null)})),this.detached37.apply(this,arguments)};const t=e=>{e.click()};o.messageBoxClickHandlerForFade=async e=>{const n=(e||0).target||0;if(n)for(let o=n;o instanceof HTMLElement;o=q(o)){const n=o.is;if("string"==typeof n&&n){if("yt-live-chat-pinned-message-renderer"===n)return;if("iron-pages"===n||"yt-live-chat-renderer"===n||"yt-live-chat-app"===n){const n=HTMLElement.prototype.querySelector.call(o,"yt-live-chat-pinned-message-renderer:not([hidden]) #fade");return void(n&&(c.resolve(n).then(t),e&&e.stopPropagation()))}if("yt-live-chat-ticker-renderer"!==n){if(n.startsWith("yt-live-chat-ticker-"))return;if(!n.endsWith("-renderer"))return}}else if((o.nodeName||"").includes("BUTTON"))return}},console.log("CLOSE_TICKER_PINNED_MESSAGE_WHEN_HEADER_CLICKED - OK")}})(),console.log("[End]"),console.groupEnd()})).catch(console.warn),customElements.whenDefined("yt-live-chat-message-input-renderer").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-message-input-renderer hacks"),console.log("[Begin]"),(()=>{const e="yt-live-chat-message-input-renderer",t=document.createElement(e),n=F(t);if(n&&n.attached){if(null!==Le){let t=!1;"function"==typeof n.handleTimeout&&"function"==typeof n.updateTimeout&&(t=O(n.handleTimeout,"1.27.16")&&O(n.updateTimeout,"1.50.33"),t||console.log("doHack = false")),t?(n.handleTimeout=function(t){const n=Y(this);n&&n.hostElement&&(console.log("cProto.handleTimeout",e),n.boundUpdateTimeout38_||(n.boundUpdateTimeout38_=n.updateTimeout.bind(j(n))),n.timeoutDurationMs=n.timeoutMs=t,n.countdownRatio=1,0===n.lastTimeoutTimeMs&&Le.request(n.boundUpdateTimeout38_))},n.updateTimeout=function(t){const n=Y(this);n&&n.hostElement&&(console.log("cProto.updateTimeout",e),n.boundUpdateTimeout38_||(n.boundUpdateTimeout38_=n.updateTimeout.bind(j(n))),n.lastTimeoutTimeMs&&(n.timeoutMs=Math.max(0,n.timeoutMs-(t-n.lastTimeoutTimeMs)),n.countdownRatio=n.timeoutMs/n.timeoutDurationMs),n.isAttached&&n.timeoutMs?(n.lastTimeoutTimeMs=t,Le.request(n.boundUpdateTimeout38_)):n.lastTimeoutTimeMs=0)},console.log("RAF_HACK_INPUT_RENDERER",e,"OK")):(console.log("typeof handleTimeout",typeof n.handleTimeout),console.log("typeof updateTimeout",typeof n.updateTimeout),console.log("RAF_HACK_INPUT_RENDERER",e,"NG"))}"function"!=typeof n.onFocusedChanged||1!==n.onFocusedChanged.length||n.onFocusedChanged372||(n.onFocusedChanged372=n.onFocusedChanged,n.onFocusedChanged=function(e){c.resolve(this).then((t=>{!0===t.isAttached&&t.onFocusedChanged372(e),t=null})).catch(console.warn)})}else console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})),null!==Le&&customElements.whenDefined("yt-emoji-picker-renderer").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-emoji-picker-renderer hacks"),console.log("[Begin]"),(()=>{const e="yt-emoji-picker-renderer",t=document.createElement(e),n=F(t);if(!n||!n.attached)return void console.warn(`proto.attached for ${e} is unavailable.`);let o=!1;if("function"==typeof n.animateScroll_&&(console.log("animateScroll_",typeof n.animateScroll_),o=O(n.animateScroll_,"1.102.49")),o){const t=HTMLElement.prototype.querySelector,o=e=>({querySelector:n=>t.call(e,n)});n.animateScroll_=function(e){const t=Y(this);t&&t.hostElement&&(t.boundAnimateScroll39_||(t.boundAnimateScroll39_=t.animateScroll_.bind(j(t))),t.lastAnimationTime_||(t.lastAnimationTime_=e),200>(e-=t.lastAnimationTime_)?(o(t.hostElement).querySelector("#categories").scrollTop=t.animationStart_+(t.animationEnd_-t.animationStart_)*e/200,Le.request(t.boundAnimateScroll39_)):(null!=t.animationEnd_&&(o(t.hostElement).querySelector("#categories").scrollTop=t.animationEnd_),t.animationEnd_=t.animationStart_=null,t.lastAnimationTime_=0),t.updateButtons_())},console.log("ENABLE_RAF_HACK_EMOJI_PICKER",e,"OK")}else console.log("ENABLE_RAF_HACK_EMOJI_PICKER",e,"NG")})(),console.log("[End]"),console.groupEnd()})),null!==Le&&customElements.whenDefined("yt-live-chat-docked-message").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-docked-message hacks"),console.log("[Begin]"),(()=>{const e="yt-live-chat-docked-message",t=document.createElement(e),n=F(t);if(!n||!n.attached)return void console.warn(`proto.attached for ${e} is unavailable.`);let o=!1;"function"==typeof n.detached&&"function"==typeof n.checkIntersections&&"function"==typeof n.onDockableMessagesChanged&&void 0===n.boundCheckIntersections&&(console.log("detached",typeof n.detached),console.log("checkIntersections",typeof n.checkIntersections),console.log("onDockableMessagesChanged",typeof n.onDockableMessagesChanged),o=O(n.detached,"0.32.22")&&O(n.checkIntersections,"0.128.85")&&O(n.onDockableMessagesChanged,"0.20.11")),o?(n.__boundCheckIntersectionsSubstitutionFn__=function(){const e=this;e.i5zmk||"function"!=typeof e.boundCheckIntersections||"function"!=typeof e.checkIntersections||(e.i5zmk=1,e.boundCheckIntersections=e.checkIntersections.bind(j(e)))},n.checkIntersections=function(){const e=Y(this);if(e&&e.hostElement)if("function"==typeof e.__boundCheckIntersectionsSubstitutionFn__&&e.__boundCheckIntersectionsSubstitutionFn__(),e.dockableMessages.length){e.intersectRAF=Le.request(e.boundCheckIntersections);let t=e.dockableMessages[0],n=e.hostElement.getBoundingClientRect();t=t.getBoundingClientRect();let o=t.top-n.top,i=8>=o;if(o=8>=o-e.hostElement.clientHeight,i){let s;for(;i&&(s=e.dockableMessages.shift(),i=e.dockableMessages[0],i);){i=i.getBoundingClientRect(),o=i.top-n.top;let e=8>=o;if(8>=o-t.height){if(!e)return;t=i}i=e}e.dock(s)}else o&&e.dockedItem&&e.clear()}else e.intersectRAF=0},n.onDockableMessagesChanged=function(){const e=this;"function"==typeof e.__boundCheckIntersectionsSubstitutionFn__&&e.__boundCheckIntersectionsSubstitutionFn__(),e.dockableMessages.length&&!e.intersectRAF&&(e.intersectRAF=Le.request(e.boundCheckIntersections))},n.detached=function(){this.intersectRAF&&Le.cancel(this.intersectRAF)},console.log("ENABLE_RAF_HACK_DOCKED_MESSAGE",e,"OK")):console.log("ENABLE_RAF_HACK_DOCKED_MESSAGE",e,"NG")})(),console.log("[End]"),console.groupEnd()})).catch(console.warn),customElements.whenDefined("yt-img-shadow").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-img-shadow hacks"),console.log("[Begin]"),(()=>{const e="yt-img-shadow",t=document.createElement(e),n=F(t);n&&n.attached?("function"!=typeof n.thumbnailChanged_||n.thumbnailChanged66_?console.log("cProto.thumbnailChanged_ - NG"):(n.thumbnailChanged66_=n.thumbnailChanged_,n.thumbnailChanged_=function(e){if((!this.oldThumbnail_||!this.thumbnail||this.oldThumbnail_.thumbnails!==this.thumbnail.thumbnails)&&(this.oldThumbnail_||this.thumbnail))return this.thumbnailChanged66_.apply(this,arguments)},console.log("cProto.thumbnailChanged_ - OK")),"function"!=typeof n.setSrc_||n.setSrc66_?console.log("cProto.setSrc_ - NG"):(n.setSrc66_=n.setSrc_,n.setSrc_=function(e){if((((this||0).$||0).img||0).src!==e)return this.setSrc66_.apply(this,arguments)},console.log("cProto.setSrc_ - OK"))):console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})).catch(console.warn),customElements.whenDefined("yt-live-chat-author-badge-renderer").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-author-badge-renderer hacks"),console.log("[Begin]"),(()=>{const e="yt-live-chat-author-badge-renderer",t=document.createElement(e),n=F(t);n&&n.attached?"function"==typeof n.dataChanged&&!n.dataChanged86&&"|0.169.106|".includes(`|${O(n.dataChanged)}|`)?(n.dataChanged86=n.dataChanged,n.dataChanged=function(){const e=(this||0).data,t=((this||0).$||0).image;if(t&&e&&t.firstElementChild){const n=t.firstElementChild;if(n===t.lastElementChild){if(e.icon&&"YT-ICON"===n.nodeName.toUpperCase()){const t=n,o=x(t),i="icon"in o||"defaultToFilled"in o?o:t;if("MODERATOR"===e.icon.iconType&&this.enableNewModeratorBadge)"yt-sys-icons:shield-filled"!==i.icon&&(i.icon="yt-sys-icons:shield-filled"),!0!==i.defaultToFilled&&(i.defaultToFilled=!0);else{const t="live-chat-badges:"+e.icon.iconType.toLowerCase();i.icon!==t&&(i.icon=t),!1!==i.defaultToFilled&&(i.defaultToFilled=!1)}return}if(e.customThumbnail&&"IMG"==n.nodeName.toUpperCase()){const t=n;if(e.customThumbnail.thumbnails.map((e=>e.url)).includes(t.src))return void t.setAttribute("alt",this.hostElement.ariaLabel||"")}}}return this.dataChanged86.apply(this,arguments)},console.log("cProto.dataChanged - OK")):"function"==typeof n.dataChanged&&!n.dataChanged86&&"|1.163.100|1.162.100|1.160.97|1.159.97|".includes(`|${O(n.dataChanged)}|`)?(n.dataChanged86=n.dataChanged,n.dataChanged=function(e){const t=((this||0).$||0).image;if(t&&e&&t.firstElementChild){const n=t.firstElementChild;if(n===t.lastElementChild){if(e.icon&&"YT-ICON"===n.nodeName.toUpperCase()){const t=n,o=x(t),i="icon"in o||"defaultToFilled"in o?o:t;if("MODERATOR"===e.icon.iconType&&this.enableNewModeratorBadge)"yt-sys-icons:shield-filled"!==i.icon&&(i.icon="yt-sys-icons:shield-filled"),!0!==i.defaultToFilled&&(i.defaultToFilled=!0);else{const t="live-chat-badges:"+e.icon.iconType.toLowerCase();i.icon!==t&&(i.icon=t),!1!==i.defaultToFilled&&(i.defaultToFilled=!1)}return}if(e.customThumbnail&&"IMG"==n.nodeName.toUpperCase()){const t=n;if(e.customThumbnail.thumbnails.map((e=>e.url)).includes(t.src))return void t.setAttribute("alt",this.hostElement.ariaLabel||"")}}}return this.dataChanged86.apply(this,arguments)},console.log("cProto.dataChanged - OK")):(D((()=>O(n.dataChanged,"0.169.106"))),console.log("cProto.dataChanged - NG")):console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})).catch(console.warn);{const e=e=>e&&e.get&&!e.set&&e.enumerable&&e.configurable,n=new t,o={},i=function(){let t;if(void 0===n.get(this)){const i=document.createElement;let s=null;if(n.set(this,null),document.createElement=function(){let e=i.apply(this,arguments);return s=e,e},t=this.createTooltipIfRequired14_(),document.createElement=i,s instanceof HTMLElement&&s.is)if(n.set(this,s),s.setAttribute("__nogc__",""),"number"==typeof s.offset&&(o.offset=s.offset),"boolean"==typeof s.fitToVisibleBounds&&(o.fitToVisibleBounds=s.fitToVisibleBounds),"string"==typeof s.position&&(o.position=s.position),"string"==typeof s.for&&(o.for=s.for),"undefined"!=typeof Polymer&&Polymer.__fixedGetOwnerRoot__&&Polymer.__fixedQuerySelector__);else{let t=null;const n=x(s);e(Object.getOwnPropertyDescriptor(n.constructor.prototype||{},"target"))?t=n.constructor.prototype:e(Object.getOwnPropertyDescriptor(s.constructor.prototype||{},"target"))&&(t=s.constructor.prototype),t&&(delete t.target,Object.defineProperty(t,"target",{get(){let e=this.parentNode,t=this.getRootNode();return this.for?t.querySelector("#"+this.for):e}}))}else n.set(this,null)}else t=this.createTooltipIfRequired14_();const i=n.get(this);if(i){i.remove(),"number"==typeof o.offset&&(i.offset=o.offset),"boolean"==typeof o.fitToVisibleBounds&&(i.fitToVisibleBounds=o.fitToVisibleBounds);try{"string"==typeof o.position&&(i.position=o.position),"string"==typeof o.for?i.for=o.for:delete i.for}catch(e){}}return t};X().then((async e=>{const t=F(e);t&&t.attached?t&&"function"==typeof t.createTooltipIfRequired_&&0===t.createTooltipIfRequired_.length&&!t.createTooltipIfRequired14_&&(t.createTooltipIfRequired14_=t.createTooltipIfRequired_,t.createTooltipIfRequired_=i):console.warn("proto.attached for yt-live-chat-renderer is unavailable.")})),customElements.whenDefined("tp-yt-paper-tooltip").then((()=>{l(),z("YouTube Super Fast Chat"," | tp-yt-paper-tooltip hacks"),console.log("[Begin]"),(()=>{const e="tp-yt-paper-tooltip",t=document.createElement(e),n=F(t);n&&n.attached?("function"==typeof n.attached&&"function"==typeof n.detached&&n._readyClients&&n._attachDom&&n.ready&&!n._readyClients43?(n._readyClients43=n._readyClients,n._readyClients=function(){let e=n._readyClients43.apply(this,arguments);return this.$&&this.$$&&this.$.tooltip&&(this.root=null),e},console.log("_readyClients - OK")):console.log("_readyClients - NG"),"function"!=typeof n.show||n.show17?console.log("trim tooltip content - NG"):(n.show17=n.show,n.show=function(){let e=this.show17.apply(this,arguments);return!0===this._showing&&c.resolve(this).then((e=>{const t=(e.$||0).tooltip;if(t&&null===t.firstElementChild){let e=t.textContent;"string"==typeof e&&e.length>=2&&(t.textContent=e.trim())}e=null})).catch(console.warn),e},console.log("trim tooltip content - OK"))):console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})).catch(console.warn)}{const e=()=>{let e=0,t=null;const n={muHandler282:function(n){if(!n||!n.isTrusted||!e)return;const o=t;e=0,t=null;const i=Y(ye)||0,s=i.hostElement||i;if(!s.hasAttribute("menu-visible"))return;HTMLElement.prototype.closest.call(s,"yt-live-chat-banner-renderer")||0||o&&o.positionTarget&&s.contains(o.positionTarget)&&(e=Date.now(),n.stopImmediatePropagation(),n.stopPropagation(),c.resolve(o).then((e=>{e.cancel(),e=null})))},mlHandler282:function(n){e=0,t=null},ckHandler282:function(t){t&&t.isTrusted&&e&&Date.now()-e<40&&(e=Date.now(),t.stopImmediatePropagation(),t.stopPropagation())},tapHandler282:function(t){t&&t.isTrusted&&e&&Date.now()-e<40&&(e=Date.now(),t.stopImmediatePropagation(),t.stopPropagation())},handleEvent(e){if(e){const t=Y(ye)||0,n=x(t),o=n.hostElement||n;if(!n||!0!==n.isAttached||!0!==o.isConnected)return;switch(e.type){case"mouseup":return this.muHandler282(e);case"mouseleave":return this.mlHandler282(e);case"tap":return this.tapHandler282(e);case"click":return this.ckHandler282(e)}}}};document.addEventListener("mousedown",(function(o){if(!o||!o.isTrusted||!o.target)return;e=0,t=null;const i=Y(ye);if(!i)return;const s=HTMLElement.prototype.closest.call(i,"[menu-visible]")||0;if(!s||!s.hasAttribute("whole-message-clickable"))return;const r=x(s);if(!r.isClickableChatRow111||!r.isClickableChatRow111()||!HTMLElement.prototype.contains.call(s,o.target))return;if(HTMLElement.prototype.closest.call(s,"yt-live-chat-banner-renderer")||0)return;let a=null;for(const e of document.querySelectorAll("tp-yt-iron-dropdown.style-scope.yt-live-chat-app"))e&&e.positionTarget===i&&(a=e);if(a&&(t=a)){e=Date.now(),o.stopImmediatePropagation(),o.stopPropagation(),ye=j(s);const t={capture:!0,passive:!1,once:!0};document.removeEventListener("mouseup",n,t),document.removeEventListener("mouseleave",n,t),document.removeEventListener("tap",n,t),document.removeEventListener("click",n,t),document.addEventListener("mouseup",n,t),document.addEventListener("mouseleave",n,t),document.addEventListener("tap",n,t),document.addEventListener("click",n,t)}}),!0)};Be(["yt-live-chat-paid-message-renderer","yt-live-chat-membership-item-renderer","yt-live-chat-paid-sticker-renderer","yt-live-chat-text-message-renderer","yt-live-chat-auto-mod-message-renderer"]).then((t=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-message-renderer(s)... hacks"),console.log("[Begin]");let n=!1;const o=function(){return this.data&&"function"==typeof this.shouldSupportWholeItemClick&&"function"==typeof this.hasModerationOverlayVisible&&this.data.contextMenuEndpoint&&this.wholeMessageClickable&&this.shouldSupportWholeItemClick()&&!this.hasModerationOverlayVisible()};for(const e of t)(()=>{const t=e,i=document.createElement(t),s=F(i);if(!s||!s.attached)return void console.warn(`proto.attached for ${t} is unavailable.`);const r=x(i);if("wholeMessageClickable"in r&&"function"==typeof r.hasModerationOverlayVisible&&"function"==typeof r.shouldSupportWholeItemClick){s.isClickableChatRow111=o;"function"==typeof s.shouldSupportWholeItemClick&&"function"==typeof s.hasModerationOverlayVisible&&(n=!0),console.log("shouldSupportWholeItemClick Y",t)}else console.log("shouldSupportWholeItemClick N",t)})();n&&(e(),console.log("FIX_CLICKING_MESSAGE_MENU_DISPLAY_ON_MOUSE_CLICK - Doc MouseEvent OK")),console.log("[End]"),console.groupEnd()})).catch(console.warn)}{let e=null,t=null;document.addEventListener("mousedown",(n=>{if(!n||!n.isTrusted)return;let o=n.target;for(;o instanceof HTMLElement&&!o.is;o=o.parentNode);if(!o||!o.is)return;const i=x(o);if("function"==typeof i.onItemTap){i._onItemTap_isNonStationary=0;const s=F(o);s.onItemTap366||"function"!=typeof s.onItemTap||1!==s.onItemTap.length||(s.onItemTap366=s.onItemTap,s.onItemTap=function(e){const t=this._onItemTap_isNonStationary;if(this._onItemTap_isNonStationary=0,!(t>Date.now()))return this.onItemTap366.apply(this,arguments)}),t=n,e=j(i)}else t=null,e=null}),{capture:!0,passive:!0}),document.addEventListener("mouseup",(n=>{if(!n||!n.isTrusted)return;const o=t;if(t=null,!o)return;const i=Y(e);if(e=null,i)if(n.timeStamp-o.timeStamp>280)i._onItemTap_isNonStationary=Date.now()+40;else if((window.getSelection()+"").trim().replace(/[\u2000-\u200a\u202f\u2800\u200B\u200C\u200D\uFEFF]+/g,"").length>=1)i._onItemTap_isNonStationary=Date.now()+40;else{const e=n.clientX-o.clientX,t=n.clientY-o.clientY,s=Math.sqrt(e*e+t*t),r=s*window.devicePixelRatio*.26458333;i._onItemTap_isNonStationary=r>1?Date.now()+40:0}}),{capture:!0,passive:!0})}document.addEventListener("mousedown",(function(e){let t=0,n=0,o=(e||0).target||0;if(!o)return;for(;o instanceof HTMLElement&&!(++t>4)&&"string"!=typeof(o.is||x(o).is||null);)o=q(o);const s=[];for(;o instanceof HTMLElement&&!(++n>4);){const e=x(o);if("string"==typeof(o.is||e.is||null)&&s.push(o),"function"==typeof e.showContextMenu)break;o=o.parentComponent||e.parentComponent||null}if(!(o instanceof HTMLElement))return;const r=x(o);if("function"!=typeof r.handleGetContextMenuResponse_||"function"!=typeof r.handleGetContextMenuError)return void console.log("Error Found: handleGetContextMenuResponse_ OR handleGetContextMenuError is not defined on a component with showContextMenu");const a=(r.data||0).contextMenuEndpoint;if(!a)return;if(r.opened||!r.isAttached)return;"function"!=typeof r.__cacheResolvedEndpointData__&&console.log(`preRequest for showContextMenu in ${r.is} is not yet supported.`);const l=R(o);let h=!1;if((s.length>=2&&"menu-button"===s[0].id&&(l||0)["menu-button"]===s[0]||1===s.length&&s[0]===o||s.length>=2&&"author-photo"===s[0].id&&(l||0)["author-photo"]===s[0])&&(h=!0),!1===h)return void console.log("doPreRequest = fasle on showContextMenu",s);if("function"!=typeof r.__getCachedEndpointData__||r.__getCachedEndpointData__(a))return;if("function"==typeof r.__showContextMenu_mutex_unlock_isEmpty__&&!r.__showContextMenu_mutex_unlock_isEmpty__())return void console.log("preRequest on showContextMenu aborted due to stacked network request");if(h){let t=0;const n=function(){let e=null;const t=new c((t=>{e=t})),n=()=>{const t=e;t&&(e=null,t())};return{p1:t,p1unlock:n,assignLock:(e,o)=>{e.__showContextMenu_assign_lock__(t),o&&i(n,o)}}}(),o=800,s="__$$__proxy_to_this__$$__"+Date.now();try{const o=function(){n.p1unlock(),5===t?this[s]===r?(e=>{if(!(e=e.response||e))return void console.log("unexpected error in prerequest for showContextMenu.onSuccess");let t=null;e.liveChatItemContextMenuSupportedRenderers&&e.liveChatItemContextMenuSupportedRenderers.menuRenderer&&(t=e.liveChatItemContextMenuSupportedRenderers.menuRenderer),t&&(e=t,r.__cacheResolvedEndpointData__(a,e,!0))})(...arguments):console.log("Error in prerequest for showContextMenu.this"):console.log("Error in prerequest for showContextMenu.onSuccessHelperFn")},i=function(){n.p1unlock(),5===t?this[s]===r?(()=>{r.__cacheResolvedEndpointData__(a,null)})(...arguments):console.log("Error in prerequest for showContextMenu.this"):console.log("Error in prerequest for showContextMenu.onFailureHelperFn")},l=new Proxy({__showContextMenu_forceNativeRequest__:1,get handleGetContextMenuResponse_(){return t+=2,o},get handleGetContextMenuError(){return t+=3,i}},{get(e,t,n){if(t in e)return e[t];if(t===s)return r;let o=!1;return t in r&&("data"===t||"function"==typeof r[t])&&(o=!0),o?r[t]:void 0}}),c=(()=>{const{target:t,bubbles:n,cancelable:o,cancelBubble:i,srcElement:s,timeStamp:r,defaultPrevented:a,currentTarget:l,composed:c}=e,h=function(){},[d,u,p]=[h,h,h];return{type:"tap",eventPhase:0,isTrusted:!1,__composed:!0,bubbles:n,cancelable:o,cancelBubble:i,timeStamp:r,target:t,srcElement:s,defaultPrevented:a,currentTarget:l,composed:c,stopPropagation:d,stopImmediatePropagation:u,preventDefault:p}})();r.showContextMenu.call(l,c)}catch(e){console.warn(e),t=7}if(5!==t)return void console.log("Error in prerequest for showContextMenu",t);n.assignLock(r,o)}}),!0),Be(["yt-live-chat-ticker-sponsor-item-renderer","yt-live-chat-ticker-paid-message-item-renderer","yt-live-chat-banner-header-renderer","yt-live-chat-text-message-renderer","ytd-sponsorships-live-chat-gift-purchase-announcement-renderer","ytd-sponsorships-live-chat-header-renderer","ytd-sponsorships-live-chat-gift-redemption-announcement-renderer","yt-live-chat-paid-sticker-renderer","yt-live-chat-viewer-engagement-message-renderer","yt-live-chat-paid-message-renderer"]).then((e=>{l(),z("YouTube Super Fast Chat"," | fixShowContextMenu"),console.log("[Begin]");const n=new C;let o=null,s=null;const r=new t,a=(e,t,n)=>{t?(n&&(t=v(t)),r.set(e,t)):r.remove(e)},h=function(e){return(e=e||(this.data||0).contextMenuEndpoint||0)?r.get(e):null},d=function(e){e=v(e),c.resolve(e).then((e=>{this.__showContextMenu_skip_cacheResolvedEndpointData__=1,this.showContextMenu_(e),this.__showContextMenu_skip_cacheResolvedEndpointData__=0,e=null}))},u=function(e){if(this&&this.__showContextMenu_forceNativeRequest__)return this.showContextMenu37(e);if(this&&this.isAttached){if(!this.__showContextMenu_forceNativeRequest__){const t=(this.data||0).contextMenuEndpoint||0;if(t){const n=this.__getCachedEndpointData__(t);if(n)return this.__showCachedContextMenu__(n),void(e&&e.stopPropagation())}}return this.showContextMenu37(e)}},p=function(e){if(this&&this.__showContextMenu_forceNativeRequest__)return this.showContextMenu37_(e);if(this&&this.isAttached){if(!this.__showContextMenu_skip_cacheResolvedEndpointData__){const t=(this.data||0).contextMenuEndpoint||0;if(t){const n=this.__cacheResolvedEndpointData__;"function"==typeof n&&n(t,e,!0)}}return this.showContextMenu37_(e)}},m=()=>null===o,f=function(e){n.lockWith((t=>{e.then(t),e=null,t=null}))},_=function(e){if(this.__showContextMenu_forceNativeRequest__)return this.showContextMenu47(e);if(!this||!this.isAttached)return;s=this;const t=j(this);n.lockWith((n=>{const r=Y(t);if(s===r&&r){i(n,800),o=n;try{r.showContextMenu47(e)}catch(e){console.warn(e),n()}}else n()}))},y=function(e){return o&&this===s&&(o(),o=null),this.showContextMenu47_(e)};for(const t of e)(()=>{const e=document.createElement(t),n=F(e);n&&n.attached?("function"!=typeof n.showContextMenu||"function"!=typeof n.showContextMenu_||n.showContextMenu37||n.showContextMenu37_||1!==n.showContextMenu.length||1!==n.showContextMenu_.length?console.log("CACHE_SHOW_CONTEXT_MENU_FOR_REOPEN - NG",t):(n.showContextMenu37_=n.showContextMenu_,n.showContextMenu37=n.showContextMenu,n.__showContextMenu_forceNativeRequest__=0,n.__cacheResolvedEndpointData__=a,n.__getCachedEndpointData__=h,n.__showCachedContextMenu__=d,n.showContextMenu=u,n.showContextMenu_=p,console.log("CACHE_SHOW_CONTEXT_MENU_FOR_REOPEN - OK",t)),console.log("ADVANCED_NOT_ALLOW_SCROLL_FOR_SHOW_CONTEXT_MENU - N/A",t),"function"!=typeof n.showContextMenu||"function"!=typeof n.showContextMenu_||n.showContextMenu47||n.showContextMenu47_||1!==n.showContextMenu.length||1!==n.showContextMenu_.length?console.log("ENABLE_MUTEX_FOR_SHOW_CONTEXT_MENU - NG",t):(n.showContextMenu47_=n.showContextMenu_,n.showContextMenu47=n.showContextMenu,n.__showContextMenu_mutex_unlock_isEmpty__=m,n.__showContextMenu_assign_lock__=f,n.showContextMenu=_,n.showContextMenu_=y,console.log("ENABLE_MUTEX_FOR_SHOW_CONTEXT_MENU - OK",t))):console.warn(`proto.attached for ${t} is unavailable.`)})();console.log("[End]"),console.groupEnd()})).catch(console.warn),customElements.whenDefined("tp-yt-iron-dropdown").then((()=>{l(),z("YouTube Super Fast Chat"," | tp-yt-iron-dropdown hacks"),console.log("[Begin]"),(()=>{const e="tp-yt-iron-dropdown",o=document.createElement(e),s=F(o);if(s&&s.attached){if("function"!=typeof s.__deraf||2!==s.__deraf.length||s.__deraf34||"2.42.24"!==O(s.__deraf)?console.log("USE_VANILLA_DEREF - NG"):(s.__deraf_hn__=function(e,n){const o=`_rafHandler_${e}`,i=this[o]||(this[o]=new t);if(i.has(n))return i.get(n);const s=()=>{this.__rafs[e]=null,n.call(this)};return i.set(n,s),i.set(s,s),s},s.__deraf34=s.__deraf,s.__deraf=function(e,t){let o=this.__rafs;null!==o[e]&&a(o[e]),o[e]=n(this.__deraf_hn__(e,t))},console.log("USE_VANILLA_DEREF - OK")),"function"!=typeof s.__deraf||2!==s.__deraf.length||s.__deraf66?console.log("FIX_DROPDOWN_DERAF - NG"):(s.__deraf66=s.__deraf,s.__deraf=function(e,t){return this.__byPassRAF__&&c.resolve(this).then((e=>{t.call(e),e=null})),this.__deraf66.apply(this,arguments)},console.log("FIX_DROPDOWN_DERAF - OK")),"function"!=typeof s.__openedChanged||s.__mtChanged__||"0.46.20"!==O(s.__openedChanged))D((()=>O(s.__openedChanged,"0.46.20"))),console.log("FIX_MENU_REOPEN_RENDER_PERFORMANC_1 - NG");else{let e=null,t=null,o=0;s.__mtChanged__=function(e){c.resolve(this).then((e=>(e._applyFocus(),e))).then((t=>{e?t._renderOpened():t._renderClosed(),t=null})).catch(console.warn)};const r=()=>{o&&(o=0,t&&!e&&t.isAttached?t.__mtChanged__(1):e&&!t&&e.isAttached&&e.__mtChanged__(0),t=null,e=null)};"function"!=typeof s._openedChanged||s._openedChanged66||(s._openedChanged66=s._openedChanged,s._openedChanged=function(){this.__byPassRAF__=!0;let e=this._openedChanged66.apply(this,arguments);return this.__byPassRAF__=!1,e});const a=(e,t,n)=>({get:(t[e]||0).get||(n[e]||0).get,set:(t[e]||0).set||(n[e]||0).set});if(s.__modifiedMenuPropsFn__=function(){const e=Object.getOwnPropertyDescriptors(this.constructor.prototype),t=Object.getOwnPropertyDescriptors(this),n=a("autoFitOnAttach",e,t),o=a("expandSizingTargetForScrollbars",e,t),i=a("allowOutsideScroll",e,t);if(n.get||n.set)return void console.warn("there is setter/getter for autoFitOnAttach");if(o.get||o.set)return void console.warn("there is setter/getter for expandSizingTargetForScrollbars");if(!i.get||!i.set)return void console.warn("there is NO setter-getter for allowOutsideScroll");let{autoFitOnAttach:s,expandSizingTargetForScrollbars:r,allowOutsideScroll:l}=this;this.__AllowOutsideScrollPD__=i;Object.defineProperties(this,{autoFitOnAttach:{get:()=>s,set:e=>(s=e,!0),enumerable:!0,configurable:!0},expandSizingTargetForScrollbars:{get:()=>r,set:e=>(r=e,!0),enumerable:!0,configurable:!0},allowOutsideScroll:{get(){return!!this._modifiedMenuPropOn062__||l},set(e){return l=e,this.__AllowOutsideScrollPD__.set.call(this,e),!0},enumerable:!0,configurable:!0}})},"function"!=typeof s.position||s.position34||"function"!=typeof s.refit)console.log("FIX_MENU_POSITION_ON_SHOWN - NG");else{let e=0;s.__refitByPosition__=function(){if(e++,e<=0&&(e=0),1!==e)return;const t=this.hostElement||this;if("visible"===document.visibilityState){const n=this.sizingTarget;if(!n)return void(e=0);t.setAttribute("rNgzQ",""),n.setAttribute("rNgzQ","");const o=()=>{t.removeAttribute("rNgzQ"),n.removeAttribute("rNgzQ")};i((async()=>{for(;e>=1;)await W(n),this.opened&&this.isAttached&&!0===n.isConnected&&n===this.sizingTarget&&n.matches('ytd-menu-popup-renderer[slot="dropdown-content"].yt-live-chat-app')&&this.refit(),e--;e=0,c.resolve().then(o)}),4)}else e=0},s.position34=s.position,s.position=function(){return this._positionInitialize_&&(this._positionInitialize_=0,this.__refitByPosition__()),s.position34.apply(this,arguments)},console.log("FIX_MENU_POSITION_ON_SHOWN - OK")}s.__openedChanged=function(){this._positionInitialize_=1,"boolean"!=typeof this.__menuTypeCheck__&&(this.__menuTypeCheck__=!0),this.opened?c.resolve().then((()=>{this._prepareRenderOpened()})).then((()=>{if(this._manager.addOverlay(this),1!==this._manager._overlays.length)return 1;t=this,e=null,o=o||n(r)})).then((e=>{e&&this.__mtChanged__(1)})).catch(console.warn):c.resolve().then((()=>{if(this._manager.removeOverlay(this),0!==this._manager._overlays.length)return 1;e=this,t=null,o=o||n(r)})).then((e=>{e&&this.__mtChanged__(0)})).catch(console.warn)},console.log("BOOST_MENU_OPENCHANGED_RENDERING - OK")}"function"!=typeof s.__openedChanged||s.__openedChanged82||(s.__openedChanged82=s.__openedChanged,s.__openedChanged=function(){const e=this.positionTarget;return ye=e?j(e):null,this.__openedChanged82.apply(this,arguments)})}else console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})).catch(console.warn);const B=e=>{if(!e||"object"!=typeof e)return;const t=e.constructor.prototype;let o="";for(const[t,n]of Object.entries(e))t.includes("_callbacks_")&&(o=t);if(!o||"function"!=typeof t.unsubscribe||2!==t.unsubscribe.length)return;if(t.unsubscribe16)return;t.unsubscribe16=t.unsubscribe,z("YouTube Super Fast Chat"," | *live-chat-manager* hacks"),console.log("[Begin]");const i=new Map,s=function(e){if(!e||"string"!=typeof e)return null;let t=i.get(e);return t||(t=atob(e.replace(/-/g,"+").replace(/_/g,"/")),i.set(e,t),t)},r=[];let a=0,l=0;const c=()=>{if(a=0,1===r.length){const e=r[0];r.length=0,e()}else if(r.length>1){const e=r.slice(0);r.length=0;for(const t of e)t()}};{const e=e=>{if(e&&"function"==typeof e.unsubscribe16&&2===e.unsubscribe16.length&&"function"==typeof e.subscribe18&&(0===e.subscribe18.length||3===e.subscribe18.length)){const t=new Set(Object.keys(e)),n=new Set(Object.keys(e.constructor.prototype));if(t.size>=6&&n.size>=4){let i=0;for(const e of["nextHandle_","clients_",o,"unsubscribeAsyncHandles_","subscribe","subscribe18"])i+=t.has(e)?1:0;for(const e of["unsubscribe","handleInvalidationData_","unsubscribe16","subscribe19"])i+=n.has(e)?1:0;if(10===i){const t=e=>(e||0).constructor===Object;if(t(e.clients_)&&t(e[o])&&t(e.unsubscribeAsyncHandles_))return!0}}}return!1};t.subscribe19=function(e,t,n){const o=this.clients_||0,i=this.unsubscribeAsyncHandles_||0;if(!0!==this.__doCustomSubscribe__||!o||!i)return this.subscribe18.apply(this,arguments);let r=((e||0).invalidationId||0).objectId;return r?(r=s(r),o[r]&&i[r]<0&&delete i[r],this.subscribe18.apply(this,arguments)):this.subscribe18.apply(this,arguments)},t.unsubscribe=function(t,i){this.subscribe18||"function"!=typeof this.subscribe||(this.subscribe18=this.subscribe,this.subscribe=this.subscribe19,this.__doCustomSubscribe__=e(this));const h=this.clients_,d=this.unsubscribeAsyncHandles_;if(!0!==this.__doCustomSubscribe__||!h||!d)return this.unsubscribe16.apply(this,arguments);let u=((t||0).invalidationId||0).objectId;if(!u)return this.unsubscribe16.apply(this,arguments);u=s(u);const p=this[o]||0,m=p[u]||0;if(m&&(delete m[i],null===(e=>{for(const t in e)if(e.hasOwnProperty(t))return t;return null})(m))){const e=h[u];--l,l<-1e9&&(l=-1);const t=l;r.push((()=>{if(t===d[u]){const t={callbacks:p,callbackObj:m,client:h[u],handle:d[u]};let n=0;try{h[u]===e?(e&&"function"==typeof e.dispose&&e.dispose(),delete h[u],delete d[u],n=1):n=2}catch(e){console.warn(e)}console.log(`unsubscribed: ${n}`,this,t)}})),d[u]=t,0===a&&(a=n(c))}},console.log("CHANGE_MANAGER_UNSUBSCRIBE - OK")}console.log("[End]"),console.groupEnd()};c.all([customElements.whenDefined("yt-icon-shape"),customElements.whenDefined("yt-icon")]).then((()=>{let e=0,t=[document.createElement("yt-icon-shape"),document.createElement("yt-icon")];for(const n of t){let t=F(n);t&&"function"==typeof t.shouldRenderIconShape&&!t.shouldRenderIconShape571&&1===t.shouldRenderIconShape.length&&(D((()=>O(t.shouldRenderIconShape,"1.70.38"))),e++,t.shouldRenderIconShape571=t.shouldRenderIconShape,t.shouldRenderIconShape=function(e){return this.isAnimatedIcon?this.shouldRenderIconShape571(e):this.iconType&&this.iconShapeData?!this.iconName&&this.shouldRenderIconShape571(e):this.shouldRenderIconShape571(e)})}1===e?console.log("modified shouldRenderIconShape - Y"):console.log("modified shouldRenderIconShape - N",e)})),customElements.whenDefined("yt-invalidation-continuation").then((()=>{let e=null;l(),z("YouTube Super Fast Chat"," | yt-invalidation-continuation hacks"),console.log("[Begin]"),(()=>{const t="yt-invalidation-continuation",n=document.createElement(t),o=F(n);if(!o||!o.attached)return void console.warn(`proto.attached for ${t} is unavailable.`);const i=x(n).manager_||0;e=i,console.log("CHANGE_DATA_FLUSH_ASYNC - N/A")})(),console.log("[End]"),console.groupEnd(),B(e)})).catch(console.warn),customElements.whenDefined("yt-live-interactivity-component-background").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-interactivity-component-background hacks"),console.log("[Begin]"),(()=>{const e="yt-live-interactivity-component-background",t=document.createElement(e),n=F(t);n&&n.attached?(n.__toStopAfterRun__=function(e){let t=new MutationObserver((()=>{t.disconnect(),t.takeRecords(),t=null,this.lottieAnimation&&this.lottieAnimation.stop(),ae().then((()=>{this.lottieAnimation&&this.lottieAnimation.stop()}))}));t.observe(e,{subtree:!0,childList:!0})},"function"!=typeof n.maybeLoadAnimationBackground||n.maybeLoadAnimationBackground77||0!==n.maybeLoadAnimationBackground.length?console.log("INTERACTIVITY_BACKGROUND_ANIMATION(1) - NG"):(n.maybeLoadAnimationBackground77=n.maybeLoadAnimationBackground,n.maybeLoadAnimationBackground=function(){let e=!0,t=!1;if(!this.__bypassDisableAnimationBackground__){let n=!1;this.lottieAnimation||(n=!0),n&&(!0===this.useAnimationBackground&&console.log("DISABLE_INTERACTIVITY_BACKGROUND_ANIMATION",this.lottieAnimation),e=!0,t=!0)}if(e){t&&this.hostElement instanceof HTMLElement&&this.__toStopAfterRun__(this.hostElement);const e=this.maybeLoadAnimationBackground77.apply(this,arguments);return t&&this.lottieAnimation&&this.lottieAnimation.stop(),e}},console.log("INTERACTIVITY_BACKGROUND_ANIMATION(1) - OK"))):console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()})).catch(console.warn),customElements.whenDefined("yt-live-chat-text-input-field-renderer").then((()=>{l(),z("YouTube Super Fast Chat"," | yt-live-chat-text-input-field-renderer hacks"),console.log("[Begin]"),(()=>{const e="yt-live-chat-text-input-field-renderer",t=document.createElement(e),n=F(t);n&&n.attached?"function"!=typeof n.focusedChanged||0!==n.focusedChanged.length||n.focusedChanged372||(n.focusedChanged372=n.focusedChanged,n.focusedChanged=function(){c.resolve(this).then((e=>{!0===e.isAttached&&e.focusedChanged372()}))}):console.warn(`proto.attached for ${e} is unavailable.`)})(),console.log("[End]"),console.groupEnd()}))}));const Ge=()=>{let e=window.onerror;try{JSON.parse("{}")}catch(e){console.warn(e)}e!==window.onerror&&(console.groupCollapsed("%cYouTube Super Fast Chat%c | JS Engine Issue Found","background-color: #010502; color: #fe806a; font-weight: 700; padding: 2px;","background-color: #010502; color: #fe806a; font-weight: 300; padding: 2px;"),console.warn("\nJSON.parse is hacked (e.g. Brave's script injection) which causes window.onerror changes on every JSON.parse call.\nPlease install https://greasyfork.org/scripts/473972-youtube-js-engine-tamer to fix the issue.\n"),console.groupEnd())};U.then(Ge)}))})({IntersectionObserver:IntersectionObserver});