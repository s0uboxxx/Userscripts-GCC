// ==UserScript==
// @name             Reddit++
// @name:ru          Reddit++
// @description      A lot of enhancements for new design of reddit.com like unwrapped feed buttons, bigger fonts, view images without redirect and many more...
// @description:ru   Множество улучшений для нового интерфейса reddit.com, таких как развернутые кнопки лент, увеличенный шрифт, увеличение изображений без редиректа и много другое...
// @namespace        RedditPlusPlus
// @version          1.0.13
// @author           lnm95
// @icon             data:image/png;base64,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
// @source           https://github.com/lnm95/redditPlusPlus
// @license          MIT
// @match            *://*.reddit.com/*
// @grant            unsafeWindow
// @grant            GM_getValue
// @grant            GM_setValue
// @run-at           document-start
// @downloadURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/Reddit2B2B.user.js
// @updateURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/Reddit2B2B.meta.js
// ==/UserScript==
(()=>{var e={"./src/modules/app.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"faceplate-banner {\n  max-width: 1000px !important;\n}\n.pp_hidden {\n  display: none;\n}\n",""]);const a=i},"./src/modules/biggerFonts.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,":is(.text-14):not(.pp_defaultText .text-14) {\n  font-size: 1rem !important;\n  line-height: 1.4rem !important;\n}\nfaceplate-hovercard .text-12 {\n  font-size: 0.9rem !important;\n}\nshreddit-composer > div[role='textbox'] {\n  font-size: 1rem !important;\n  line-height: 1.4rem !important;\n}\nshreddit-comment-action-row {\n  margin-bottom: 15px !important;\n}\n",""]);const a=i},"./src/modules/bookmark.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_bookmark_hiddenButton {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  opacity: 0 !important;\n  overflow: hidden;\n}\n.pp_bookmark_hiddenButton > div {\n  padding: 0px !important;\n}\n.pp_bookmark_post {\n  margin-right: 5px !important;\n}\n",""]);const a=i},"./src/modules/collapseAwards.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_awardButton {\n  max-width: 100px;\n  opacity: 1;\n  transition: all 0.5s !important;\n}\n.pp_awardButton_hidden {\n  display: none;\n}\n.pp_awardButton_collapsed {\n  max-width: 0px !important;\n  opacity: 0 !important;\n  visibility: hidden !important;\n}\n",""]);const a=i},"./src/modules/comments/comments.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_muted_avatar {\n  opacity: 0.5;\n}\n.pp_muted_content {\n  color: var(--pp-color-muted-conent);\n  transition: color 0.2s;\n}\n.pp_muted_content:hover {\n  color: var(--pp-color-muted-conent-hover);\n}\n:root.theme-light {\n  --pp-color-muted-conent: #a5a5a5 !important;\n  --pp-color-muted-conent-hover: #636363 !important;\n}\n:root {\n  --pp-color-muted-conent: #595959;\n  --pp-color-muted-conent-hover: #adadad;\n}\n",""]);const a=i},"./src/modules/comments/hideShare.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"shreddit-comment-share-button {\n  display: none !important;\n}\n",""]);const a=i},"./src/modules/comments/sortButtons.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_sortDropdown_hidden {\n  display: none;\n}\n.pp_sortButton {\n  color: var(--color-neutral-content-weak);\n  font: var(--font-button-sm);\n  text-wrap: nowrap;\n  border-radius: 32px;\n  height: 32px;\n  padding-left: 10px;\n  padding-right: 14px;\n  gap: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin-left: 5px;\n}\n.pp_sortButton > span {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.pp_sortButton:hover {\n  background-color: var(--color-button-plain-background-hover) !important;\n}\n.pp_sortButton_active {\n  color: var(--color-neutral-content-strong) !important;\n  background-color: var(--color-secondary-background-selected);\n}\n",""]);const a=i},"./src/modules/comments/userTags.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_tagsPanel {\n  display: flex;\n  justify-content: space-around;\n  width: auto;\n  border-bottom: solid 1px var(--color-neutral-border-weak);\n  padding: 4px;\n  gap: 8px;\n  margin-bottom: 4px;\n}\n.pp_tagButton {\n  cursor: pointer;\n  display: flex;\n  align-content: center;\n  flex-wrap: wrap;\n  height: 45px;\n  padding: 4px 20px;\n  margin: 0px 0px;\n  color: var(--color-neutral-border-weak);\n  border-radius: 5px;\n}\n.pp_tagButton svg {\n  width: 20px;\n  transition: transform 0.15s;\n}\n.pp_tagButton:hover svg {\n  transform: scale(1.2, 1.2);\n  transition: transform 0.3s;\n}\n.pp_tagButton:hover {\n  background-color: var(--color-neutral-background-hover);\n}\n.pp_tagButtonActive:hover {\n  opacity: 0.8;\n}\n.pp_tagHint_offset {\n  left: 50%;\n  position: absolute;\n}\n.pp_tagHintContainer {\n  display: flex;\n  justify-content: center;\n  position: fixed;\n}\n.pp_tagHint {\n  display: flex;\n  align-items: center;\n  position: absolute;\n  top: -35px;\n  height: 25px;\n  padding: 0px 12px;\n  color: var(--color-neutral-background-weak);\n  font: var(--font-small);\n  background-color: var(--color-neutral-content-strong);\n  border-radius: 5px;\n}\n",""]);const a=i},"./src/modules/feed/feedButtons.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_feedPanel {\n  flex-direction: row;\n}\n.pp_feedPanel_space {\n  width: 100%;\n}\n.pp_defaultFeed_mark {\n  color: var(--color-neutral-content-weak);\n  border-radius: 18px;\n  display: flex;\n  align-items: center;\n  margin: 0px 5px 9px 5px;\n  padding: 0px 8px;\n  position: relative;\n  cursor: pointer;\n}\n.pp_defaultFeed_mark:hover {\n  background-color: var(--button-color-background-hover);\n}\n.pp_defaultFeed_mark:active {\n  background-color: var(--button-color-background-activated);\n}\n.pp_defaultFeed_mark_hint {\n  display: none;\n  position: absolute;\n  top: -32px;\n  left: 16px;\n}\n.pp_defaultFeed_mark:hover > .pp_defaultFeed_mark_hint {\n  display: block !important;\n}\n.pp_defaultFeed_mark_hint > span {\n  color: #c7c7c7;\n  background-color: rgba(0, 0, 0, 0.712);\n  text-wrap-mode: nowrap;\n  border-radius: 18px;\n  padding: 4px 8px;\n  position: relative;\n  left: -50%;\n}\n.pp_feedButtonsContainer {\n  justify-content: space-between;\n  height: 40px !important;\n}\n.pp_feedButton {\n  gap: 0.25rem !important;\n}\n.pp_feedContainer {\n  gap: 0.25rem;\n  height: 40px;\n}\n",""]);const a=i},"./src/modules/header.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"#reddit-logo {\n  text-decoration: none;\n}\n.pp_logo {\n  width: max-content;\n  color: var(--shreddit-color-wordmark);\n  font-size: 22px;\n  font-weight: 1000;\n  letter-spacing: -2px;\n}\n",""]);const a=i},"./src/modules/notifications.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"click-card > div[slot='content'] {\n  width: 410px !important;\n  max-width: 410px !important;\n}\nclick-card > div[slot='content'] > div {\n  max-height: 550px !important;\n}\nnotification-item > a {\n  width: 100% !important;\n}\ndiv[data-testid='notification-item'] > .flex {\n  padding: 0rem 0rem 0.5rem 0.5rem !important;\n  width: 100%;\n}\ndiv[data-testid='notification-item'] > div > div > button {\n  display: none !important;\n}\ndiv[data-testid='body'] {\n  font-size: 1rem !important;\n  line-height: 1.1rem !important;\n  padding-top: 0.5rem;\n}\n",""]);const a=i},"./src/modules/posts/posts.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_post_shareButton :is(span):not(.flex) {\n  visibility: hidden !important;\n  max-width: 0px;\n}\n.pp_post_shareButton .text-16 {\n  margin-right: 0px !important;\n}\n.pp_post_tittle {\n  text-decoration: none !important;\n}\n.pp_post_noWrap {\n  line-clamp: 999;\n  -webkit-line-clamp: 999;\n}\n.pp_post_unwrapContainer {\n  position: relative;\n  height: 0px;\n  bottom: 0px;\n  display: flex;\n  justify-content: flex-end;\n  z-index: 10;\n}\n.pp_post_unwrapButton {\n  position: relative;\n  background-color: var(--color-button-secondary-background);\n  width: 46px;\n  height: 46px;\n  bottom: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50px;\n  color: var(--color-button-secondary-text);\n  margin-right: 15px;\n  pointer-events: fill !important;\n  z-index: 10;\n}\n",""]);const a=i},"./src/modules/posts/postsBackplates.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"article > shreddit-post {\n  background-color: #00000000 !important;\n  padding-top: 10px !important;\n  margin-top: 10px !important;\n  margin-bottom: 10px !important;\n}\narticle > shreddit-post::before {\n  border-radius: 15px !important;\n  position: absolute;\n  content: '';\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 0;\n  z-index: -1;\n  background: linear-gradient(var(--color-neutral-background-hover), var(--color-neutral-background));\n  transition: opacity 0.2s;\n}\narticle > shreddit-post:hover::before {\n  opacity: 1;\n}\nshreddit-post[gold-count]:not(shreddit-post[gold-count='']) {\n  background-image: linear-gradient(rgba(255, 214, 53, 0.2), rgba(255, 214, 53, 0)) !important;\n}\nshreddit-post[gold-count]:not(shreddit-post[gold-count=''])::before {\n  background: linear-gradient(#fbed2966, var(--color-neutral-background)) !important;\n}\n.stickied::after {\n  border-radius: 15px !important;\n  position: absolute;\n  content: '';\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 1;\n  z-index: -2;\n  background: linear-gradient(var(--stickiedColor), var(--color-neutral-background)) !important;\n}\n.stickied::before {\n  background: linear-gradient(var(--stickiedHoverColor), var(--color-neutral-background)) !important;\n}\n:root.theme-light {\n  --stickiedColor: #0e8a001c !important;\n  --stickiedHoverColor: #18900b3d !important;\n}\n:root {\n  --stickiedColor: #0e8a001c;\n  --stickiedHoverColor: #18900b3d;\n}\n",""]);const a=i},"./src/modules/redirect.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_redirectContainer {\n  position: fixed;\n  bottom: 70px;\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  z-index: 100;\n}\n.pp_redirectBox {\n  background: #000000bf;\n  width: 600px;\n  height: 70px;\n  border-radius: 20px;\n  color: white;\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n",""]);const a=i},"./src/modules/scrollToTop.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_scrollToTop {\n  position: fixed;\n  width: 100px;\n  height: 100%;\n  bottom: 0px;\n  background: linear-gradient(0deg, var(--scrollLineColor) 0%, var(--scrollLineTransparentColor) 20%);\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  padding-bottom: 20px;\n  cursor: pointer;\n  color: var(--scrollLineTransparentColor);\n  transition: all 0.2s ease-in;\n}\n.pp_scrollToTop_inverted {\n  transform: scale(1, -1);\n}\n.pp_scrollToTop_hidden {\n  visibility: hidden;\n}\n.pp_scrollToTop_hidden::before {\n  visibility: hidden;\n}\n.pp_scrollToTop:hover {\n  padding-bottom: 50px !important;\n  color: var(--scrollButtonColor);\n  transition: all 0.2s ease-out;\n}\n.pp_scrollToTop::before {\n  position: absolute;\n  content: '';\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 0;\n  z-index: -1;\n  background: linear-gradient(0deg, var(--scrollLineColor) 5%, var(--scrollLineTransparentColor) 50%);\n  transition: opacity 0.2s ease-in;\n}\n.pp_scrollToTop:hover::before {\n  opacity: 1;\n  transition: opacity 0.2s ease-out;\n}\n:root.theme-light {\n  --scrollLineColor: #e5ebee6e !important;\n  --scrollLineTransparentColor: #e5ebee00 !important;\n  --scrollButtonColor: #c9d1d4c2 !important;\n}\n:root {\n  --scrollLineColor: #2a323633;\n  --scrollLineTransparentColor: #2a323600;\n  --scrollButtonColor: #0e1113;\n}\n",""]);const a=i},"./src/modules/settings/settingsWindow.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_settings_subtittle {\n  font-size: 10px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 12px;\n  min-height: 20px;\n  color: #7c7c7c;\n  text-transform: uppercase;\n  border-bottom: 1px solid #edeff1;\n  margin-top: 1rem;\n  padding: 0rem 3rem;\n}\n.pp_settings_property_oneLine {\n  height: 2.25rem !important;\n}\n.pp_settings_propertyHeader {\n  display: flex;\n  flex-direction: column;\n  margin-left: 3rem;\n  justify-content: center;\n}\n.pp_settings_propertyHeader_tittle {\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 20px;\n  margin-bottom: 4px;\n}\n.pp_settings_propertyHeader_description {\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  color: #7c7c7c;\n}\n.pp_settings_propertyButtonContainer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-grow: 1;\n}\n.pp_settings_changesBannerContainer {\n  position: absolute;\n  top: 0px;\n  width: 900px;\n  overflow-y: hidden;\n  opacity: 0;\n  transition: opacity 0.15s ease-in-out;\n}\n.pp_settings_changesBanner {\n  display: flex;\n  justify-content: center;\n  margin: 2rem 15%;\n  padding: 1rem;\n  border-radius: 15px;\n  background-color: #ffd40017;\n  border: solid 1px #ffd400;\n  color: #d7b300;\n  font-weight: 500;\n}\n.pp_settings_changesBanner_active {\n  opacity: 1 !important;\n}\n.pp_settings_arrowArea {\n  width: 200px;\n  min-width: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n}\n.pp_settings_arrow {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.pp_settings_arrowLeft {\n  transform: scale(-1, 1);\n}\n",""]);const a=i},"./src/modules/sidebar/sidebar.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_sidebar_loadingSection {\n  max-height: 0px !important;\n  visibility: hidden !important;\n}\n.pp_sidebar_loadingSection > details {\n  max-height: 0px !important;\n}\n.pp_sidebar_collapsedSection {\n  max-height: 43px !important;\n  overflow-y: hidden !important;\n}\n",""]);const a=i},"./src/modules/sidebar/subFilter.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_subFilter_container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.pp_subFilter {\n  border-color: var(--color-neutral-border-weak);\n  color: var(--color-secondary-weak);\n  font-weight: 400;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 40px;\n  color: var(--color-secondary-plain);\n}\n.pp_subFilter:hover {\n  background: var(--color-input-secondary-hover) !important;\n}\n.pp_subFilter:focus {\n  border-color: var(--color-neutral-content-weak) !important;\n}\n.pp_subFilter_span {\n  width: 100%;\n  margin: 0px 16px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 6px;\n}\n.pp_subFilter_span > span {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.pp_subFilter_input {\n  width: 100%;\n  background: 0 0;\n  border: none;\n  outline: 0;\n  text-overflow: ellipsis;\n  color: var(--color-neutral-content-strong);\n  font: inherit;\n  padding: 0px;\n  margin: 0px;\n}\n.pp_pp_subFilter_clearContainer {\n  position: relative;\n  width: 0px;\n}\n.pp_subFilter_clear {\n  position: relative;\n  right: 40px;\n  top: 4px;\n  border-radius: 32px;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]);const a=i},"./src/modules/subs/flairBar.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_flairBar {\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n}\n.pp_flairBar_highlights {\n  padding-bottom: 10px;\n}\n.pp_flairBar_list {\n  margin-top: 5px !important;\n  flex-wrap: nowrap !important;\n  position: relative;\n}\n.pp_flairBar_listSmoothed {\n  transition: left 0.1s ease-out;\n}\n.pp_flairBar_bordersContainer {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n.pp_flairBar_preBorder {\n  width: 20px;\n}\n.pp_flairBar_border {\n  z-index: 1;\n  position: absolute;\n  height: 40px;\n  width: 20px;\n  margin-top: 5px;\n  background: linear-gradient(var(--flair-border-orientation), var(--color-neutral-background), 60%, var(--color-neutral-background-transparent));\n}\n.pp_flairBar_border_left {\n  --flair-border-orientation: 90deg;\n}\n.pp_flairBar_border_right {\n  --flair-border-orientation: 270deg;\n}\n:root.theme-light {\n  --color-neutral-background-transparent: #fff0 !important;\n}\n:root {\n  --color-neutral-background-transparent: #0b141600;\n}\n",""]);const a=i},"./src/modules/subs/flairWindow.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_flairWindow_flairContainer {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-left: 3rem;\n}\n.pp_flairWindow_columnTittle {\n  margin: 20px 57px 10px 40px;\n}\n",""]);const a=i},"./src/modules/subs/subs.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".masthead > section > div {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.masthead > section > div > div:last-child {\n  align-self: flex-end;\n}\n.pp_mastheadSection {\n  top: -3rem;\n}\n.pp_mastheadSection > div {\n  gap: 1rem;\n}\n",""]);const a=i},"./src/modules/wideMode.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,"@media (min-width: 1392px) {\n  .pp_pageContainer {\n    margin-right: 300px;\n  }\n  .pp_mainFeed {\n    width: var(--pp-content-width) !important;\n  }\n  .pp_mainFeed > div > main {\n    max-width: var(--pp-content-width) !important;\n  }\n  .pp_rightSidebar {\n    grid-column-start: 3;\n    order: 10;\n  }\n  #right-sidebar-container {\n    position: fixed;\n    right: 0px;\n    margin: 15px 10px 0px 0px;\n  }\n  .pp_rightSidebar_contextLookup {\n    grid-column-start: 3;\n    order: 10;\n    position: fixed;\n    right: 0px;\n    margin: 15px 10px 0px 0px;\n  }\n}\n",""]);const a=i},"./src/utils/checkbox.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_checkBox_container {\n  float: right;\n  position: relative;\n}\n.pp_checkBox_buttonActive {\n  justify-content: flex-end !important;\n  background-color: #0079d3 !important;\n}\n.pp_checkBox_button {\n  position: relative;\n  cursor: pointer;\n  overflow: visible;\n  display: flex;\n  justify-content: start;\n  background: transparent;\n  background-color: var(--checkBox-background);\n  padding: initial;\n  height: 24px;\n  width: 37.5px;\n  border-radius: 100px;\n  border: 2px solid transparent;\n  transition: background-color 0.2s linear;\n}\n.pp_checkBox_knob {\n  height: 19.5px;\n  width: 19.5px;\n  background-color: #fff;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 2px 3px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.5s linear;\n  border-radius: 57%;\n}\n.pp_checkBox_panelArea {\n  width: 200px;\n  min-width: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n:root.theme-light {\n  --checkBox-background: #1a1a1b1a !important;\n}\n:root {\n  --checkBox-background: #81818152;\n}\n",""]);const a=i},"./src/utils/imageViewer.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_imageViewable {\n  cursor: pointer;\n}\n.pp_imageViewer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0px;\n  z-index: 10;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: #000000b3;\n}\n.pp_imageViewer_closeButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 50px;\n  z-index: 11;\n  right: 50px;\n  cursor: pointer;\n  width: 50px;\n  height: 50px;\n  color: #ffffff9c;\n  background-color: #00000069;\n  border-radius: 30px;\n}\n.pp_imageViewer_closeButton:hover {\n  color: #ffffffc7;\n}\n.pp_imageViewer_imageContainer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 80%;\n  height: 90%;\n}\n.pp_imageViewer_imageContainer:not(.pp_imageViewer_drag) {\n  transition: transform 0.5s;\n}\n.pp_imageViewer_image {\n  cursor: grab;\n  object-fit: scale-down;\n  max-width: 100%;\n  max-height: 100%;\n  box-shadow: 0px 0px 20px 3px #14141485;\n}\n.pp_imageViewer_image:active {\n  cursor: grabbing;\n}\n",""]);const a=i},"./src/utils/window.less":(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s)()(r());i.push([e.id,".pp_window_container {\n  cursor: pointer;\n  position: fixed;\n  top: 0px;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #000000b3;\n}\n.pp_window {\n  cursor: auto;\n  display: flex;\n  flex-direction: column;\n  width: 900px;\n  height: fit-content;\n  min-height: 200px;\n  max-height: 75%;\n  border-radius: 15px;\n  background-color: var(--color-neutral-background);\n  box-shadow: 0px 0px 50px 0px #00000070;\n}\n.pp_window_tittleContainer {\n  height: 48px;\n  margin: 1rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.pp_window_tittle {\n  margin-left: 1rem;\n}\n.pp_window_closeButton {\n  margin: 1rem;\n}\n.pp_window_content {\n  display: flex;\n  flex-direction: column;\n  overflow-y: overlay;\n}\n.pp_window_footer {\n  height: 2rem;\n  min-height: 2rem;\n}\n.pp_window_elementsContainer {\n  display: flex;\n  flex-direction: column;\n  padding: 0px;\n  margin: 20px 40px;\n  gap: 0.5rem;\n}\n.pp_window_element {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  height: 3rem;\n}\n.pp_window_elementsContainer > .pp_window_element:hover {\n  background-color: var(--color-neutral-background-hover);\n  border-radius: 15px;\n}\n.pp_window_scrollContent {\n  overflow-y: scroll;\n}\n",""]);const a=i},"./node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":e=>{"use strict";e.exports=function(e){return e[1]}},"./resources/bookmarkSaved.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15.372 1H4.628A1.629 1.629 0 0 0 3 2.628v16.256a1.113 1.113 0 0 0 1.709.941L10 16.479l5.282 3.34A1.12 1.12 0 0 0 17 18.873V2.628A1.63 1.63 0 0 0 15.372 1Z" style="fill:currentColor;stroke:none;stroke-width:0px"></path></svg>'},"./resources/bookmarkUnsaved.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4.114 20A1.117 1.117 0 0 1 3 18.884V2.628A1.629 1.629 0 0 1 4.628 1h10.744A1.63 1.63 0 0 1 17 2.628v16.245a1.12 1.12 0 0 1-1.718.946L10 16.479l-5.291 3.346a1.11 1.11 0 0 1-.595.175Zm.514-17.75a.378.378 0 0 0-.378.378v16.009L10 15l5.75 3.636V2.628a.378.378 0 0 0-.378-.378H4.628Z" style="fill:currentColor;stroke:none;stroke-width:0px"></path></svg>'},"./resources/comments/bannedUser.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2,7.15,7.08,1.84A2.66,2.66,0,0,1,10,2.3a2.72,2.72,0,0,1,.7,2.91L5.37,10.66s-1,1.11-2.74-.73C1,8.24,2,7.15,2,7.15Z" style="fill: none;stroke: #8a3685;stroke-width: 1.5px"></path><path d="M7.33,8.85l6,6.16a1,1,0,0,0,1.28-.07,1.16,1.16,0,0,0,.15-1.28L8.9,7.37" style="fill: #8a3685; stroke:none"></path></svg>'},"./resources/comments/newUser.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 20 20"><path d="M1.46,1.5S3.49,4.89,7,5.07c1.49.07,3.35.25,4.06.79,1.41,1.09,2.3,2.08,1.74,4.37a4.91,4.91,0,0,1-4.36,3.49C5.08,14,2.89,10.29,2.33,9.35.41,6.12,1.46,1.5,1.46,1.5Z" style="fill:#69b508;stroke:none;stroke-width:0px"></path><path d="M12.5,11.5a3.39,3.39,0,0,1,2,2,3.16,3.16,0,0,1,0,2" style="fill:none;stroke:#69b508;stroke-width:2px"></path></svg>'},"./resources/comments/shareButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M14.111 12.5a3.701 3.701 0 0 1-1.09 2.41c-.479.47-.928.922-1.378 1.373-.45.45-.894.9-1.368 1.366a3.852 3.852 0 0 1-2.698 1.099 3.852 3.852 0 0 1-2.698-1.099 3.738 3.738 0 0 1-1.116-2.659c0-.997.402-1.953 1.116-2.658.479-.472.928-.923 1.378-1.375.45-.45.893-.9 1.368-1.365A3.936 3.936 0 0 1 9.638 8.59a3.968 3.968 0 0 1 2.24.258c.27-.269.546-.54.812-.806l.131-.13a5.086 5.086 0 0 0-3.182-.624A5.052 5.052 0 0 0 6.732 8.71c-.48.471-.929.922-1.377 1.373-.449.451-.894.9-1.37 1.366A4.982 4.982 0 0 0 2.5 14.992c0 1.328.534 2.602 1.486 3.543A5.13 5.13 0 0 0 7.58 20a5.13 5.13 0 0 0 3.595-1.465c.478-.471.927-.923 1.377-1.374.451-.451.894-.9 1.368-1.366a4.993 4.993 0 0 0 1.263-2.071c.243-.781.288-1.61.132-2.412L14.11 12.5Z" style="fill:currentColor;stroke:none;stroke-width:1px"></path><path d="M16.017 1.467A5.123 5.123 0 0 0 12.422 0a5.123 5.123 0 0 0-3.595 1.467c-.478.471-.926.923-1.377 1.374-.45.451-.894.9-1.367 1.366a4.966 4.966 0 0 0-1.106 1.624 4.907 4.907 0 0 0-.291 2.86l1.2-1.19a3.699 3.699 0 0 1 1.092-2.41c.478-.472.928-.923 1.377-1.374.45-.45.894-.9 1.368-1.366a3.844 3.844 0 0 1 2.698-1.101c1.012 0 1.982.396 2.698 1.101a3.736 3.736 0 0 1 1.116 2.66c0 .996-.401 1.953-1.116 2.658-.478.471-.927.922-1.377 1.373-.45.451-.893.9-1.368 1.367a3.933 3.933 0 0 1-2.014 1.003 3.966 3.966 0 0 1-2.24-.26c-.273.274-.551.549-.818.818l-.123.12a5.087 5.087 0 0 0 3.183.624 5.053 5.053 0 0 0 2.906-1.423c.477-.472.926-.923 1.376-1.375.45-.452.894-.9 1.368-1.365A4.977 4.977 0 0 0 17.5 5.008a4.977 4.977 0 0 0-1.488-3.543l.005.002Z" style="fill:currentColor;stroke:none;stroke-width:1px"></path></svg>'},"./resources/comments/sortButtons/controversial.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><polygon points="6.34 13.21 3.33 9.37 2.46 10.07 5.35 13.73 6.34 13.21" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></polygon><polygon points="4.11 13.02 3.11 11.75 0.76 13.47 1.7 14.55 4.11 13.02" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></polygon><path d="M5.67,9.62l-.8.66,1,1.32s.54-.31,1.31-.8A12,12,0,0,1,5.67,9.62Z" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></path><path d="M10.93,3.83A19.94,19.94,0,0,1,8.52,7.08c.57.52,1.29,1.08,1.8,1.46a11.2,11.2,0,0,0,1-1C14.21,4.3,14.7,2.11,14.7,2.11Z" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></path><polygon points="9.23 13.59 12.52 9.01 13.53 9.81 10.36 14.19 9.23 13.59" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></polygon><polygon points="11.61 12.82 12.66 11.36 15.26 13.26 14.28 14.52 11.61 12.82" style="fill:currentColor;stroke:none;stroke-miterlimit:10"></polygon><path d="M11.09,9.83A43.49,43.49,0,0,1,7.38,6.71,20.23,20.23,0,0,1,4.52,2.83,37,37,0,0,0,.73,1.33S.79,3.41,4.11,7.09A23.67,23.67,0,0,0,9.88,11.4C10.28,10.87,10.69,10.34,11.09,9.83Z" style="fill:currentColor"></path><path d="M11.09,9.83A43.49,43.49,0,0,1,7.38,6.71,20.23,20.23,0,0,1,4.52,2.83,37,37,0,0,0,.73,1.33S.79,3.41,4.11,7.09A23.67,23.67,0,0,0,9.88,11.4C10.28,10.87,10.69,10.34,11.09,9.83Z" style="fill:none;stroke:none;stroke-miterlimit:10"></path></svg>'},"./resources/comments/sortButtons/old.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><circle cx="5.28" cy="8.67" r="1" style="fill: currentColor"></circle><circle cx="9.28" cy="8.67" r="1" style="fill: currentColor"></circle><circle cx="12.26" cy="2.08" r="1.32" style="fill: currentColor"></circle><path d="M7.55,5.08c.09-2.83,3-3.59,4-3" style="fill: none;stroke: currentColor;stroke-miterlimit: 10"></path><path d="M4.92,11.7s3,1,5,0" style="fill: blue;stroke: currentColor;stroke-miterlimit: 10"></path><path d="M7.72,5c3.31,0,6,2,6,4.5S11,14,7.72,14s-6-2-6-4.5S4.41,5,7.72,5m0-.5c-3.59,0-6.5,2.24-6.5,5s2.91,5,6.5,5,6.5-2.24,6.5-5-2.91-5-6.5-5Z" style="fill: currentColor"></path><path d="M10.85,5.5A1.56,1.56,0,0,1,13,5.31a1.34,1.34,0,0,1,.24,1.89" style="fill: none;stroke: currentColor;stroke-miterlimit: 10;stroke-width: 0.5px"></path><path d="M2.18,7a1.55,1.55,0,0,1,.53-2,1.33,1.33,0,0,1,1.86.4" style="fill: none;stroke: currentColor;stroke-miterlimit: 10;stroke-width: 0.5px"></path></svg>'},"./resources/comments/sortButtons/qa.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><circle cx="10.77" cy="4.4" r="3" style="fill: currentColor"></circle><path d="M3.54,13.87l0,0a1.07,1.07,0,0,1-.46-1.35L6.4,7.44a1.05,1.05,0,0,1,1.48,0l.58.43c.54.41.74,1,.43,1.42L5,13.93A1.08,1.08,0,0,1,3.54,13.87Z" style="fill: currentColor"></path></svg>'},"./resources/comments/userTags/blockedButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.78126,18.09375c-4.41989,0 -8,-3.58011 -8,-8c0,-4.41989 3.58011,-8 8,-8c4.41989,0 8,3.58011 8,8c0,4.41989 -3.58011,8 -8,8z" style="fill:none;stroke:currentColor;stroke-width:2px"></path><path d="m4.43767,4.59392l10.81217,10.93716" style="fill:none;stroke:currentColor;stroke-width:2px"></path></svg>'},"./resources/comments/userTags/blockedIcon.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 20 20"><path d="M3.11,3l7.94,8" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path><path d="M7,12.88A5.88,5.88,0,1,1,12.91,7,5.88,5.88,0,0,1,7,12.88Z" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/comments/userTags/followedButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m1.56177,7.99265l5.62517,-1.11153l2.68713,-4.92101l3.02542,4.77603l5.28687,1.25651l-4.60571,3.96991l1.43072,5.79091l-5.28229,-2.56852l-4.99233,2.56852l1.09243,-6.03254l-4.26742,-3.72827l0,-0.00001z" style="fill:none;stroke:currentColor;stroke-width:2px"></path></svg>'},"./resources/comments/userTags/followedIcon.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 20 20"><path d="m0.43678,5.49532l4.46205,-0.8817l2.13151,-3.90349l2.39985,3.78849l4.1937,0.9967l-3.65339,3.14905l1.13489,4.59352l-4.19007,-2.03743l-3.96007,2.03743l0.86655,-4.78519l-3.38505,-2.95738l0,-0.00001l0.00001,0z" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/comments/userTags/likedButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.28935,15.93702c-4.80908,-3.55432 -6.52852,-5.80272 -6.54246,-8.55516c-0.0127,-2.50919 2.10985,-4.93093 4.30951,-4.91697c1.09841,0.00698 3.45457,0.93051 4.2889,1.6811c0.42039,0.37819 0.6195,0.3409 1.55543,-0.29133c2.54723,-1.72064 5.03461,-1.75676 6.64556,-0.09648c2.57463,2.65349 2.10589,5.82222 -1.34747,9.10906c-1.836,1.74747 -5.84543,4.84759 -6.26946,4.84759c-0.12903,0 -1.31703,-0.80001 -2.64001,-1.7778l0,0l0,-0.00001z" style="fill:none;stroke:currentColor;stroke-width:2px"></path></svg>'},"./resources/comments/userTags/likedIcon.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 20 20"><path d="m5.10986,11.44595c-3.39081,-2.55084 -4.60316,-4.16445 -4.61299,-6.1398c-0.00896,-1.80077 1.48763,-3.53879 3.03857,-3.52877c0.77447,0.00501 2.43577,0.6678 3.02404,1.20648c0.29641,0.27142 0.4368,0.24465 1.09671,-0.20908c1.79601,-1.23486 3.54983,-1.26078 4.68568,-0.06924c1.81534,1.90433 1.48483,4.17844 -0.95008,6.53732c-1.29454,1.25411 -4.12153,3.47898 -4.4205,3.47898c-0.09098,0 -0.92862,-0.57415 -1.86143,-1.27588l0,0l0,-0.00001z" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/comments/userTags/warningButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m1.24313,16.49297l8.78125,-13.75l8.78125,13.75l-17.5625,0z" style="fill:none;stroke:currentColor;stroke-width:2px"></path><path d="m9.875,7.5l0,4.5" style="fill:none;stroke:currentColor;stroke-width:2px"></path><path d="m9.875,14.09375l0,1" style="fill:none;stroke:currentColor;stroke-width:2px"></path></svg>'},"./resources/comments/userTags/warningIcon.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 20 20"><path d="m6.91754,10.29973l0,0.7153" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path><path d="m6.91754,5.38201l0,4.06927" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path><path d="m0.74313,12.0159l6.28126,-9.83543l6.28126,9.83543l-12.56252,0z" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/feedButtons/feedButtonBest.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.82,1.51l1.43,3.4a.86.86,0,0,0,.66.47l3.62.28A.91.91,0,0,1,15,7.22L12.3,9.62a.84.84,0,0,0-.25.76l.81,3.55a.92.92,0,0,1-1.33,1L8.41,13a.91.91,0,0,0-.82,0L4.47,14.89a.92.92,0,0,1-1.33-1L4,10.38a.84.84,0,0,0-.25-.76L1,7.22a.91.91,0,0,1,.5-1.56l3.62-.28a.86.86,0,0,0,.66-.47l1.43-3.4A.91.91,0,0,1,8.82,1.51Z" style="fill:currentColor; stroke:none"></path></svg>'},"./resources/feedButtons/feedButtonBest_empty.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.82,1.51l1.43,3.4a.86.86,0,0,0,.66.47l3.62.28A.91.91,0,0,1,15,7.22L12.3,9.62a.84.84,0,0,0-.25.76l.81,3.55a.92.92,0,0,1-1.33,1L8.41,13a.91.91,0,0,0-.82,0L4.47,14.89a.92.92,0,0,1-1.33-1L4,10.38a.84.84,0,0,0-.25-.76L1,7.22a.91.91,0,0,1,.5-1.56l3.62-.28a.86.86,0,0,0,.66-.47l1.43-3.4A.91.91,0,0,1,8.82,1.51Z" style="fill:none; stroke:currentColor"></path></svg>'},"./resources/feedButtons/feedButtonHot.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.49,2.93c.7,1.56,3,2.81,3.69,3.52a5.14,5.14,0,0,1,1.36,5.45c-1.09,3.37-4.49,3.38-6.21,3.38s-4.18-.28-5-3,.8-4.41,1-5,1.06,2.52,2,3.12c1.19.79,2.85,0,2.85-1.18S6.72,7.65,6.44,5.37a10.62,10.62,0,0,1,1-4.9S7.83,1.46,8.49,2.93Z" style="stroke:currentColor;fill:currentColor;stroke-width:0.5px"></path></svg>'},"./resources/feedButtons/feedButtonNew.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8,15.5A7.5,7.5,0,1,1,15.5,8,7.5,7.5,0,0,1,8,15.5Zm0-14A6.5,6.5,0,1,0,14.5,8,6.51,6.51,0,0,0,8,1.5Z" style="fill:currentColor;stroke:currentColor;stroke-width:0.5px"></path><path d="M8,2V8l4-2" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/feedButtons/feedButtonRising.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.1,14.67c1.4-2.8,3.62-6.84,3.62-6.84L9,12.18l4.13-9.94" style="fill:none;stroke:currentColor;stroke-width:2px"></path><path d="M8.5,4.5l4.68-2.45S14,5.31,14.5,7.5" style="fill:none;stroke:currentColor;stroke-width:2px"></path></svg>'},"./resources/feedButtons/feedButtonTop.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.51,6.56,9.13,1.17a1.61,1.61,0,0,0-2.26,0L1.49,6.56a1,1,0,0,0,.72,1.73H5.52V14A1.28,1.28,0,0,0,6.8,15.3H9.23A1.29,1.29,0,0,0,10.52,14V8.29h3.27A1,1,0,0,0,14.51,6.56Z" style="fill:none;stroke:currentColor;stroke-width:1.5px"></path></svg>'},"./resources/imageCloseButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="m33.16001,9.52439l-2.37671,-2.37671l-10.691,10.691l-10.691,-10.691l-2.37671,2.37671l10.691,10.691l-10.691,10.691l2.37671,2.37671l10.691,-10.691l10.691,10.691l2.37671,-2.37671l-10.691,-10.691l10.691,-10.691z" style="fill:currentColor;stroke:none;stroke-width:0px"></path></svg>'},"./resources/postUnwrapButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path d="M12.5,18.75A2.36,2.36,0,0,1,10.83,18L2.47,9.53,3.53,8.47,11.9,17a.79.79,0,0,0,1.2,0l8.37-8.5,1.06,1.06L14.17,18A2.36,2.36,0,0,1,12.5,18.75Z" style="fill:currentColor;stroke:none;stroke-miterlimit:10;stroke-width:0px"></path></svg>'},"./resources/scrollButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M27.58,27.12,21,20.53a1.42,1.42,0,0,0-2,0l-6.58,6.59a1.41,1.41,0,0,0,1,2.41H26.58A1.41,1.41,0,0,0,27.58,27.12Z" style="fill:currentColor"></path><rect x="5" y="11.75" width="30" height="2.5" style="fill:currentColor"></rect></svg>'},"./resources/settingsArrow.svg":e=>{e.exports='<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.942 15.442-.884-.884L11.616 10 7.058 5.442l.884-.884 5 5a.624.624 0 0 1 0 .884l-5 5Z" style="fill:currentColor;stroke:none;stroke-width:0px"></path></svg>'},"./resources/settingsButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15.07,2.25a.33.33,0,0,1,.33.33V6.72h1.25a2.11,2.11,0,0,1,0,4.21H15.4v4.14a.33.33,0,0,1-.33.33H10.93v1.25a2.11,2.11,0,0,1-4.21,0V15.4H2.58a.33.33,0,0,1-.33-.33v-3A3.51,3.51,0,0,0,4.49,8.82,3.48,3.48,0,0,0,2.25,5.57v-3a.33.33,0,0,1,.33-.33H5.34a3.49,3.49,0,0,0,7,0h2.76m0-1.25H10.75A2.24,2.24,0,1,1,6.9,1H2.58A1.58,1.58,0,0,0,1,2.58v4a2.24,2.24,0,1,1,0,4.47v4a1.58,1.58,0,0,0,1.58,1.58H5.47a3.36,3.36,0,0,0,6.71,0h2.89a1.58,1.58,0,0,0,1.58-1.58V12.18a3.36,3.36,0,0,0,0-6.71V2.58A1.58,1.58,0,0,0,15.07,1Z"></path></svg>'},"./resources/subFilter.svg":e=>{e.exports='<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19.5 18.616 14.985 14.1a8.528 8.528 0 1 0-.884.884l4.515 4.515.884-.884ZM1.301 8.553a7.253 7.253 0 1 1 7.252 7.253 7.261 7.261 0 0 1-7.252-7.253Z" style="stroke:none;stroke-width:0px"></path></svg>'},"./resources/subFilterClear.svg":e=>{e.exports='<svg fill="currentColor" icon-name="clear-outline" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 18.75A8.75 8.75 0 1 1 18.75 10 8.76 8.76 0 0 1 10 18.75Zm3.567-11.433L10.884 10l2.683 2.683-.884.884L10 10.884l-2.683 2.683-.884-.884L9.116 10 6.433 7.317l.884-.884L10 9.116l2.683-2.683.884.884Z" style="fill:currentColor;stroke:none;stroke-width:0px"></path></svg>'},"./resources/windowCloseButton.svg":e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14,2h0a.75.75,0,0,0-1.06,0L8.15,6.78a.2.2,0,0,1-.3,0L3.06,2A.75.75,0,0,0,2,2H2A.75.75,0,0,0,2,3.06L6.78,7.85a.2.2,0,0,1,0,.3L2,12.94A.75.75,0,0,0,2,14H2a.75.75,0,0,0,1.06,0L7.85,9.22a.2.2,0,0,1,.3,0L12.94,14A.75.75,0,0,0,14,14h0a.75.75,0,0,0,0-1.06L9.22,8.15a.2.2,0,0,1,0-.3L14,3.06A.75.75,0,0,0,14,2Z"></path></svg>'}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";async function e(e,t=0){return new Promise((n=>{let o=e();if(null!=o)return n(o);let r=t/10;const s=setInterval((()=>{o=e();let i=!1;if(t>0&&(r--,r<0&&(i=!0)),null!=o||i)return clearInterval(s),n(o)}),10)}))}function t(e,t,n=!0){const o=t(e);if(null!=o&&1==o)return;let r=new MutationObserver((e=>{for(const n of e)for(const e of n.addedNodes)if(r&&e instanceof HTMLElement){const n=t(e);null!=n&&1==n&&(r.disconnect(),r=null)}}));r.observe(e,{childList:!0,subtree:n})}function o(e,t="pp-rendered"){return null!=e.getAttribute(t)||(e.setAttribute(t,""),!1)}function r(e,t,n=null){const o=document.createElement(t);if(null!=n)if("string"==typeof n&&n)o.classList.add(n);else for(const e of n)o.classList.add(e);return e.append(o),o}async function s(t,n={}){let o=await e((()=>document.body?.querySelector("alert-controller")?.shadowRoot?.querySelector("toaster-lite"))),r=document.createElement("faceplate-toast");r.classList.add("theme-rpl"),null!=n.color&&(r.style.backgroundColor=n.color),r.textContent=t,o.appendChild(r),setTimeout((()=>{r.setAttribute("_fading","")}),n?.time??3e3)}function i(e){console.log(`Reddit++: ${e}`)}const a="DATABASE_VERSION";const l=new class{constructor(e,t,n=null){this.version=e,this.action=t,this.previous=n}check(){const e=GM_getValue(a,null);(null==e||function(e,t){if(e==t)return!1;const n=e.split("."),o=t.split(".");for(const e of[0,1,2]){const t=parseInt(n[e]),r=parseInt(o[e]);if(t!=r)return t<r}return!1}(e,this.version))&&(this.previous?.check(),this.action(),GM_setValue(a,this.version),s(`Reddit++ was upgraded to ${this.version}`))}}("1.0.0",(()=>{const e=GM_getValue("SETTINGS_DATABASE",null);if(null==e)return;const t=e.savedBookmark;null!=t&&(e.savedBookmarkPosts=t,e.savedBookmarkComments=t,delete e.savedBookmark);const n=e.savedBookmarkHideUnsaved;null!=n&&(e.savedBookmarkPostsShowAlways=!n,e.savedBookmarkCommentsShowAlways=!n,delete e.savedBookmarkHideUnsaved),GM_setValue("SETTINGS_DATABASE",e)}));var d=n("./src/modules/wideMode.less");const c=new class{constructor(){this.rootStylesheet=new CSSStyleSheet,this.styleSheets=[this.rootStylesheet],this.styleKeys=new Set,this.sources=[],this.registry(document)}registry(e){this.sources.push(e);for(const t of this.styleSheets)e.adoptedStyleSheets.push(t)}addStyle(e,t=null){if(null!=t){if(this.styleKeys.has(t))return;this.styleKeys.add(t)}const n=new CSSStyleSheet;n.replaceSync(e),this.styleSheets.push(n);for(const e of this.sources)e.adoptedStyleSheets.push(n)}addRule(e){this.rootStylesheet.insertRule(e,0)}addVar(e,t,n=null){this.addRule(`:root.theme-light { ${e}: ${t} !important;}`),this.addRule(`:root { ${e}: ${n??t};}`)}};const p={isComment:!0},u={isComment:!1},h=2e3,m=3600;class g{}class f{constructor(e,t=new g){if(this.databaseKey=e+"_DATABASE",this.refreshKey=e+"_REFRESHED",this.cleanupKey=e+"_CLEANUP",this.isCleanupable=t?.isCleanupable??!1,this.validator=t?.validator??null,this.loader=t?.loader??null,this.refresh(),this.isCleanupable&&GM_getValue(this.cleanupKey,0)<Date.now()){const e=Date.now()-1728e5;this.data=Object.fromEntries(Object.entries(this.data).filter((([t,n])=>n.timestamp>e))),this.refreshed=Date.now(),GM_setValue(this.databaseKey,this.data),GM_setValue(this.refreshKey,this.refreshed),GM_setValue(this.cleanupKey,Date.now()+36e5)}}refresh(){const e=GM_getValue(this.refreshKey,0);(null==this.data||this.refreshed<e)&&(this.refreshed=e,this.data=GM_getValue(this.databaseKey,{}))}get(e){this.refresh();const t=this.data[e];return null==t?{}:t}async getWithLoader(e,t=null){this.refresh();const n=this.data[e];let o=null==n?{}:n,r=!1;return this.validator(o)&&(o=await this.loader(e),this.set(e,o),r=!0),null!=t&&t(r),o}set(e,t){this.refresh(),this.isCleanupable&&(t.timestamp=Date.now()),this.data[e]=t,this.refreshed=Date.now(),GM_setValue(this.databaseKey,this.data),GM_setValue(this.refreshKey,this.refreshed)}}var w;function v(e){const t=["Hot","New","Top","Rising"];return e==w.Home||e==w.Popular?["Best"].concat(t):t}!function(e){e[e.Sub=0]="Sub",e[e.Home=1]="Home",e[e.Popular=2]="Popular",e[e.All=3]="All"}(w||(w={}));class _{constructor(e,t=!0){this.name=e,this.defailtValue=t}isEnabled(){const e=x.get(this.name);return e instanceof Object?this.defailtValue:e}isDisabled(){return!this.isEnabled()}switch(e=null){x.set(this.name,null==e?this.isDisabled():e)}getChild(e,t=!0){return new _(this.name+e,t)}}class b{constructor(e,t,n=0){this.name=e,this.values=t,this.defaultIndex=n}get(){const e=x.get(this.name);return e instanceof Object?this.values[this.defaultIndex]:e}isDefault(){return this.get()==this.values[this.defaultIndex]}switch(e){let t=this.values.indexOf(this.get())+e;t<0&&(t=this.values.length-1),t>=this.values.length&&(t=0),x.set(this.name,this.values[t])}}const x=new f("SETTINGS"),y=new class{constructor(){this.revision=this.getRevision(),this.WIDE_MODE=new _("wideMode"),this.CONTENT_WIDTH=new b("contentWidth",["650px","700px","750px","800px","900px","1000px"],1),this.BIGGER_FONTS=new _("biggerFonts"),this.NOTIFY_POPUP=new _("notifyPopup"),this.REDIRECT_SUGGESTION=new _("redirectSuggestion"),this.REDIRECT_FORCED=new _("redirectForced",!1),this.SUB_FILTER=new _("sidebarSubFilter"),this.SIDEBAR_CUSTOMS=new _("sidebarCustoms"),this.SIDEBAR_RECENT=new _("sidebarRecent"),this.SIDEBAR_SUBS=new _("sidebarSubs"),this.SIDEBAR_RESOURCES=new _("sidebarResources"),this.SCROLL_TO_TOP=new _("scrollToTop"),this.COLLAPSE_AWARDS=new _("collapseAwards"),this.COLLAPSE_AWARDS_COMPLETELY=new _("collapseAwardsCompletely",!1),this.DEFAULT_FEED_HOME=new b("defaultFeedHome",v(w.Home),0),this.DEFAULT_FEED_POPULAR=new b("defaultFeedPopular",v(w.Popular),1),this.DEFAULT_FEED_ALL=new b("defaultFeedAll",v(w.All),0),this.DEFAULT_FEED_SUB=new b("defaultFeedSub",v(w.Sub),0),this.FEED_BUTTONS=new _("feedButtons"),this.FLAIR_BAR=new _("flairbar"),this.COLLAPSE_HIGHLIGHTS=new _("collapseHighlights",!1),this.BACKPLATES=new _("backplates"),this.SELECTABLE_POSTS=new _("selectablePosts"),this.UNWRAP_POST=new _("unwrapPost"),this.SAVED_BOOKMARK_POSTS=new _("savedBookmarkPosts"),this.SAVED_BOOKMARK_POSTS_SHOW_ALWAYAS=new _("savedBookmarkPostsShowAlways",!1),this.COMMENTS_SORT_BUTTONS=new _("commentSortButtons"),this.COMMENTS_REMEMBER_SORT=new _("commentRememberSort"),this.UNWRAP_MORE_REPLIES=new _("unwrapMoreReplies",!1),this.USER_INFO=new _("userInfo"),this.USER_TAGS=new _("userTags"),this.SHOW_NAMES=new _("showNames"),this.HIDE_SHARE=new _("hideShare"),this.GHOSTED_COMMENTS=new _("ghostedComments"),this.COLLAPSE_AUTOMODERATOR=new _("collapseAutomoderator"),this.SAVED_BOOKMARK_COMMENTS=new _("savedBookmarkComments"),this.SAVED_BOOKMARK_COMMENTS_SHOW_ALWAYAS=new _("savedBookmarkCommentsShowAlways",!1),window.addEventListener("storage",(e=>{this.isDirt()&&document.addEventListener("visibilitychange",(()=>{window.location.reload()}),{once:!0})}))}getRevision(){return parseInt(localStorage.getItem("pp_settings_s_revision")??"0")}nextRevision(){this.revision++,localStorage.setItem("pp_settings_s_revision",String(this.revision))}isDirt(){return this.getRevision()!=this.revision}};var S=n("./src/modules/app.less"),E=n("./src/modules/sidebar/sidebar.less"),k=n("./src/modules/sidebar/subFilter.less");const A="none",C="currentColor";function B(e,t,n,o={}){const r=document.createElement("div");r.innerHTML=e;const s=r.firstChild;return s.setAttribute("width",`${t}px`),s.setAttribute("height",`${n}px`),null!=o.viewBox&&s.setAttribute("viewBox",`0 0 ${o.viewBox.w} ${o.viewBox.h}`),s.setAttribute("fill",o?.fillColor??C),s.setAttribute("stroke",o?.strokeColor??C),s}class L{}L.COMMENTS_CURRENT_SORT="COMMENTS_CURRENT_SORT",L.SUB_FILTER="SUB_FILTER";const T=new f("PREFS");var R=n("./resources/subFilter.svg"),O=n.n(R),M=n("./resources/subFilterClear.svg"),D=n.n(M);let q;function I(e){T.set(L.SUB_FILTER,e),q.forEach(((t,n)=>{n.includes(e)?t.style.removeProperty("display"):t.style.display="none"}))}c.addStyle(k.A),c.addStyle(E.A);let F=!1;function N(n){n.classList.add("pp_defaultText"),t(n,(t=>{const o=t.matches("faceplate-expandable-section-helper")?t:n.querySelector("faceplate-expandable-section-helper");if(null==o)return;const r=n.querySelector('summary[aria-controls="multireddits_section"]');return null!=r?(j(o,y.SIDEBAR_CUSTOMS,(async()=>{await e((()=>o.getAttribute("open")));return{container:o,button:r,hr:o.nextElementSibling}})),!0):void 0})),t(n,(t=>{const s=t.matches("faceplate-expandable-section-helper")?t:n.querySelector("faceplate-expandable-section-helper");if(null==s)return;const i=n.querySelector('summary[aria-controls="communities_section"]');return null!=i?(async function(t){if(o(t,"pp-sub-filter"))return;const n=r(t,"div","pp_subFilter_container"),s=await e((()=>t.querySelector(".left-nav-create-community-button")));s.style.width="65px",(await e((()=>s.querySelector(".text-14")))).remove(),s.replaceWith(n),n.append(s);const i=r(n,"div",["pp_subFilter","button","button-bordered"]);i.setAttribute("tabindex","0");const a=i.attachShadow({mode:"open"});c.registry(a);const l=r(i,"span",["flex","items-center","justify-center","pp_subFilter_span"]);a.appendChild(l);const d=r(l,"span",["flex","items-center","justify-center"]),p=B(O(),16,16);d.append(p);const u=r(l,"div",["label-container","without-label"]),h=r(u,"span",["input-container","activated"]),m=r(h,"input","pp_subFilter_input");m.type="text",m.placeholder="Filter";const g=r(n,"div","pp_pp_subFilter_clearContainer"),f=r(g,"button",["pp_subFilter_clear","button-plain","pp_hidden"]),w=B(D(),16,16);f.append(w),i.addEventListener("focus",(()=>{s.style.display="none"})),i.addEventListener("focusout",(()=>{s.style.display="block"})),m.addEventListener("input",(()=>{const e=m.value.trim().toLowerCase();I(e),f.classList.toggle("pp_hidden",0==e.length)})),f.addEventListener("click",(()=>{m.value="",I(""),f.classList.toggle("pp_hidden",!0)})),null!=q&&q.clear(),q=new Map,t.querySelector("left-nav-communities-controller").shadowRoot.querySelectorAll("left-nav-community-item").forEach((e=>{q.set(e.getAttribute("prefixedname").replace("r/","").toLowerCase(),e)}));const v=T.get(L.SUB_FILTER);v instanceof Object||(m.value=v,I(v),f.classList.toggle("pp_hidden",0==v.length))}(s),j(s,y.SIDEBAR_SUBS,(async()=>{await e((()=>s.getAttribute("open")));let t=s.nextElementSibling;for(;null!=t&&!t.matches("hr");)t=t.nextElementSibling;return{container:s,button:i,hr:t}})),!0):void 0})),t(n,(t=>{let o=n.querySelector("reddit-recent-pages");if(null==o&&t.matches("reddit-recent-pages")&&(o=t),null!=o)return j(o,y.SIDEBAR_RECENT,(async()=>{const t=await e((()=>{const e=o.shadowRoot?.querySelector("faceplate-expandable-section-helper");return null!=e?.getAttribute("open")?e:null})),n=await e((()=>t?.querySelector("summary")));return c.registry(o.shadowRoot),t.classList.add("pp_defaultText"),{container:t,button:n,hr:o.querySelector("hr")}})),!0})),F||(F=!0,t(n,(e=>{const t=n.querySelector('summary[aria-controls="RESOURCES"]');if(null!=t){const e=t.parentElement.parentElement,n={container:e,button:t,hr:null};return j(e,y.SIDEBAR_RESOURCES,(()=>n)),!0}})))}async function j(e,t,n){if(o(e))return;e.classList.add("pp_sidebar_loadingSection");const r=await n();if(e.classList.remove("pp_sidebar_loadingSection"),t.isEnabled()){const e=t.getChild("Collapsed",!1),n=r.container.querySelector("details");e.isEnabled()&&(r.container.toggleAttribute("open",!1),n.classList.add("pp_sidebar_collapsedSection")),r.button.addEventListener("click",(t=>{const o=t.currentTarget;setTimeout((()=>{const t="false"===o.getAttribute("aria-expanded");e.switch(t)}),10),n.classList.toggle("pp_sidebar_collapsedSection",!1)}))}else r.container.remove(),r.hr?.remove()}var H=n("./src/modules/biggerFonts.less");y.BIGGER_FONTS.isEnabled()&&c.addStyle(H.A);var U=n("./src/modules/bookmark.less"),P=n("./resources/bookmarkSaved.svg"),W=n.n(P),V=n("./resources/bookmarkUnsaved.svg"),K=n.n(V);function $(e,t=!1){if(y.SAVED_BOOKMARK_COMMENTS.isDisabled())return;const n=e.querySelector("shreddit-overflow-menu")?.shadowRoot?.querySelector("faceplate-dropdown-menu"),o=n.querySelector(".save-comment-menu-button"),r=o.querySelector(".text-14");o.addEventListener("click",(()=>{$(e,!0)}));let s="Remove from saved"==r.textContent;if(t&&(s=!0),s||t||y.SAVED_BOOKMARK_COMMENTS_SHOW_ALWAYAS.isEnabled()){const t=e.querySelector("shreddit-comment-action-row")?.shadowRoot?.querySelector("button[downvote]");c.registry(e.querySelector("shreddit-comment-action-row")?.shadowRoot);const n=t.cloneNode(!0);t.after(n);let r=n.querySelector("svg");r=z(r,s),n.addEventListener("click",(()=>{s=!s,r=z(r,s)})),n.append(o),o.classList.add("pp_bookmark_hiddenButton")}}async function G(t,n=!1,o=void 0){if(y.SAVED_BOOKMARK_POSTS.isDisabled())return;const r=await e((()=>t.querySelector("shreddit-post-overflow-menu")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("faceplate-menu")),3e3);if(null==r)return;let s=!0,i=null;if(r.querySelectorAll("li").forEach((e=>{const t=e.querySelector(".text-14");"Save"==t.textContent&&(s=!1),"Save"!=t.textContent&&"Remove from saved"!=t.textContent||(i=e)})),null==i){const e=t.shadowRoot?.querySelector("button[upvote]"),n=t.shadowRoot?.querySelector("button[bookmark]");return n.className=e.className,void n.classList.add("pp_bookmark_post")}i.addEventListener("click",(()=>{G(t,!0,!0)}));const a=t.shadowRoot?.querySelector("button[upvote]");if(a.addEventListener("click",(()=>{G(t,!0)})),null!=o&&(s=o),s||n||y.SAVED_BOOKMARK_POSTS_SHOW_ALWAYAS.isEnabled()){const e=t.shadowRoot?.querySelector("button[downvote]"),n=e.cloneNode(!0);n.classList.add("pp_bookmark_post"),n.removeAttribute("disabled"),n.removeAttribute("downvote"),n.setAttribute("bookmark",""),e.after(n);let o=n.querySelector("svg");o=z(o,s),n.addEventListener("click",(()=>{s=!s,o=z(o,s)})),n.append(i),i.classList.add("pp_bookmark_hiddenButton")}}function z(e,t){const n=B(t?W():K(),20,20);return n.setAttribute("width","16px"),n.setAttribute("height","16px"),e.replaceWith(n),n}c.addStyle(U.A);var Z=n("./src/modules/collapseAwards.less");async function Y(t,n){if(y.COLLAPSE_AWARDS.isDisabled())return;c.addStyle(Z.A,"collapseAwards");const o=n.isComment?t.querySelector("award-button"):t.shadowRoot.querySelector("award-button");if(null!=o)if(y.COLLAPSE_AWARDS_COMPLETELY.isEnabled())o.remove();else if("0"==o.getAttribute("count")){n.isComment||c.registry(t.shadowRoot);const r=n.isComment?t.querySelector("shreddit-comment-action-row")?.shadowRoot:t?.shadowRoot,s=await e((()=>r?.querySelector("button[upvote]")),h);if(null==s)return;o.classList.toggle("pp_awardButton_hidden",Q(s)),o.classList.toggle("pp_awardButton_collapsed",Q(s)),setTimeout((()=>{o.classList.add("pp_awardButton")}),500),s.addEventListener("click",(()=>{o.classList.toggle("pp_awardButton_hidden",Q(s)),setTimeout((()=>{o.classList.toggle("pp_awardButton_collapsed",Q(s))}),10)}))}}function Q(e){return"true"!=e.getAttribute("aria-pressed")}c.addStyle(Z.A);function X(e,t,n){const o=r(e,"a","no-decoration");o.href="/r/"+t+"/?f=flair_name%3A%22"+n.text+"%22";const s=r(o,"span",["bg-tone-4","inline-block","truncate","max-w-full","text-12","font-normal","box-border","px-[6px]","rounded-[20px]","leading-4","max-w-full","py-xs","!px-sm","leading-4","h-xl","inline-flex"]);s.classList.add("light"==n.color?"text-global-white":"text-global-black"),s.style.backgroundColor=n.background;for(const e of n.richtext){if("text"==e.e){const t=document.createTextNode(e.t);s.appendChild(t)}if("emoji"==e.e){const t=document.createElement("faceplate-img");t.classList.add("flair-image"),t.setAttribute("loading","lazy"),t.setAttribute("width","16"),t.setAttribute("height","16"),t.setAttribute("src",e.u),t.setAttribute("alt",e.a),s.appendChild(t)}}if(0==n.richtext.length){const e=document.createTextNode(n.text);s.appendChild(e)}}var J=n("./src/modules/subs/flairBar.less");async function ee(t){if(y.FLAIR_BAR.isDisabled())return;let n=await e((()=>t?.querySelector("shreddit-title")?.parentElement),h);if(null==n)return;const o=t?.querySelector("community-highlight-carousel");null!=o&&(n=o);const s=n.parentElement?.querySelector(".pp_flairBar")?.parentElement;null!=s&&s.remove();const i=me(),a=await he.getWithLoader(i),l=ue.get(i);if(null==a.flairs||0==a.flairs.length)return;const d=document.createElement("div");n.before(d);const c=r(d,"div","pp_flairBar");null!=o&&c.classList.add("pp_flairBar_highlights");const p=r(c,"ul",["p-0","m-0","list-none","gap-xs","flex","flex-row","pp_flairBar_list"]);let u=0;for(const e of a.flairs){if(null!=l.hidden&&l.hidden.includes(e.text))continue;X(r(p,"li","max-w-full"),i,e),u++}if(0==u)return void d.remove();const m=document.createElement("div");m.classList.add("pp_flairBar_bordersContainer"),d.prepend(m);const g=r(m,"div","pp_flairBar_preBorder");r(g,"div",["pp_flairBar_border","pp_flairBar_border_left"]).textContent=" ";const f=r(m,"div","pp_flairBar_preBorder");r(f,"div",["pp_flairBar_border","pp_flairBar_border_right"]).textContent=" ";const w=document.createElement("hr");w.classList.add("border-0","border-b-sm","border-solid","border-b-neutral-border-weak"),d.prepend(w);const v=document.createElement("div");v.classList.add("my-xs","mx-2xs0"),d.prepend(v),p.style.left="25px";const _=p.getBoundingClientRect(),b=c.getBoundingClientRect();c.addEventListener("mousemove",(e=>{!function(e,t,n){const o=t.getBoundingClientRect(),r=n.getBoundingClientRect();if(o.width<r.width)return void(t.style.left="25px");let s=(e.clientX-(r.x+25))/(r.right-25-(r.x+25));s=Math.max(0,Math.min(s,1)),t.style.left=`${Math.round(25-(o.width-r.width+50)*s)}px`}(e,p,c)})),_.width>1.72*b.width&&p.classList.add("pp_flairBar_listSmoothed")}c.addStyle(J.A);var te=n("./src/modules/subs/subs.less"),ne=n("./src/utils/window.less"),oe=n("./src/utils/checkbox.less"),re=n("./resources/windowCloseButton.svg"),se=n.n(re);c.addStyle(ne.A),c.addStyle(oe.A);class ie{constructor(e,t,n=null){this.tittle=e,this.render=t,this.onClose=n,this.container=null,this.content=null,this.closeButton=null}build(){this.container=document.createElement("div"),this.container.classList.add("pp_window_container"),this.container.addEventListener("click",(e=>{e.target==this.container&&this.close()}));const e=r(this.container,"div","pp_window"),t=r(e,"div","pp_window_tittleContainer");let n=r(t,"div",["pp_window_tittle","flex","flex-row"]);n=r(n,"span",["text-24","font-semibold"]),n.textContent=this.tittle,this.closeButton=r(t,"div",["pp_window_closeButton","flex","items-center"]),this.closeButton=r(this.closeButton,"button",["button","icon","inline-flex","items-center","justify-center","button-small","button-secondary","px-[var(--rem6)]"]),this.closeButton.setAttribute("tittle",`Close ${this.tittle}`),this.closeButton.addEventListener("click",(e=>{this.close()})),this.closeButton=r(this.closeButton,"span",["flex","items-center","justify-center"]),this.closeButton=r(this.closeButton,"span",["flex"]);const o=B(se(),16,16,{strokeColor:A});this.closeButton.append(o),r(e,"hr","border-b-neutral-border-weak"),this.content=r(e,"div","pp_window_content"),r(e,"div","pp_window_footer").textContent=" "}open(e=null){for(null==this.container&&this.build();this.content.firstChild;)this.content.removeChild(this.content.lastChild);this.render(this,e),document.body.appendChild(this.container),document.body.style.overflow="hidden"}close(){this.container.remove(),document.body.style.overflow="visible",null!=this.onClose&&this.onClose()}}var ae=n("./src/modules/subs/flairWindow.less");c.addStyle(ae.A);const le=new ie("Flairs settings",(function(e,t){const n=r(e.content,"div",["pp_window_element","pp_flairWindow_columnTittle"]),o=r(n,"div","pp_checkBox_panelArea");r(o,"div",["text-14","font-semibold","mb-xs"]).textContent="Flairs bar:";const s=r(n,"div","pp_checkBox_panelArea");r(s,"div",["text-14","font-semibold","mb-xs"]).textContent="Feed:";const i=r(e.content,"div",["pp_window_scrollContent","styled-scrollbars"]),a=r(i,"div","pp_window_elementsContainer"),l=he.get(t.sub);for(const d of l.flairs){const c=r(a,"div","pp_window_element"),p=r(c,"div","pp_flairWindow_flairContainer"),u=ue.get(t.sub);function h(e){const n=r(c,"div","pp_checkBox_panelArea"),o=r(n,"div","pp_checkBox_container"),s=r(o,"button","pp_checkBox_button"),i=!u[e]?.includes(d.text);s.classList.toggle("pp_checkBox_buttonActive",i);r(s,"div","pp_checkBox_knob");s.addEventListener("click",(n=>{const o=ue.get(t.sub);let r=o[e]?.includes(d.text)??!1;if(s.classList.toggle("pp_checkBox_buttonActive",r),r)o[e]=o[e].filter((e=>e!=d.text));else{const t=o[e]??[];t.push(d.text),o[e]=t}ue.set(t.sub,o)}))}h(de),h(ce),X(p,t.sub,d)}}),(function(){ee(document.body.querySelector("#main-content"))}));c.addStyle(te.A);const de="hidden",ce="banned";const pe=new f("SUBS_SETTINGS"),ue=new f("FLAIRS"),he=new f("SUBS",{isCleanupable:!0,validator:function(e){return null==e.flairs},loader:async function(e){let t={};const n=await fetch(`https://www.reddit.com/r/${e}/api/link_flair_v2.json?raw_json=1`,{cache:"no-cache",method:"get"}),o=await n.json(),r=[];if(null!=o&&null==o.message){for(const e of o){const t={text:e.text,color:e.text_color,background:e.background_color,richtext:e.richtext};r.push(t)}return t.flairs=r,t}return t.flairs=r,i(`Unable to load r/${e} flairs data`),t}});function me(){const e=window.location.href.split("reddit.com/r/");return e.length>1?e[1].split("/")[0]:null}async function ge(t){null!=t.querySelector("shreddit-feed-error-banner")&&(async function(t){const n=await e((()=>t.parentElement.parentElement.querySelector(".masthead")));if(o(n))return;n.querySelector("section").classList.add("pp_mastheadSection"),document.body.addEventListener("click",fe)}(t),ee(t),async function(t){if(y.COLLAPSE_HIGHLIGHTS.isDisabled())return;const n=await e((()=>t?.querySelector("community-highlight-carousel")?.shadowRoot?.querySelector("button")),h);null!=n&&n.click()}(t))}function fe(e){const t=e.target;if(1!=t.matches("shreddit-subreddit-header-buttons"))return;if(o(t))return;const n=t.shadowRoot.querySelector("shreddit-subreddit-overflow-control").shadowRoot.querySelector("faceplate-menu"),r=n.querySelector("li"),s=r.cloneNode(!0);s.querySelector(".text-14").textContent="Flairs settings",n.prepend(s);const i=me();s.addEventListener("click",(()=>{le.open({sub:i})}));const a=document.createElement("a");a.href="https://www.reddit.com/"+t.getAttribute("prefixed-name")+"/about/",a.classList.add("no-underline"),n.prepend(a);const l=r.cloneNode(!0);l.querySelector(".text-14").textContent="About",a.prepend(l)}var we=n("./src/modules/posts/posts.less"),ve=n("./src/modules/posts/postsBackplates.less"),_e=n("./resources/postUnwrapButton.svg"),be=n.n(_e);async function xe(t){if(o(t))return;!async function(t){if(window.location.href.includes("/comments/"))return;const n=t.getAttribute("subreddit-prefixed-name").replace("r/",""),o=ue.get(n),r=await e((()=>t.querySelector("shreddit-post-flair")?.querySelector("a")),h);if(null!=r){const n=decodeURIComponent(r.href.split("%22")[1]);if(null!=o.banned&&o.banned.includes(n)){const n=await e((()=>t.parentElement.nextElementSibling),h);t.remove(),n?.remove()}}}(t),async function(t){await e((()=>t.shadowRoot));c.registry(t.shadowRoot)}(t),async function(t){const n=await e((()=>t.querySelector(".feed-card-text-preview")),h);if(null==n)return;y.SELECTABLE_POSTS.isEnabled()&&n.parentElement.parentElement.removeAttribute("href");n.classList.remove("feed-card-text-preview");for(const e of n.childNodes)if(e instanceof Element&&e.matches("object")){const t=e.querySelector("a")?.href;if(null!=t){const n=document.createElement("faceplate-img");n.setAttribute("src",t),n.setAttribute("loading","eager"),n.setAttribute("sizes","(min-width: 1415px) 750px, (min-width: 768px) 50vw, 100vw"),n.className="block w-fit my-0 mx-auto max-w-[100%]",e.replaceWith(n)}}!async function(t,n){await e((()=>t.shadowRoot),h);const o=n.getBoundingClientRect().height;n.classList.add("pp_post_noWrap");const s=n.getBoundingClientRect().height;if(n.classList.remove("pp_post_noWrap"),s>o+5){const e=r(t,"div","pp_post_unwrapContainer");t.shadowRoot.append(e);const o=r(e,"div","pp_post_unwrapButton"),s=B(be(),25,25);o.append(s),o.addEventListener("click",(()=>{n.classList.add("pp_post_noWrap"),e.remove()}),{once:!0})}}(t,n)}(t),async function(t){const n=await e((()=>t.shadowRoot?.querySelector("shreddit-post-share-button")?.shadowRoot?.querySelector("button")));c.registry(n.parentNode.parentNode),n.classList.add("pp_post_shareButton")}(t),G(t);if(null!=await e((()=>t.shadowRoot?.querySelector("award-button")),h)&&Y(t,u),y.SELECTABLE_POSTS.isEnabled()){t.querySelector('a[slot="full-post-link"]')?.remove();const n=await e((()=>t.querySelector('a[slot="title"]')),h);n?.classList?.add("pp_post_tittle")}}c.addStyle(we.A),y.BACKPLATES.isEnabled()&&c.addStyle(ve.A);var ye=n("./src/modules/feed/feedButtons.less"),Se=n("./resources/feedButtons/feedButtonBest_empty.svg"),Ee=n.n(Se),ke=n("./resources/feedButtons/feedButtonBest.svg"),Ae=n.n(ke),Ce=n("./resources/feedButtons/feedButtonHot.svg"),Be=n.n(Ce),Le=n("./resources/feedButtons/feedButtonNew.svg"),Te=n.n(Le),Re=n("./resources/feedButtons/feedButtonRising.svg"),Oe=n.n(Re),Me=n("./resources/feedButtons/feedButtonTop.svg"),De=n.n(Me);function qe(e,t){if(e==w.Sub){const e=pe.get(me());if(null!=e.defaultFeed)return e.defaultFeed==t}const n=function(e){switch(e){case w.Home:return y.DEFAULT_FEED_HOME;case w.Popular:return y.DEFAULT_FEED_POPULAR;case w.All:return y.DEFAULT_FEED_ALL;default:return y.DEFAULT_FEED_SUB}}(e);return!n.isDefault()&&n.get()==t}c.addStyle(ye.A);const Ie={Best:Ae(),Hot:Be(),New:Te(),Top:De(),Rising:Oe()},Fe=["inline-flex","flex-col","text-neutral-content-weak","font-semibold","rounded-full","hover:no-underline","hover:bg-secondary-background-hover","hover:text-secondary-content","active:bg-secondary-background","pl-[var(--rem16)]","pr-[var(--rem16)]"];async function Ne(t,n){if(y.FEED_BUTTONS.isDisabled())return;if(o(t))return;const s=n?.querySelector('div[slot="selected-item"]')?.textContent;n?.remove();const i=window.location.href.includes("?feed=home")||"https://www.reddit.com/"==window.location.href?w.Home:window.location.href.includes("reddit.com/r/popular/")?w.Popular:window.location.href.includes("reddit.com/r/all/")?w.All:w.Sub;let a=null,l=null;if(i!=w.Sub){const n=await e((()=>t.querySelector("shreddit-layout-event-setter")?.parentElement));n.classList.add("pp_feedButtonsContainer"),a=document.createElement("div"),a.classList.add("flex","mx-md","shrink-0","pp_feedContainer"),n.prepend(a),l=i==w.Home?e=>`/${e.toLowerCase()}/?feed=home`:e=>`/r/${i==w.Popular?"popular":"all"}/${e.toLowerCase()}/`}else{const n=await e((()=>t.querySelector('a[slot="page-3"]')?.parentElement?.parentElement));a=document.createElement("div"),a.classList.add("flex","mx-md","shrink-0","pp_feedContainer"),n.before(a),n.remove();const o=me();l=e=>`/r/${o}/${e.toLowerCase()}/`;const i=a.parentElement;i.classList.toggle("justify-between",!1),i.classList.toggle("flex-wrap",!1),i.classList.toggle("pp_feedPanel",!0);const d=document.createElement("div");d.classList.add("pp_feedPanel_space"),a.after(d);let c=pe.get(o);const p=null==c.defaultFeed?s==y.DEFAULT_FEED_SUB.get():s==c.defaultFeed,u=document.createElement("div");u.classList.add("pp_defaultFeed_mark");let h=B(p?Ae():Ee(),16,16);u.append(h),d.after(u);const m=r(u,"div","pp_defaultFeed_mark_hint"),g=r(m,"span");g.textContent=p?`${s} is default feed for r/${o}`:`Set ${s} as default feed for r/${o}`,p||u.addEventListener("click",(()=>{const e=B(Ae(),16,16);h.replaceWith(e),g.textContent=`${s} is default feed for r/${o}`,c.defaultFeed=s,pe.set(o,c)}),{once:!0})}const d=v(i),c="https://www.reddit.com/"==window.location.href||(window.location.href.includes("?feed=home")?window.location.href.includes("reddit.com/?feed=home"):window.location.href.split("/r/")[1].split("/").length<3);for(const e of d){const t=r(a,"a",Fe);t.href=l(e);const n=e==s;t.classList.toggle("bg-secondary-background-selected",n),t.classList.toggle("!text-neutral-content-strong",n);const o=r(t,"span",["inline-flex","flex-row","items-center","gap-xs","py-[var(--rem10)]","leading-5","font-14","pp_feedButton"]);let d=Ie[e];if(null!=d){let e=B(d,16,16);o.append(e)}r(o,"span").textContent=e,c&&qe(i,e)&&t.click()}}let je=null;var He=n("./resources/imageCloseButton.svg"),Ue=n.n(He),Pe=n("./src/utils/imageViewer.less");c.addStyle(Pe.A);const We=new class{constructor(){this.openned=!1,this.viewer=null,this.container=null,this.image=null,this.mouse={x:0,y:0},this.drag={enabled:!1,start:{x:0,y:0},current:{x:0,y:0},scale:1},this.scrollImage=this.scrollImage.bind(this),this.startDrag=this.startDrag.bind(this),this.mouseMove=this.mouseMove.bind(this),this.endDrag=this.endDrag.bind(this)}open(e){this.openned||(this.openned=!0,null==this.viewer&&this.build(),this.image.src=e,window.addEventListener("wheel",this.scrollImage,{passive:!1}),this.image.addEventListener("mousedown",this.startDrag),document.addEventListener("mousemove",this.mouseMove),this.image.addEventListener("mouseup",this.endDrag),this.image.addEventListener("mouseleave",this.endDrag),this.drag.current={x:0,y:0},this.drag.scale=1,this.updateTransform(),document.body.appendChild(this.viewer))}close(){this.viewer.remove(),this.drag.enabled=!1,this.container.classList.toggle("pp_imageViewer_drag",!1),window.removeEventListener("wheel",this.scrollImage),this.image.removeEventListener("mousedown",this.startDrag),document.removeEventListener("mousemove",this.mouseMove),this.image.removeEventListener("mouseup",this.endDrag),this.image.removeEventListener("mouseleave",this.endDrag),this.openned=!1}build(){this.viewer=document.createElement("div"),this.viewer.classList.add("pp_imageViewer"),this.viewer.dataset.open=String(!1);const e=r(this.viewer,"div","pp_imageViewer_closeButton"),t=B(Ue(),40,40);e.appendChild(t),this.container=r(this.viewer,"div","pp_imageViewer_imageContainer"),this.image=r(this.container,"img","pp_imageViewer_image"),this.image.alt="Comment image",this.image.ondragstart=function(){return!1},this.viewer.addEventListener("click",(e=>{e.target!=this.image&&this.close()})),e.addEventListener("click",(()=>{this.close()}))}updateTransform(){this.container.style.transform=`translate(${this.drag.current.x}px, ${this.drag.current.y}px) scale(${this.drag.scale}, ${this.drag.scale})`}startDrag(e){this.drag.start.x=e.screenX-this.drag.current.x,this.drag.start.y=e.screenY-this.drag.current.y,this.drag.enabled=!0,this.container.classList.toggle("pp_imageViewer_drag",!0)}mouseMove(e){this.mouse.x=e.clientX,this.mouse.y=e.clientY,this.drag.enabled&&(this.drag.current.x=e.screenX-this.drag.start.x,this.drag.current.y=e.screenY-this.drag.start.y,this.updateTransform())}endDrag(){this.fit(1),this.drag.enabled=!1,this.container.classList.toggle("pp_imageViewer_drag",!1)}scrollImage(e){const t=Math.max(1,1+Math.log2(this.drag.scale*this.drag.scale)),n=this.drag.scale;this.drag.scale=Math.max(.5,this.drag.scale+-e.deltaY/1e3*t);const o=this.image.getBoundingClientRect(),r=o.height/2,s=o.width/2,i=o.y+r,a=o.x+s,l=this.drag.scale/n-1;this.drag.current.y-=Math.min(Math.max(this.mouse.y-i,-r),r)*l,this.drag.current.x-=Math.min(Math.max(this.mouse.x-a,-s),s)*l,e.deltaY>0&&(this.drag.current.y/=1.1,this.drag.current.x/=1.1),this.fit(.33),e.preventDefault()}fit(e){const t=this.image.getBoundingClientRect(),n=0-t.left,o=t.right-window.innerWidth+0;n>0&&o<0?this.drag.current.x+=(t.width>window.innerWidth?-o:n)*e:n<0&&o>0&&(this.drag.current.x+=(t.width>window.innerWidth?n:-o)*e);const r=0-t.top,s=t.bottom-window.innerHeight+0;r>0&&s<0?this.drag.current.y+=(t.height>window.innerHeight?-s:r)*e:r<0&&s>0&&(this.drag.current.y+=(t.height>window.innerHeight?r:-s)*e),this.updateTransform()}};var Ve=n("./src/modules/comments/hideShare.less"),Ke=n("./src/modules/comments/comments.less");const $e=new f("USERS",{isCleanupable:!0,validator:function(e){return null==e.accountId},loader:async function(e){let t={};try{const n=await fetch(`https://oauth.reddit.com/user/${e}/about.json`,{cache:"no-cache",method:"get"});if(!n.ok)return i(`Failed to load user (${e}) data with code ${n.status} : ${n.statusText}`),t;const o=await n.json();return 1==o.data?.is_suspended||1==o.data?.is_blocked?(t.banned=!0,t):(t.rating=(o.data?.link_karma??0)+(o.data?.comment_karma??0)/2,o.data?.subreddit?.title&&(t.nick=o.data.subreddit.title),t.created=o.data?.created??0,t.accountId=o.kind+"_"+o.data?.id,t)}catch(n){return i(`Failed to load user (${e}) data with error ${n}`),t}}});class Ge{getInput(e,t){}run(e,t){let n=$e.get(t);const o={csrf_token:(r="csrf_token",document.cookie.split("; ").find((e=>e.startsWith(r)))?.split("=")[1]),operation:this.key,variables:{input:this.getInput(e,n.accountId)}};var r;fetch("https://www.reddit.com/svc/shreddit/graphql",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{null!=e&&e.errors?.message&&s(e.errors.message)}))}}const ze=new class extends Ge{constructor(){super(...arguments),this.key="UpdateProfileFollowState",this.enable="FOLLOWED",this.disable="NONE"}getInput(e,t){return{accountId:t,state:e?this.enable:this.disable}}},Ze=new class extends Ge{constructor(){super(...arguments),this.key="UpdateRedditorBlockState",this.enable="BLOCKED",this.disable="NONE"}getInput(e,t){return{redditorId:t,blockState:e?this.enable:this.disable}}};var Ye=n("./resources/comments/userTags/followedIcon.svg"),Qe=n.n(Ye),Xe=n("./resources/comments/userTags/likedIcon.svg"),Je=n.n(Xe),et=n("./resources/comments/userTags/warningIcon.svg"),tt=n.n(et),nt=n("./resources/comments/userTags/blockedIcon.svg"),ot=n.n(nt),rt=n("./resources/comments/userTags/followedButton.svg"),st=n.n(rt),it=n("./resources/comments/userTags/likedButton.svg"),at=n.n(it),lt=n("./resources/comments/userTags/warningButton.svg"),dt=n.n(lt),ct=n("./resources/comments/userTags/blockedButton.svg"),pt=n.n(ct),ut=n("./src/modules/comments/userTags.less");class ht{}ht.FOLLOWED="Followed",ht.LIKED="Liked",ht.WARNING="Warning",ht.BLOCKED="Blocked";const mt=new Map([[ht.FOLLOWED,{priority:100,addHint:"Follow",removeHint:"Unfollow",color:"#0b7ed3",icon:Qe(),button:st()}],[ht.LIKED,{priority:2,addHint:"Tag as liked",removeHint:"Remove liked tag",color:"#C95A54",icon:Je(),button:at()}],[ht.WARNING,{priority:1,addHint:"Tag as warned",removeHint:"Remove warned tag",color:"#D4A343",icon:tt(),button:dt()}],[ht.BLOCKED,{priority:0,addHint:"Block",removeHint:"Unblock",color:"#663988",icon:ot(),button:pt()}]]);const gt=new f("TAGS");async function ft(t){if(y.USER_TAGS.isDisabled())return;c.addStyle(ut.A,"userTags");const n=t.getAttribute("author");if(null==n)return;const o=gt.get(n),r=await e((()=>t.querySelector('div[pp-anchor="tags"]')),h);if(null!=r){if(r.parentNode.querySelectorAll('svg[userTag="true"]').forEach((e=>{e.remove()})),null!=o.tags)for(const e of o.tags)s(e)}else i("Unable to render userTags");function s(e){const t=mt.get(e),n=B(t.icon,20,20);n.setAttribute("userTag","true"),n.setAttribute("viewBox","-4 -4 20 20"),n.style.color=t.color,r.after(n)}}const wt="#adadad";function vt(e,t){if(y.USER_TAGS.isDisabled())return;const n=document.createElement("div");n.classList.add("pp_tagHint_offset"),e.prepend(n);const o=document.createElement("div");o.classList.add("pp_tagHintContainer"),n.prepend(o);const i=r(o,"div","pp_tagHint");i.style.display="none";const a=document.createElement("div");a.classList.add("pp_tagsPanel"),n.after(a),mt.forEach(((e,n)=>{!function(e,n){const o=r(a,"span","pp_tagButton");o.setAttribute("userTag",n);const l=B(e.button,20,20);o.appendChild(l);const d={userTag:n,userId:t,button:o,hint:i};o.addEventListener("click",(()=>{!function(e){if(null!=e.button.getAttribute("has-cooldown")||null!=e.button.getAttribute("has-blocked"))return void s("Unable to do this");let t=gt.get(e.userId);null==t.tags&&(t.tags=[]);let n=!1;t.tags.includes(e.userTag)?t.tags=t.tags.filter((t=>t!=e.userTag)):(t.tags.push(e.userTag),n=!0,e.userTag==ht.BLOCKED&&(t.tags=t.tags.filter((e=>e!=ht.FOLLOWED))));t.tags.length>1&&t.tags.sort(((e,t)=>mt.get(e).priority-mt.get(t).priority));gt.set(e.userId,t),document.body.querySelectorAll(`shreddit-comment[author="${e.userId}"]`).forEach((t=>{ft(t),n&&e.userTag==ht.BLOCKED&&t.setAttribute("collapsed","")})),e.userTag==ht.FOLLOWED&&ze.run(n,e.userId);e.userTag==ht.BLOCKED&&(n||(t.blockCooldown=Date.now()/1e3+86442,gt.set(e.userId,t)),Ze.run(n,e.userId));_t(e.button.parentElement,e.userId)}(d)})),o.addEventListener("mouseenter",(()=>{!function(e){e.hint.style.display=null,e.hint.dataset.target=e.userTag;const t=gt.get(e.userId),n=mt.get(e.userTag),o=(t?.tags??[]).includes(e.userTag);if(e.hint.innerText=o?n.removeHint:n.addHint,null!=e.button.getAttribute("has-cooldown")){const n=Math.round((t.blockCooldown-Date.now()/1e3)/m);e.hint.innerText=`Unable to block for ${n}h after unblocking`}null!=e.button.getAttribute("has-blocked")&&(e.hint.innerText="Unable to follow on blocked user")}(d)})),o.addEventListener("mouseleave",(()=>{!function(e){e.hint.dataset?.target==e.userTag&&(e.hint.style.display="none")}(d)}))}(e,n)})),_t(a,t)}function _t(e,t){const n=gt.get(t),o=n?.tags??[];e.querySelectorAll(".pp_tagButton").forEach((e=>{const t=e.getAttribute("userTag"),r=mt.get(t);e.removeAttribute("has-cooldown"),e.removeAttribute("has-blocked"),o.includes(t)?(e.classList.toggle("pp_tagButtonActive",!0),e.style.backgroundColor=r.color,e.style.color="white"):(e.classList.toggle("pp_tagButtonActive",!1),e.style.color=r.color,e.style.removeProperty("background-color"),t==ht.BLOCKED&&null!=n.blockCooldown&&Date.now()/1e3<n.blockCooldown&&(e.setAttribute("has-cooldown",""),e.style.color=wt),t==ht.FOLLOWED&&o.includes(ht.BLOCKED)&&(e.setAttribute("has-blocked",""),e.style.color=wt))}))}var bt=n("./resources/comments/shareButton.svg"),xt=n.n(bt);var yt=n("./src/modules/comments/sortButtons.less"),St=n("./resources/comments/sortButtons/controversial.svg"),Et=n.n(St),kt=n("./resources/comments/sortButtons/old.svg"),At=n.n(kt),Ct=n("./resources/comments/sortButtons/qa.svg"),Bt=n.n(Ct);class Lt{}Lt.BEST="Best",Lt.TOP="Top",Lt.NEW="New",Lt.CONTROVERSIAL="Controversial",Lt.OLD="Old",Lt.QA="QA";const Tt="sort=";function Rt(e,t){return"confidence"===t&&!e.includes("?")||e.includes(`${Tt}${t}`)}const Ot=new Map([[Lt.BEST,{icon:Ae(),href:"confidence",isCurrent:e=>Rt(e,"confidence")}],[Lt.TOP,{icon:De(),href:"top",isCurrent:e=>Rt(e,"top")}],[Lt.NEW,{icon:Te(),href:"new",isCurrent:e=>Rt(e,"new")}],[Lt.CONTROVERSIAL,{icon:Et(),href:"controversial",isCurrent:e=>Rt(e,"controversial")}],[Lt.OLD,{icon:At(),href:"old",isCurrent:e=>Rt(e,"old")}],[Lt.QA,{icon:Bt(),href:"qa",isCurrent:e=>Rt(e,"qa"),overrideName:"Q&A"}]]);let Mt=!1;function Dt(){let e=T.get(L.COMMENTS_CURRENT_SORT);return e instanceof Object&&(e=Lt.BEST),e}function qt(){if(y.COMMENTS_REMEMBER_SORT.isEnabled()&&window.location.href.includes("/comments/")){const e=Ot.get(Dt());if(e.isCurrent(window.location.href))return!1;let t=window.location.href;const n=t.includes("?")&&!t.includes(Tt);if(t.includes(Tt)){const e=t.indexOf(Tt),n=t.slice(0,e-1);t=n}return window.location.replace(t+(n?"&":"?")+Tt+e.href),!0}return!1}async function It(t){if(y.COMMENTS_SORT_BUTTONS.isDisabled())return;c.addStyle(yt.A,"sortButtons"),Mt=!1;const n=await e((()=>t.querySelector("comment-body-header")?.querySelector(".pdp-comments-tree-sort-container")),h);if(null==n)return;const i=await e((()=>t.querySelector("comment-body-header")?.querySelector("pdp-comment-search-input")?.shadowRoot?.querySelector(".pr-xs")),h);if(o(n))return;let a;n.querySelector("shreddit-sort-dropdown").classList.add("pp_sortDropdown_hidden"),i.textContent="Search",y.COMMENTS_REMEMBER_SORT.isEnabled()?a=Dt():Ot.forEach(((e,t)=>{e.isCurrent(window.location.href)&&(a=t)})),Ot.forEach(((t,o)=>{!function(t,o){const i=r(n,"div","pp_sortButton");i.classList.toggle("pp_sortButton_active",t==a),i.setAttribute("commentSort",t),i.addEventListener("click",(()=>{!async function(t){if(Ft)return void s("Unable to switch sort while loading comments");const n=await e((()=>document.body.querySelector("comment-body-header")?.querySelector(".pdp-comments-tree-sort-container")),h),o=Ot.get(t),r=n.querySelector(`data[value="${o.href.toUpperCase()}"]`);r.click(),T.set(L.COMMENTS_CURRENT_SORT,t),Ft=!0;const i=setInterval((()=>{o.isCurrent(window.location.href)&&(clearInterval(i),Ot.forEach(((e,o)=>{n.querySelector(`div[commentSort="${o}"]`).classList.toggle("pp_sortButton_active",o==t)})))}),20)}(t)}));const l=r(i,"span"),d=B(o.icon,16,16);l.append(d);r(i,"span").textContent=null!=o.overrideName?o.overrideName:t}(o,t)})),Mt=!0}let Ft=!1;function Nt(e){if(!y.UNWRAP_MORE_REPLIES.isDisabled()&&null==e.getAttribute("collapsed"))for(const t of e.childNodes)if(t instanceof HTMLElement){if(t.matches("faceplate-partial")&&t.getAttribute("src")?.includes("/more-comments/")&&!o(t)){t.click();let n=0;const o=setInterval((()=>{if(n++,null==t.parentNode)return clearInterval(o),void setTimeout((()=>{Nt(e)}),50);n>60&&(clearInterval(o),i("Unable load more replies"))}),100)}t.matches("a")&&"more-comments-permalink"==t.getAttribute("slot")&&(t.querySelector(".text-secondary-weak").textContent="More replies in single thread")}}var jt=n("./resources/comments/newUser.svg"),Ht=n.n(jt),Ut=n("./resources/comments/bannedUser.svg"),Pt=n.n(Ut);let Wt=!1;let Vt=null,Kt=null,$t=null;function Gt(e){e.querySelectorAll('shreddit-comment[depth="0"]').forEach((e=>{zt(e)}))}function zt(e){o(e)||Vt.observe(e.querySelector('div[slot="commentMeta"]'))}function Zt(e){e.querySelectorAll("shreddit-comment").forEach((e=>{Yt(e)}))}function Yt(e){o(e)||Kt.observe(e.querySelector('div[slot="commentMeta"]'))}async function Qt(t){const n=t.querySelector('div[slot="comment"]');if(y.COLLAPSE_AUTOMODERATOR.isEnabled()){const e=t.getAttribute("author");if(null!=e&&"AutoModerator"==e)return void t.setAttribute("collapsed","");const n=null!=t.querySelector('div[slot="commentMeta"]')?.querySelector('shreddit-comment-author-modifier-icon[distinguished-as="MODERATOR"]'),o=null!=t.querySelector("shreddit-comment-badges")?.shadowRoot?.querySelector('svg[icon-name="pin-fill"]');if(n&&o)return void t.setAttribute("collapsed","")}setTimeout((()=>{Nt(t)}),150);const o=t.querySelector('div[slot="commentMeta"]').querySelector('faceplate-hovercard[data-id="user-hover-card"]');if(null==o)return;const r=document.createElement("div");r.setAttribute("pp-anchor","tags"),o.parentElement.querySelector(".ml-2xs").after(r);const i=await e((()=>o.parentElement.querySelector("time")?.parentElement?.parentElement),h),a=document.createElement("div");a.setAttribute("pp-anchor","info"),i?.before(a),y.GHOSTED_COMMENTS.isEnabled()&&parseInt(t.getAttribute("score"))<0&&(t.querySelector('div[slot="commentAvatar"]').classList.add("pp_muted_avatar"),t.querySelector('faceplate-tracker[noun="comment_author"]').querySelector("a").style.color="#a5a5a5",n.classList.add("pp_muted_content"));const l=n.querySelector('figure[class="rte-media"]');if(null!=l){const e=l.querySelector("a"),t=e.getAttribute("href");e.removeAttribute("href");let n=l.querySelector("img");null==n&&(n=l.querySelector("shreddit-player-2")),n.classList.add("pp_imageViewable"),e.addEventListener("click",(()=>{We.open(t)}))}Y(t,p),ft(t),async function(t){if(y.USER_INFO.isDisabled())return;await e((()=>!Wt||null)),Wt=!0;const n=t.getAttribute("author"),o=await $e.getWithLoader(n,(e=>{e?setTimeout((()=>{Wt=!1}),150+100*Math.random()):Wt=!1}));let r=t.querySelector('faceplate-tracker[noun="comment_author"]').querySelector("a");y.SHOW_NAMES.isEnabled()&&null!=o.nick&&o.nick&&(r.textContent=o.nick);const s=t.querySelector('div[pp-anchor="info"]'),i=document.createElement("div");if(i.classList.add("text-neutral-content-weak","text-12"),null!=o.rating){i.textContent=o.rating<1e4?Math.round(o.rating/100)/10+"K":`${Math.round(o.rating/1e3)}K`,s.after(i);const e=document.createElement("span");e.classList.add("inline-block","my-0","mx-2xs","text-12","text-neutral-content-weak"),e.textContent="•",i.after(e)}const a=t.querySelector('div[pp-anchor="tags"]');if(null!=o.created&&o.created>Date.now()/1e3-5529600){const e=B(Ht(),20,20);e.setAttribute("viewBox","-2 -2 20 20"),a.before(e)}if(null!=o.banned&&o.banned){const e=B(Pt(),20,20);e.setAttribute("viewBox","-2 -2 20 20"),a.before(e)}}(t);const d=await e((()=>t.querySelector("shreddit-overflow-menu")?.shadowRoot?.querySelector("faceplate-dropdown-menu")));$(t),d.addEventListener("click",(()=>{!function(e){document.body.click();let t=e.querySelector("shreddit-overflow-menu").shadowRoot;c.registry(t);const n=t.querySelector("faceplate-menu"),o=n.querySelector('faceplate-tracker[noun="report"]');if(y.HIDE_SHARE.isEnabled()){let t=o.cloneNode(!0);t.querySelector("span .text-14").textContent="Copy link",o.before(t);const n=t.querySelector("svg"),r=B(xt(),20,20);n.replaceWith(r);const i=e.getAttribute("permalink");t.addEventListener("click",(()=>{navigator.clipboard.writeText(`https://www.reddit.com${i}`),s("Link copied")}))}t.querySelector("button").addEventListener("click",(()=>{document.body.click()})),vt(n,e.getAttribute("author"))}(t)}),{once:!0})}var Xt=n("./src/modules/scrollToTop.less"),Jt=n("./resources/scrollButton.svg"),en=n.n(Jt);let tn=null,nn=null,on=0,rn=!1,sn=!1,an=null;function ln(){rn=window.innerWidth>1490;const e=an.getBoundingClientRect();tn.style.left=(300+e.left)/2-50+"px",dn()}function dn(){const e=!(rn&&(sn||on>0)),t=!sn&&on>0;tn.classList.toggle("pp_scrollToTop_hidden",e),nn.classList.toggle("pp_scrollToTop_inverted",t)}async function cn(){c.addStyle(S.A,"app");if(o(await e((()=>document.body.querySelector("dsa-transparency-modal-provider")))))return;!async function(t){if(window.location.href.includes("/user/"))return;const n=await e((()=>t.querySelector("#main-content")));n.querySelectorAll("shreddit-post").forEach((e=>{xe(e)}));const o=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)e instanceof HTMLElement&&e.matches("shreddit-post")&&xe(e)}));o.observe(n,{childList:!0,subtree:!0}),setTimeout((()=>{o.disconnect()}),h),null!=je&&je.disconnect(),je=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)e instanceof HTMLElement&&(e.matches("faceplate-batch")&&e.querySelectorAll("shreddit-post").forEach((e=>{xe(e)})),e.matches("article")&&xe(e.querySelector("shreddit-post")))})),je.observe(n,{childList:!0,subtree:!0}),ge(n);const r=await e((()=>n.querySelector("shreddit-sort-dropdown")),h);(null==r||"comment-sort-button"==r.getAttribute("trigger-id"))&&!window.location.href.includes("/about/")||Ne(n,r)}(document.body),async function(e){c.addStyle(Ke.A,"comments"),y.HIDE_SHARE.isEnabled()&&c.addStyle(Ve.A,"hideShare"),null!=Vt?Vt.disconnect():Vt=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting&&(Qt(t.target.parentElement),Zt(t.target.parentElement),Vt.unobserve(t.target))}),{threshold:.05}),null!=Kt?Kt.disconnect():Kt=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting&&(Qt(t.target.parentElement),Kt.unobserve(t.target))}),{threshold:.05}),null!=$t?$t.disconnect():$t=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)if(e instanceof HTMLElement){const t=e.parentElement?.querySelector("shreddit-comment-tree");null!=t&&(Gt(t),Ft=!1,Mt||It(document.body)),e.matches("shreddit-comment")&&("0"==e.getAttribute("depth")?zt(e):(Yt(e),Zt(e)))}})),$t.observe(e,{childList:!0,subtree:!0}),It(e)}(document.body);const n=await e((()=>document.body.querySelector("#left-sidebar-container")),3e3);N(n);const s=n.parentElement;s.classList.add("pp_pageContainer"),s.querySelector(".subgrid-container").classList.add("pp_mainFeed");const i=await e((()=>document.body.querySelector("#right-sidebar-container")));i.classList.add("pp_rightSidebar"),i.classList.toggle("styled-scrollbars",!0),function(e,n){if(y.WIDE_MODE.isDisabled())return;if(c.addStyle(d.A,"wideMode"),c.addVar("--pp-content-width",y.CONTENT_WIDTH.get()),n.parentNode==e)return;const o=n.parentElement;let r=!(window.innerWidth>=1392);function s(e){return e.classList.contains("rounded-[16px]")&&(e.classList.add("pp_rightSidebar_contextLookup"),window.innerWidth<1392&&e.parentNode!=n.parentNode&&n.after(e)),!1}function i(){window.innerWidth>=1392&&!r&&(e.prepend(n),r=!0),window.innerWidth<1392&&r&&(o.append(n),r=!1)}t(e,s,!1),t(o,s,!1),i(),window.addEventListener("resize",(e=>{i()}))}(s,i),function(){if(y.SCROLL_TO_TOP.isDisabled())return;c.addStyle(Xt.A,"scrollToTop");const e=document.body.querySelector(".main-container").parentElement;an=document.body.querySelector(".main-container"),tn=r(e.parentElement,"div","pp_scrollToTop"),nn=B(en(),40,40),tn.append(nn),tn.addEventListener("click",(()=>{sn?(on=window.scrollY,window.scrollTo({top:0,behavior:"smooth"}),sn=!1):on>0&&(window.scrollTo({top:on,behavior:"smooth"}),on=0,sn=!0),dn()})),window.addEventListener("resize",(e=>{ln()}));let t=!1;setInterval((()=>{sn=window.scrollY>1e3,sn!=t&&(t=sn,dn())}),330),ln()}()}var pn=n("./src/modules/header.less"),un=n("./src/modules/notifications.less");y.NOTIFY_POPUP.isEnabled()&&c.addStyle(un.A);var hn=n("./src/modules/settings/settingsWindow.less"),mn=n("./resources/settingsArrow.svg"),gn=n.n(mn);c.addStyle(hn.A);const fn=new ie("Settings",(function(e,t){document.body.click(),wn=0;const n=r(e.content,"div","pp_settings_changesBannerContainer");r(n,"div","pp_settings_changesBanner").textContent="Page will be reloaded to apply new settings";const o=r(e.content,"div",["pp_window_scrollContent","styled-scrollbars"]),s=r(o,"div","pp_window_elementsContainer");function i(e){r(s,"h3","pp_settings_subtittle").textContent=e}function a(e,t,o){const i=r(s,"div","pp_window_element"),a=r(i,"div","pp_settings_propertyHeader");if(r(a,"div","pp_settings_propertyHeader_tittle").textContent=e,null!=t){r(a,"div","pp_settings_propertyHeader_description").textContent=t}else i.classList.add("pp_settings_property_oneLine");const l=r(i,"div","pp_settings_propertyButtonContainer"),d=r(l,"div","pp_checkBox_panelArea"),c=r(d,"div","pp_checkBox_container"),p=r(c,"button","pp_checkBox_button");p.classList.toggle("pp_checkBox_buttonActive",o.isEnabled());r(p,"div","pp_checkBox_knob");let u=!1;p.addEventListener("click",(e=>{const t=o.isEnabled();p.classList.toggle("pp_checkBox_buttonActive",!t),o.switch(),wn+=u?-1:1,u=!u,n.classList.toggle("pp_settings_changesBanner_active",wn>0)}))}function l(e,t,o){const i=r(s,"div","pp_window_element"),a=r(i,"div","pp_settings_propertyHeader");if(r(a,"div","pp_settings_propertyHeader_tittle").textContent=e,null!=t){r(a,"div","pp_settings_propertyHeader_description").textContent=t}else i.classList.add("pp_settings_property_oneLine");const l=r(i,"div","pp_settings_propertyButtonContainer"),d=r(l,"div","pp_settings_arrowArea"),c=r(d,"div",["pp_settings_arrow","pp_settings_arrowLeft","button","button-plain","button-medium","px-[var(--rem8)]"]),p=B(gn(),20,20);c.append(p);const u=r(d,"div",["text-secondary","font-normal"]);u.textContent=o.get();const h=r(d,"div",["pp_settings_arrow","button","button-plain","button-medium","px-[var(--rem8)]"]),m=B(gn(),20,20);h.append(m);const g=o.get();let f=!1;function w(e){o.switch(e);const t=o.get();u.textContent=t,t==g||f||(f=!0,wn++),t==g&&f&&(f=!1,wn--),n.classList.toggle("pp_settings_changesBanner_active",wn>0)}c.addEventListener("click",(e=>{w(-1)})),h.addEventListener("click",(e=>{w(1)}))}a("Wide mode","Make focus on the content by replacing right sidebar to screen border",y.WIDE_MODE),l("Content width",null,y.CONTENT_WIDTH),a("Bigger fonts","Make fonts bigger for better reading",y.BIGGER_FONTS),a("Better notify popup","Make notify popup a bit larger and remove useless button",y.NOTIFY_POPUP),a("Redirect suggestion","Show suggestion to redirect from old.reddit and new.reddit to compatible pages",y.REDIRECT_SUGGESTION),a("Redirect forced","Automatically redirect to compatible pages",y.REDIRECT_FORCED),i("Left sidebar"),a("Sub filter","Tool for find subs on sidebar by name",y.SUB_FILTER),a("Show Custom feeds",null,y.SIDEBAR_CUSTOMS),a("Show Recent",null,y.SIDEBAR_RECENT),a("Show Communities",null,y.SIDEBAR_SUBS),a("Show Resources",null,y.SIDEBAR_RESOURCES),i("Common"),a("Scroll to top button",null,y.SCROLL_TO_TOP),a("Collapse Awards","Automatic collapse the award's button for none upvoted posts and comments",y.COLLAPSE_AWARDS),a("Remove Awards","Remove the award's buttons completely",y.COLLAPSE_AWARDS_COMPLETELY),i("Default feeds"),l("Home",null,y.DEFAULT_FEED_HOME),l("Popular",null,y.DEFAULT_FEED_POPULAR),l("All",null,y.DEFAULT_FEED_ALL),l("Subreddit's",null,y.DEFAULT_FEED_SUB),i("Feed"),a("Feed buttons","Unwrap feed sorting buttons",y.FEED_BUTTONS),a("Flairs bar","Display available flairs to faster navigation. Specific flairs may be hidden via subreddit's flairs settings",y.FLAIR_BAR),a("Collapse community highlights",null,y.COLLAPSE_HIGHLIGHTS),a("Selectable text","Make a text selectable when posts viewed in feed",y.SELECTABLE_POSTS),a("Unwrap button","Show the unwrap button for long-text posts in feed",y.UNWRAP_POST),a("Soft background","Make the background of posts with soft gradient color",y.BACKPLATES),a("Show bookmark","Show the bookmark button for saved and upvoted posts",y.SAVED_BOOKMARK_POSTS),a("Show bookmark always","Show the bookmark button for all posts",y.SAVED_BOOKMARK_POSTS_SHOW_ALWAYAS),i("Comments"),a("Sort buttons","Unwrap the comment's sort buttons",y.COMMENTS_SORT_BUTTONS),a("Remember sort","Remember latest used comment's sort",y.COMMENTS_REMEMBER_SORT),a('Unwrap "more replies"',"Automatically unwrap more replies when it becomes visible",y.UNWRAP_MORE_REPLIES),a("User info",'Show user\'s karma and "new user" mark',y.USER_INFO),a("User tags","Enable custom tags (sets via comment's context menu)",y.USER_TAGS),a("Show nicknames","Use user's nicknames instead profile names",y.SHOW_NAMES),a("Hide share button","Replace the share button to comment's context menu",y.HIDE_SHARE),a("Ghosted comments","Make comments ghosted when comment's rating below zero",y.GHOSTED_COMMENTS),a("Collapse unwanted","Automatic collapse all automoderator and mod's pinned comments",y.COLLAPSE_AUTOMODERATOR),a("Show bookmark","Show the bookmark button for saved comments",y.SAVED_BOOKMARK_COMMENTS),a("Show bookmark always","Show the bookmark button for all comments",y.SAVED_BOOKMARK_COMMENTS_SHOW_ALWAYAS)}),(function(){wn>0&&(y.nextRevision(),window.location.reload())}));let wn=0;var vn=n("./resources/settingsButton.svg"),_n=n.n(vn);c.addStyle(pn.A);let bn=!1;async function xn(n){const s=await e((()=>n.querySelector("reddit-header-large")?.querySelector("nav")));if(o(s))return;const i=await e((()=>s.childNodes.item(4)));i.classList.add("pp_userPanel"),i.addEventListener("click",(()=>{!function(){let e=document.getElementById("user-drawer-content");if(null!=e.querySelector('faceplate-tracker[noun="pp-settings"]'))return;let t=e.querySelector('faceplate-tracker[noun="settings"]'),n=t.cloneNode(!0);n.setAttribute("noun","pp-settings"),t.parentNode.appendChild(n),n.querySelector("a").removeAttribute("href");const o=n.querySelector("svg"),r=B(_n(),20,20,{strokeColor:A});o.replaceWith(r),n.querySelector(".text-14").textContent="Reddit++",n.addEventListener("click",(()=>{fn.open()}))}()}),{once:!0}),y.NOTIFY_POPUP.isEnabled()&&!bn&&(bn=!0,t(document.body,(e=>{"notification-container-element"!=e.getAttribute("data-id")||o(e)||function(e){e.querySelectorAll('div[data-testid="notification-item"]').forEach((e=>{const t=e.querySelector('div[data-testid="title"]'),n=e.querySelector(".text-secondary-plain");if(n.textContent.includes("replied")){n.textContent=n.textContent.split("replied")[0];const o=document.createElement("div");t.after(o);const s=r(o,"span",["text-secondary-weak","font-normal"]);let i=e.parentElement.getAttribute("href");i=i.replace("https://reddit.com/r/",""),i=i.split("/")[0],s.textContent=`replied in r/${i}`}const o=e.querySelector("faceplate-number");if(null!=o){const e=document.createElement("span");e.textContent=" ago",o.after(e)}}))}(e)})));r(n.querySelector("#reddit-logo"),"div","pp_logo").textContent="++"}var yn=n("./src/modules/redirect.less");function Sn(){const e=window.location.href.includes("old.reddit.com"),t=window.location.href.includes("new.reddit.com");let n=null;e&&(n=window.location.href.replace("old.reddit.com","reddit.com")),t&&(n=window.location.href.replace("new.reddit.com","reddit.com")),y.REDIRECT_FORCED.isEnabled()&&null!=n&&window.location.assign(n),y.REDIRECT_SUGGESTION.isEnabled()&&null!=n&&function(e){c.addStyle(yn.A);let t=19;const n=r(document.body,"div","pp_redirectContainer"),o=r(n,"div","pp_redirectBox");o.textContent=`Click here to redirect on compatible page (${t})`,o.addEventListener("click",(()=>{window.location.assign(e)}));const s=setInterval((()=>{t--,o.textContent=`Click here to redirect on compatible page (${t})`,t<=0&&(clearInterval(s),n.remove())}),750)}(n);const o=qt();return null!=n||o}!async function(){const n=await e((()=>null!=document.head&&null!=document.body?document.body:null));let o=document.head.querySelector('meta[name="reddit-plus-plus"]');if(null!=o)return void s("Reddit++ runned more that one times. Check out userscript manager to disable dublicates.",{time:1e4});if(o=document.createElement("meta"),o.setAttribute("name","reddit-plus-plus"),o.setAttribute("version","1.0.13"),document.head.append(o),l.check(),Sn())return;const r=await e((()=>n.querySelector("shreddit-app")),h);if(null==r||"desktop"!=r.getAttribute("devicetype"))return void i("Reddit++ was stopped for a non compatible page");xn(n),cn(),t(n,(e=>{1==e.matches("reddit-header-large")&&xn(e.parentElement);const t=1==e.matches("dsa-transparency-modal-provider"),n=e.classList.contains("grid-container")&&null!=e.querySelector(".main-container");(t||n)&&(cn(),qt())}))}()})()})();