// ==UserScript==
// @name                ChatGPT Infinity ∞
// @name:af             ChatGPT Oneindig ∞
// @name:ar             دردشةGPT إنفينيتي ∞
// @name:az             ChatGPT Sonsuzluq ∞
// @name:be             ChatGPT Бясконцасць ∞
// @name:bg             ChatGPT Безкрайност ∞
// @name:bn             ChatGPT ইনফিনিটি ∞
// @name:bo             ChatGPT དག་སྐྱེས་ཡོད་པ་ ∞
// @name:bs             ChatGPT Beskrajnost ∞
// @name:ca             ChatGPT Infinit ∞
// @name:ckb            ChatGPT نەپێندییە ∞
// @name:cs             ChatGPT Nekonečno ∞
// @name:cy             ChatGPT Anfeidredd ∞
// @name:da             ChatGPT Uendelighed ∞
// @name:de             ChatGPT Unendlichkeit ∞
// @name:dv             ChatGPT ނުވަތަ ބާވައްޖޭގެން ∞
// @name:dz             ChatGPT རྩེད་སྒྲིབ་གཉིས་ ∞
// @name:el             ChatGPT Άπειρο ∞
// @name:eo             ChatGPT Infinito ∞
// @name:es             ChatGPT Infinito ∞
// @name:et             ChatGPT Lõpmatus ∞
// @name:eu             ChatGPT Infinitua ∞
// @name:fa             ChatGPT بینهایت ∞
// @name:fi             ChatGPT Ääretön ∞
// @name:fo             ChatGPT Óendanlighed ∞
// @name:fr             ChatGPT Infini ∞
// @name:fr-CA          ChatGPT Infini ∞
// @name:gl             ChatGPT Infinito ∞
// @name:gu             ChatGPT અનંત ∞
// @name:haw            ChatGPT Māhina ʻole ∞
// @name:he             ChatGPT אינסוף ∞
// @name:hi             ChatGPT अनंत ∞
// @name:hr             ChatGPT Beskrajnost ∞
// @name:hu             ChatGPT Végtelenség ∞
// @name:hy             ChatGPT Անվերջ ∞
// @name:id             ChatGPT Infinity ∞
// @name:is             ChatGPT Óendanleiki ∞
// @name:it             ChatGPT Infinito ∞
// @name:ja             ChatGPT 無限 ∞
// @name:ka             ChatGPT უსასრულობა ∞
// @name:km             ChatGPT អនឡាញ ∞
// @name:kn             ChatGPT ಅನಂತ ∞
// @name:ko             ChatGPT 무한 ∞
// @name:ku             ChatGPT Pêşangeh ∞
// @name:ky             ChatGPT Ички ∞
// @name:la             ChatGPT Infinitas ∞
// @name:lb             ChatGPT Unendlechkeet ∞
// @name:lo             ChatGPT ບໍ່ໄປສູ່ຈັກຂອງສາມຫວ່າງ ∞
// @name:lt             ChatGPT Begalybė ∞
// @name:lv             ChatGPT Bezgalība ∞
// @name:mk             ChatGPT Бесконечност ∞
// @name:ml             ChatGPT അനന്തത ∞
// @name:mn             ChatGPT Тэгш бус ∞
// @name:mt             ChatGPT Infinità ∞
// @name:my             ChatGPT မြင်ကွင်း ∞
// @name:ne             ChatGPT अनंत ∞
// @name:nl             ChatGPT Oneindigheid ∞
// @name:no             ChatGPT Uendelighet ∞
// @name:pa             ChatGPT ਇਨਫਿਨਿਟੀ ∞
// @name:pl             ChatGPT Nieskończoność ∞
// @name:ps             ChatGPT لامکان ∞
// @name:pt             ChatGPT Infinito ∞
// @name:pt-BR          ChatGPT Infinito ∞
// @name:ro             ChatGPT Infinitate ∞
// @name:ru             ChatGPT Бесконечность ∞
// @name:si             ChatGPT අනන්තය ∞
// @name:sk             ChatGPT Nekonečno ∞
// @name:sl             ChatGPT Neskončnost ∞
// @name:so             ChatGPT Qaybtiisa ∞
// @name:sr             ChatGPT Бескрајност ∞
// @name:sv             ChatGPT Oändlighet ∞
// @name:ta             ChatGPT முடிவிலிருந்து ∞
// @name:te             ChatGPT అనంతత ∞
// @name:tg             ChatGPT Беоҳӣ ∞
// @name:th             ChatGPT อนันต์ ∞
// @name:ti             ChatGPT መደመር ∞
// @name:tk             ChatGPT Sonsuzluk ∞
// @name:tr             ChatGPT Sonsuzluk ∞
// @name:uk             ChatGPT Нескінченність ∞
// @name:ur             ChatGPT بے انتہا ∞
// @name:vi             ChatGPT Vô cùng ∞
// @name:yi             ChatGPT אינפיניטי ∞
// @name:zh             ChatGPT 无限 ∞
// @name:zh-CN          ChatGPT 无限 ∞
// @name:zh-HK          ChatGPT 無限 ∞
// @name:zh-SG          ChatGPT 无限 ∞
// @name:zh-TW          ChatGPT 無限 ∞
// @description         Generate endless answers from all-knowing ChatGPT (in any language!)
// @description:af      Genereer eindelose antwoorde van die alwetende ChatGPT (in enige taal!)
// @description:am      ሓበሬታይ ኣይነበርና መልእኽቲ ኣለኹም ኣሎኻዊ ያልኣይት ChatGPT (በቋንቋ!)
// @description:ar      قم بتوليد إجابات لا نهائية من ChatGPT المعرف بكل شيء (بأي لغة!)
// @description:az      Hər şeyi bilən ChatGPT-dən sonsuz cavablar yaradın (hər hansı bir dil ilə!)
// @description:be      Стварыце бясконцы адказы ад ўсеведучага ChatGPT (на любой мове!)
// @description:bem     Pamene mwaposa mafolosho a mʌnoze ChatGPT (mu lupiya lwa ndalama!)
// @description:bg      Генерирайте безкрайни отговори от всезнайния ChatGPT (на всяк език!)
// @description:bn      সর্বজ্ঞ চ্যাটজিপিটি থেকে অসীম উত্তর তৈরি করুন (যে কোন ভাষায়!)
// @description:bo      བཟོས་པ་བརྗོད་པའི་ChatGPTགི་གྲོས་པར་འགྲུབ་འདེམས་བསྐྱེད་མི་འོངས་པ། (ལས་སྐབས་ཀྱི་སྐད་ཡིག་གི་སྐད་!)
// @description:bs      Generišite beskonačne odgovore od sveznajućeg ChatGPT (na bilo kom jeziku!)
// @description:ca      Genereu respostes infinites des de l'omniscient ChatGPT (en qualsevol idioma!)
// @description:ceb     Sukdagon ang walay katapusan nga mga tubag gikan sa tanan-mahibaw-anong ChatGPT (sa bisan unsang pinulongan!)
// @description:ckb     پێشبینی چاتگپتەکە دیارییەکانی پێکراوەکان بنووسە (بە هەر زمانێکی دیکە!)
// @description:cs      Generujte nekonečné odpovědi od vševědoucího ChatGPT (v jakémkoli jazyce!)
// @description:cy      Cynhyrchwch atebion diddiwedd o ChatGPT y gŵr sy'n gwybod popeth (mewn unrhyw iaith!)
// @description:da      Generer endeløse svar fra den altvidende ChatGPT (på hvilket som helst sprog!)
// @description:de      Generieren Sie endlose Antworten von dem allwissenden ChatGPT (in beliebiger Sprache!)
// @description:dv      އެހެނދުކަޗެއްވެސީ ޗެއްސިސްޓޯނަށް ނިޔަލައިފައިވަނީ ސުރުކޮށް ފީހުން (ކަންއެވެސް ހަމަވެސް!)
// @description:dz      ཆགས་ཀྱིས་ལ་བརྟེན་གང་རུང་གི་ChatGPTགི་ཚོགས་པའི་སྐད་ཡིག་གྱི་སྐད་ཡིག་བྱེད་པ། (བླ་མའི་སྐད་ཡིག་!)
// @description:el      Δημιουργήστε ατελείωτες απαντήσεις από το γνώστη ChatGPT (σε οποιαδήποτε γλώσσα!)
// @description:eo      Kreu nesfinaĵajn respondojn el la ĉio-scianta ChatGPT (en ajn lingvo!)
// @description:es      Genera respuestas infinitas desde el ChatGPT omnisciente (¡en cualquier idioma!)
// @description:et      Loo lõputuid vastuseid kõike-teadvast ChatGPT-st (mis tahes keeles!)
// @description:eu      Sortu erantzun infinituak guztiz-arduratsuaren ChatGPT-tik (edozein hizkuntzan!)
// @description:fa      پاسخهای بیپایانی را از ChatGPT همهدانا تولید کنید (به هر زبانی!)
// @description:fi      Luo loputtomia vastauksia kaikkitietävästä ChatGPT:stä (millä tahansa kielellä!)
// @description:fo      Skapa endalaus svør frá altvitandi ChatGPT (á hvørjum málrøð!)
// @description:fr      Générez des réponses infinies à partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:fr-CA   Générez des réponses infinies à partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:gd      Cruthaich freagairtean gun crìoch à ChatGPT a tha a' faighneachd gach càil (ann an sam bith cànan!)
// @description:gl      Xere as respostas infinitas do ChatGPT que todo o sabe (en calquera lingua!)
// @description:gu      જ્ઞાનવાન ChatGPT થી અનંત જવાબો ઉત્પન કરો (કોઈ પણ ભાષામાં!)
// @description:haw     Haleleʻa i nā ʻōlelo pālulelo mai ke kupa ʻike loa o ChatGPT (i loko o kēlā ʻōlelo aku aʻe!)
// @description:he      יצרו תשובות אינסופיות מה-ChatGPT המבין הכל (בכל שפה!)
// @description:hi      सभी-जाननेवाले चैटजीपीटी से अनंत उत्तरों का उत्पादन करें (किसी भी भाषा में!)
// @description:hr      Generirajte beskrajne odgovore iz sveznajućeg ChatGPT-a (na bilo kojem jeziku!)
// @description:ht      Jenere repons san fen soti nan ChatGPT k-ap konnen tout bagay yo (nan nenpòt lang!)
// @description:hu      Végtelen válaszokat generáljon a mindentudó ChatGPT-ből (bármely nyelven!)
// @description:hy      Ստեղծեք անսահմանափակ պատասխաններ ամենագիտական ChatGPT-ից (ցանկացած լեզուն մեջ!)
// @description:id      Hasilkan jawaban tak terbatas dari ChatGPT yang tahu segalanya (dalam bahasa apa pun!)
// @description:is      Búið til endalaus svör frá allvissu ChatGPT (á hvaða tungumáli sem er!)
// @description:it      Genera risposte infinite dall'onnisciente ChatGPT (in qualsiasi lingua!)
// @description:ja      あらゆる言語で全知のChatGPTから無限の回答を生成します！
// @description:jv      Mbukak panggung jawaban saka ChatGPT kang suwénéh kabèh (kénging basa apapun!)
// @description:ka      შექმენით უსასრულო პასუხები ყველგანაწილებული ChatGPT-დან (ნელა ენაზე!)
// @description:kab     Kkes-as yidir seg yisem-asen n tafriqt ara ddunnit ChatGPT (di tifrat ara ddunit!)
// @description:kk      Барлық тілде бар білген ChatGPT-ден шексіз жауаптар жасау (қандай да тілде!)
// @description:km      បង្កើតចម្លើយមិនឃើញចប់ពី ChatGPT ដែលចែកសង្ស័យទាំងអស់ (ជាន់គ្រប់ភាសា!)
// @description:kn      ಎಲ್ಲರು ತಿಳಿದಿರುವ ಚಾಟ್ಜಿಪಿಟಿಯಿಂದ ಅನಂತ ಉತ್ತರಗಳನ್ನು ರಚಿಸಿ (ಯಾವುದೇ ಭಾಷೆಯಲ್ಲಿ!)
// @description:ko      어떤 언어로든지 무궁무진한 답변을 만들어내는 ChatGPT입니다!
// @description:ku      Ji ChatGPT-ê, ku hemî tiştan dizane, bersiva li serbazên li dor qewî yên hilbijartin (bi hertiştî zimanek!)
// @description:ky      Түз билимдүү ChatGPT боюнча чыгармаларды жаса
// @description:la      Genera infinitas responsiones de ChatGPT omniscio (in qualibet lingua!)
// @description:lb      Generéiert endlos Äntwerten vum allwëssende ChatGPT (op jiddere Sprooch!)
// @description:lo      ສ້າງຜົນສົດທີ່ສາມາດເລືອກຈາກພາສາທີ່ຮູ້ບຸກກຳລັງ ChatGPT (ໃນພາສາໃດໜຶ່ງ!)
// @description:lt      Sugeneruokite begalinį atsakymų kiekį iš visai žinoančio ChatGPT (bet kuria kalba!)
// @description:lv      Ģenerē nebeidzamus atbilžu variantus no vissapratīgā ChatGPT (jebkurā valodā!)
// @description:mg      Mandoza ny valiny miaraka amin'ny ChatGPT mahalala ny zavatra rehetra (amin'ny fiteny iray kokoa!)
// @description:mi      Whakapūmau i ngā whakautu kore mutunga mai i te ChatGPT matau i ngā reo katoa!
// @description:mk      Генерирајте безброј одговори од сèзнаената ChatGPT (на било кој јазик!)
// @description:ml      എന്നെഴുതാൻ അനന്യനായ ChatGPT (ഏതെങ്കിലും ഭാഷയിൽ) ഇന്നേക്കും വേണ്ടി അവസാനിപ്പിക്കുക!
// @description:mn      Сүүлд үлдсэнээсээ хайрцаг болох ChatGPT (ямар ч хэл дээр) дээрхээр ярих
// @description:ms      Cipta pelbagai jawapan daripada ChatGPT yang tahu segala-galanya (dalam apa-apa bahasa!)
// @description:mt      Iġġenera risposti infiniti mill-ChatGPT li kollha jaf (f'xi lingwa!)
// @description:my      အားလုံးကိုသင်ရိုးရိုးဆွဲနိုင်သည့် ChatGPT (တစ်ခုမှာယူသုံးရန်!)
// @description:ne      सबै-ज्ञानी ChatGPT बाट अनंत उत्तरहरू उत्पन्न गर्नुहोस् (कुनै पनि भाषामा!)
// @description:nl      Genereer eindeloze antwoorden van alwetende ChatGPT (in elke taal!)
// @description:no      Generer endeløse svar fra allvitende ChatGPT (på hvilket som helst språk!)
// @description:ny      Galimoto mabwino a mtendere zosiyanasiyana kuchokera ku ChatGPT woyankhula zonse! (muyankhulitsa chilichonse!)
// @description:pa      ਸਭ ਜਾਣ ਵਾਲੇ ChatGPT ਤੋਂ ਲੰਬੇ ਉੱਤਰਾਂ ਨੂੰ ਬਣਾਓ (ਕਿਸੇ ਵੀ ਭਾਸ਼ਾ ਵਿੱਚ!)
// @description:pap     Hasi respuesta sinfin di ChatGPT ku tur sabi (na kua idioma!)
// @description:pl      Generuj nieskończone odpowiedzi od wszechwiedzącego ChatGPT (w dowolnym języku!)
// @description:ps      د هغوی چټکال ChatGPT لخوا نهایت جوابونه جوړه کړئ (د هر یوه ژبه کی!)
// @description:pt      Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:pt-BR   Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:rn      Basha inzira nk'itandukanye z'uko ChatGPT uzi (mu rurimi rwose!)
// @description:ro      Generează răspunsuri infinite de la ChatGPT omniscient (în orice limbă!)
// @description:ru      Генерируйте бесконечные ответы от всезнающего ChatGPT (на любом языке!)
// @description:rw      Banda inama z'imirimo isigaye zose z'umuco wa ChatGPT (mu rurimi rwose!)
// @description:sg      Tia ngamana nga mbetela ti ChatGPT tozuwa mitayi mingi (po wundi ndimi yo ngambo!)
// @description:si      සියළු දැනටමත් සහතිකපත්කරන තවත් සිතියම් සැකසුම් ලබා දෙන්නාවූ ChatGPT සෑදීම (ඕනෑම භාෂාවෙන්ම!)
// @description:sk      Generujte nekonečné odpovede od vševietajúceho ChatGPT (v akomkoľvek jazyku!)
// @description:sl      Generirajte neskončne odgovore iz vsevednega ChatGPT (v katerem koli jeziku!)
// @description:sm      Faia se faiga tele i le ChatGPT eseese (i nisi gagana!)
// @description:sn      Simudza mhinduro dzakawanda kubva kune ChatGPT ichiwanikwa chisarudzo! (mune rimwe nguva!)
// @description:so      Kor u qaado jawaabo kala duwan oo ka soo saar ChatGPT (luuqad ka mid ah!)
// @description:sr      Генеришите безброј одговора од свемоћног ChatGPT (на било ком језику!)
// @description:sv      Generera oändliga svar från allvetande ChatGPT (på valfritt språk!)
// @description:sw      Toa majibu yasiyokuwa na mwisho kutoka kwa ChatGPT mwenye maarifa yote (katika lugha yoyote!)
// @description:ta      அனைத்து தகவலையும் அறியப்பட்ட சொந்தமான ChatGPT இலிருந்து முடிவுகளை உருவாக்கவும் (எந்த மொழியிலும்!)
// @description:te      అన్నింటినీకింట మాటలు రాయండి ChatGPT గురించి అనేక జవాబాలను సృష్టించండి (ఏదైనా భాషలో!)
// @description:tg      Ҷавобҳои бесуданни ChatGPTи ҳамаифақат (дар як забони муайяни!)
// @description:th      สร้างคำตอบไม่สิ้นสุดจาก ChatGPT ที่รู้ทุกสิ่ง (ในภาษาใดก็ได้!)
// @description:ti      ክርስትን ለማውጣት ከገጽታውን ChatGPT የተከሳሽ አስተካክል አስተካክሎት (በእውነት ቋንቋ!)
// @description:tk      Şeýle anlaşylýan ChatGPT (her hili üçin) arasyndan bäşmüňhat jawaplar döret
// @description:tn      Hlela zitsha zwine zwiṱhiselela kha ChatGPT vhufudziṱe (muvhili wo vha u ite!)
// @description:to      Fakatonutonu ʻihe ngāuekesi mei he ChatGPT fakaongoongo toenga (i he lea faka-Tonga ia!)
// @description:tpi     Sanapim hamamasples long save olsem ChatGPT i masples (long wanpela tok ples!)
// @description:tr      Bilge ChatGPT'den sonsuz cevaplar üret (herhangi bir dilde!)
// @description:uk      Генеруйте безкінечні відповіді від усезнаючого ChatGPT (на будь-якій мові!)
// @description:ur      سب جاننے والے ChatGPT سے لامتناہی جوابات پیدا کریں (کسی بھی زبان میں!)
// @description:uz      Barcha biladigan ChatGPT dan cheklovli javoblar oling (hech qanday tilda ham)!
// @description:vi      Tạo ra vô số câu trả lời từ ChatGPT thông minh (bằng bất kỳ ngôn ngữ nào!)
// @description:xh      Bhala izinto ezingekwaziyo eziyimfihlo kusuka ku ChatGPT (ngolwimi lwanyanetha!)
// @description:yi      דזשענערייט סאָף ענטפֿערס פֿון אַלע-געוויסן ChatGPT (אין קיין שפּראַך!)
// @description:zh      从无所不知的 ChatGPT 生成无穷无尽的答案 (用任何语言!)
// @description:zh-CN   从无所不知的 ChatGPT 生成无穷无尽的答案 (用任何语言!)
// @description:zh-HK   從無所不知的 ChatGPT 生成無窮無盡的答案 (用任何語言!)
// @description:zh-SG   从无所不知的 ChatGPT 生成无穷无尽的答案 (用任何语言!)
// @description:zh-TW   從無所不知的 ChatGPT 生成無窮無盡的答案 (用任何語言!)
// @author              Adam Lui
// @namespace           https://github.com/adamlui
// @version             2024.12.19.1
// @license             MIT
// @icon                https://media.chatgptinfinity.com/images/icons/infinity-symbol/circled/with-robot/icon48.png?f196818
// @icon64              https://media.chatgptinfinity.com/images/icons/infinity-symbol/circled/with-robot/icon64.png?f196818
// @compatible          chrome
// @compatible          firefox
// @compatible          edge
// @compatible          opera
// @compatible          brave
// @compatible          vivaldi
// @compatible          waterfox
// @compatible          librewolf
// @compatible          ghost
// @compatible          qq
// @compatible          whale
// @compatible          kiwi
// @match               *://chatgpt.com/*
// @match               *://chat.openai.com/*
// @connect             cdn.jsdelivr.net
// @connect             update.greasyfork.org
// @require             https://cdn.jsdelivr.net/npm/@kudoai/chatgpt.js@3.3.5/dist/chatgpt.min.js#sha256-rfC4kk8q0byrafp7X0Qf9vaa3JNvkHRwNnUt6uL2hUE=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@d6dbabf50fa4b583d46a9fb968633ea12b89fe4c/chrome/extension/components/modals.js#sha256-vYp32xX8ADXE+DYOg6ds164janinHx8Q71CbhrJ/ga4=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@22a9c7a1f491853d48d02455651d150f9c1cdfa4/chrome/extension/components/toggles.js#sha256-DXOR/IvjPnKqORnmWCNDrW79IQOtWzHXsicGzECXrQg=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@e05e2ccd6cd3890e782a17bd47519700a35e0091/chrome/extension/lib/dom.js#sha256-D5SNzWGIPvOEh7mTFWdEuLQWftXlGUoqFwij+1wOws0=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@704858dafc0915cb67367ea949e6997408aaa29c/chrome/extension/lib/settings.js#sha256-xuu3HlQPLCQLCjRi2noGBdcpCZkt38L8jGhM2EvPSGE=
// @resource brsCSS     https://assets.aiwebextensions.com/styles/rising-stars/dist/black.min.css?v=0cde30f9ae3ce99ae998141f6e7a36de9b0cc2e7#sha256-4nbm81/JSas4wmxFIdliBBzoEEHRZ057TpzNX1PoQIs=
// @resource wrsCSS     https://assets.aiwebextensions.com/styles/rising-stars/dist/white.min.css?v=0cde30f9ae3ce99ae998141f6e7a36de9b0cc2e7#sha256-pW8xWWV6tm8Q6Ms+HWZv6+QzzTLJPyL1DyE18ywpVaE=
// @grant               GM_setValue
// @grant               GM_getValue
// @grant               GM_registerMenuCommand
// @grant               GM_unregisterMenuCommand
// @grant               GM_getResourceText
// @grant               GM_xmlhttpRequest
// @grant               GM.xmlHttpRequest
// @noframes
// @homepageURL         https://www.chatgptinfinity.com
// @supportURL          https://support.chatgptinfinity.com
// @contributionURL     https://github.com/sponsors/adamlui
// @downloadURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/ChatGPT20Infinity20E2889E.user.js
// @updateURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/ChatGPT20Infinity20E2889E.meta.js
// ==/UserScript==
(async()=>{const e={browser:{language:chatgpt.getUserLanguage(),isFF:chatgpt.browser.isFirefox(),isMobile:chatgpt.browser.isMobile()},scriptManager:{name:(()=>{try{return GM_info.scriptHandler}catch(e){return"unknown"}})(),version:(()=>{try{return GM_info.version}catch(e){return"unknown"}})()}};e.browser.isPortrait=e.browser.isMobile&&window.innerWidth<window.innerHeight;const t="undefined"!=typeof GM&&GM.xmlHttpRequest||GM_xmlhttpRequest,s={version:GM_info.script.version,configKeyPrefix:"chatGPTinfinity",chatgptJSver:/chatgpt\.js@([\d.]+)/.exec(GM_info.scriptMetaStr)[1],urls:{},latestAssetCommitHash:"5b6a79f"};s.urls.assetHost=`https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@${s.latestAssetCommitHash}`;const a=await new Promise((e=>t({method:"GET",url:`${s.urls.assetHost}/app.json`,onload:t=>e(JSON.parse(t.responseText))})));if(Object.assign(s,{...a,urls:{...s.urls,...a.urls}}),s.urls.update=s.urls.greasyFork.replace("https://","https://update.").replace(/(\d+)-?([a-z-]*)$/i,((e,t,s)=>`${t}/${s||"script"}.meta.js`)),s.msgs={appName:s.name,appAuthor:s.author.name,appDesc:"Generate endless answers from all-knowing ChatGPT (in any language!)",menuLabel_infinityMode:"Infinity Mode",menuLabel_autoStart:"Auto-Start",menuLabel_toggleVis:"Toggle Visibility",menuLabel_autoScroll:"Auto-Scroll",menuLabel_replyLang:"Reply Language",menuLabel_replyTopic:"Reply Topic",menuLabel_all:"ALL",menuLabel_replyInt:"Reply Interval",menuLabel_about:"About",menuLabel_donate:"Please send a donation",menuLabel_disabled:"Disabled (extension installed)",about_version:"Version",about_poweredBy:"Powered by",about_sourceCode:"Source code",prompt_updateReplyLang:"Update reply language",prompt_updateReplyTopic:"Update reply topic",prompt_orEnter:"or enter",prompt_updateReplyInt:"Update reply interval (minimum 5 secs)",helptip_autoStart:"Automatically start Infinity Mode when visiting chatgpt.com",helptip_toggleVis:"Show Infinity Mode toggle in sidebar",helptip_autoScroll:"Automatically scroll to bottom as replies are generating",alert_replyLangUpdated:"Language updated",alert_willReplyIn:"will reply in",alert_yourSysLang:"your system language",alert_replyTopicUpdated:"Topic updated",alert_willAnswer:"will answer questions",alert_onTopicOf:"on the topic of",alert_onAllTopics:"on ALL topics",alert_replyIntUpdated:"Interval updated",alert_willReplyEvery:"will reply every",alert_choosePlatform:"Choose a platform",alert_updateAvail:"Update available",alert_newerVer:"An update to",alert_isAvail:"is available",alert_upToDate:"Up-to-date",alert_isUpToDate:"is up-to-date",alert_showYourSupport:"Show your support",alert_isOSS:"is open-source software built & maintained for free through 100% volunteer efforts",alert_despiteAffliction:"Despite being severely afflicted by",alert_longCOVID:"long COVID",alert_since2020:"since 2020",alert_byDonatingResults:"by donating, you help me to continue improving, fixing bugs, adding new features, and making the software even better",alert_yourContrib:"Your contribution",alert_noMatterSize:"no matter the size",alert_directlySupports:"directly supports my unpaid efforts to ensure this project remains free and open for all to use",alert_tyForSupport:"Thank you for your support",alert_author:"author",btnLabel_moreAIextensions:"More AI Extensions",btnLabel_rateUs:"Rate Us",btnLabel_getSupport:"Get Support",btnLabel_checkForUpdates:"Check for Updates",btnLabel_update:"Update",btnLabel_dismiss:"Dismiss",link_viewChanges:"View changes",unit_seconds:"seconds",state_enabled:"enabled",state_disabled:"disabled",state_on:"on",state_off:"off"},!e.browser.language.startsWith("en")){const a=await new Promise((a=>{const n=s.urls.assetHost+"/chrome/extension/_locales/",o=(e.browser.language?e.browser.language.replace("-","_"):"en")+"/";let i=n+o+"messages.json",r=0;function l(){t({method:"GET",url:i,onload:p})}function p(t){try{const e=JSON.parse(t.responseText),s={};for(const t in e)"object"==typeof e[t]&&"message"in e[t]&&(s[t]=e[t].message);a(s)}catch(t){if(r++,3==r)return a({});i=e.browser.language.includes("-")&&1==r?i.replace(/([^_]+_[^_]+)_[^/]*(\/.*)/,"$1$2"):n+"en/messages.json",l()}}l()}));Object.assign(s.msgs,a)}modals.dependencies.import({app:s,env:e,updateCheck:function(){t({method:"GET",url:s.urls.update+"?t="+Date.now(),headers:{"Cache-Control":"no-cache"},onload:e=>{s.latestVer=/@version +(.*)/.exec(e.responseText)[1];for(let e=0;e<4;e++){const t=parseInt(s.version.split(".")[e],10)||0,a=parseInt(s.latestVer.split(".")[e],10)||0;if(t>a)break;if(a>t)return modals.open("update","available")}modals.open("update","unavailable")}})}}),settings.dependencies.import({app:s}),settings.load(Object.keys(settings.controls).filter((e=>"infinityMode"!=e))),settings.save("infinityMode",!1),config.replyLanguage||settings.save("replyLanguage",e.browser.language),config.replyTopic||settings.save("replyTopic",s.msgs.menuLabel_all),config.replyInterval||settings.save("replyInterval",7);const n={ids:[],state:{symbols:["❌","✔️"],separator:"Tampermonkey"==e.scriptManager.name?" — ":": ",words:[s.msgs.state_off.toUpperCase(),s.msgs.state_on.toUpperCase()]},register(){const t="Tampermonkey"==e.scriptManager.name&&parseInt(e.scriptManager.version.split(".")[0])>=5;if(e.extensionInstalled)GM_registerMenuCommand(`${n.state.symbols[0]} ${s.msgs.menuLabel_disabled}`,(()=>modals.open("about")),t?{title:" "}:void 0);else{const a=new RegExp(`^(${s.msgs.menuLabel_all}|all|any|every)$`,"i");Object.keys(settings.controls).forEach((r=>{const l=config[r]^/disabled|hidden/i.test(r),p=`${settings.controls[r].symbol||n.state.symbols[+l]} `+settings.controls[r].label+("toggle"==settings.controls[r].type?n.state.separator+n.state.words[+l]:`— ${settings.controls[r].status}`);n.ids.push(GM_registerMenuCommand(p,(()=>{if("toggle"==settings.controls[r].type)settings.save(r,!config[r]),o(`${settings.controls[r].label}: ${n.state.words[+(/disabled|hidden/i.test(r)^config[r])]}`);else if("replyLanguage"==r)for(;;){let t=prompt(`${s.msgs.prompt_updateReplyLang}:`,config.replyLanguage);if(null==t)break;if(!/\d/.test(t)){t=t.length<4||t.includes("-")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),settings.save("replyLanguage",t||e.browser.language),modals.alert(s.msgs.alert_replyLangUpdated+"!",s.msgs.appName+" "+s.msgs.alert_willReplyIn+" "+(t||s.msgs.alert_yourSysLang)+".");break}}else if("replyTopic"==r){let e=prompt(s.msgs.prompt_updateReplyTopic+" ("+s.msgs.prompt_orEnter+" 'ALL'):",config.replyTopic);null!=e&&(e=function(e){if(!e)return"";const t=e.toLowerCase().split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")}(e.toString()),settings.save("replyTopic",!e||a.test(e)?s.msgs.menuLabel_all:e),modals.alert(`${s.msgs.alert_replyTopicUpdated}!`,`${s.msgs.appName} ${s.msgs.alert_willAnswer} `+(!e||a.test(e)?s.msgs.alert_onAllTopics:`${s.msgs.alert_onTopicOf} ${e}`)+"!"))}else if("replyInterval"==r)for(;;){const e=prompt(`${s.msgs.prompt_updateReplyInt}:`,config.replyInterval);if(null==e)break;if(!isNaN(parseInt(e,10))&&parseInt(e,10)>4){settings.save("replyInterval",parseInt(e,10)),modals.alert(s.msgs.alert_replyIntUpdated+"!",s.msgs.appName+" "+s.msgs.alert_willReplyEvery+" "+e+" "+s.msgs.unit_seconds+".");break}}i({updatedKey:r})}),t?{title:settings.controls[r].helptip||" "}:void 0))}))}const a=`💡 ${s.msgs.menuLabel_about} ${s.msgs.appName}`;if(n.ids.push(GM_registerMenuCommand(a,(()=>modals.open("about")),t?{title:" "}:void 0)),!e.extensionInstalled){const e=`💖 ${s.msgs.menuLabel_donate}`;n.ids.push(GM_registerMenuCommand(e,(()=>modals.open("donate")),t?{title:" "}:void 0))}},refresh(){if("undefined"!=typeof GM_unregisterMenuCommand){for(const e of n.ids)GM_unregisterMenuCommand(e);n.register()}}};function o(e,t="",a="",o=""){const i=n.state.words.find((t=>e.includes(t)));i&&(e=e.replace(i,"")),chatgpt.notify(`${s.symbol} ${e}`,t,a,o||chatgpt.isDarkMode()?"":"shadow");const r=document.querySelector(".chatgpt-notif:last-child");if(i){const e=dom.create.elem("span");e.style.cssText="color: "+(i==n.state.words[0]?"#ef4848 ; text-shadow: rgba(255, 169, 225, 0.44) 2px 1px 5px":"#5cef48 ; text-shadow: rgba(255, 250, 169, 0.38) 2px 1px 5px"),e.append(i),r.append(e)}}function i(e){"infinityMode"==e?.updatedKey?r[config.infinityMode?"activate":"deactivate"]():"prompt"==settings.controls[e?.updatedKey].type&&config.infinityMode&&r.restart({target:"replyInterval"==e?.updatedKey?"self":"new"}),/infinityMode|toggleHidden/.test(e?.updatedKey)&&toggles.sidebar.updateState(),n.refresh()}chatgpt.isIdle=function(){return new Promise((e=>{new MutationObserver(((t,s)=>{chatgpt.getStopBtn()||(s.disconnect(),e())})).observe(document.body,{childList:!0,subtree:!0})}))};const r={async activate(){const t="Generate a single random question"+(config.replyLanguage?" in "+config.replyLanguage:"")+" on "+("ALL"==config.replyTopic?"ALL topics":"the topic of "+config.replyTopic)+" then answer it. Don't type anything else.";if(e.browser.isMobile&&chatgpt.sidebar.isOn()&&chatgpt.sidebar.hide(),!new URL(location).pathname.startsWith("/g/"))try{chatgpt.startNewChat()}catch(e){return}await new Promise((e=>setTimeout(e,500))),chatgpt.send(t),await new Promise((e=>setTimeout(e,3e3))),!document.querySelector("[data-message-author-role]")&&config.infinityMode&&chatgpt.send(t),await chatgpt.isIdle(),config.infinityMode&&!r.isActive&&(r.isActive=setTimeout(r.continue,1e3*parseInt(config.replyInterval,10)))},async continue(){if(!config.autoScrollDisabled)try{chatgpt.scrollToBottom()}catch(e){}chatgpt.send("Do it again."),await chatgpt.isIdle(),r.isActive&&(r.isActive=setTimeout(r.continue,1e3*parseInt(config.replyInterval,10)))},deactivate(){chatgpt.getStopBtn()&&chatgpt.stop(),clearTimeout(r.isActive),r.isActive=null},async restart(e={target:"new"}){"new"==e.target?(r.deactivate(),setTimeout((()=>r.activate()),750)):(clearTimeout(r.isActive),r.isActive=null,await chatgpt.isIdle(),config.infinityMode&&!r.isActive&&(r.isActive=setTimeout(r.continue,1e3*parseInt(config.replyInterval,10))))}};e.extensionInstalled=await Promise.race([new Promise((e=>{!function t(){document.documentElement.hasAttribute("chatgpt-infinity-extension-installed")?e(!0):setTimeout(t,200)}()})),new Promise((e=>setTimeout((()=>e(!1)),1500)))]),n.register(),e.extensionInstalled||(await Promise.race([chatgpt.isLoaded(),new Promise((e=>setTimeout(e,5e3)))]),await chatgpt.sidebar.isLoaded(),e.ui={firstLink:chatgpt.getNewChatLink()},"hidden"in document&&(document.onvisibilitychange=()=>{config.infinityMode&&(settings.save("infinityMode",!1),i({updatedKey:"infinityMode"}))}),["brs","wrs"].forEach((e=>document.head.append(dom.create.style(GM_getResourceText(`${e}CSS`))))),toggles.dependencies.import({app:s,env:e,notify:o,syncConfigToUI:i}),toggles.sidebar.insert(),config.autoStart&&(settings.save("infinityMode",!0),i({updatedKey:"infinityMode"}),o(`${s.msgs.menuLabel_autoStart}: ${s.msgs.state_on.toUpperCase()}`)),new MutationObserver((()=>{config.toggleHidden||document.getElementById(toggles.sidebar.ids.navicon)||"inserting"==toggles.sidebar.status||(toggles.sidebar.status="missing",toggles.sidebar.insert())})).observe(document.body,{attributes:!0,subtree:!0}),new MutationObserver((()=>{toggles.sidebar.updateColor(),modals.stylize()})).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),document.documentElement.hasAttribute("sidebar-click-zoom-observed")||(new MutationObserver((e=>e.forEach((({target:e})=>{e.closest('[class*="sidebar"]')&&!e.id.endsWith("-knob-span")&&"none"!=e.style.transform&&(e.style.transform="none")})))).observe(document.body,{attributes:!0,subtree:!0,attributeFilter:["style"]}),document.documentElement.setAttribute("sidebar-click-zoom-observed",!0)))})();