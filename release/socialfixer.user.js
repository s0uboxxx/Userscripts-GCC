// ==UserScript==
//
//  ////////////////////////////////////
//  //                                //
//  //  IF YOU ARE SEEING THIS (not   //
//  //  in the Userscript manager),   //
//  //  your Userscript manager AKA   //
//  //  'monkey' is malfunctioning.   //
//  //                                //
//  //  See socialfixer.com/ujs-help  //
//  //                                //
//  ////////////////////////////////////
//
// @name           Social Fixer for Facebook
// @namespace      http://userscripts.org/users/864169999
// @include        /^https:\/\/facebook\.com\//
// @include        /^https:\/\/[^\/]*\.facebook\.com\//
// @include        /^https:\/\/[^\/]*\.messenger\.com\//
// @exclude        /^https:\/\/[^\/]*(channel|static)[^\/]*facebook\.com\//
// @exclude        /^https:\/\/[^\/]*facebook\.com\/.*(ai.php|morestories.php|generic.php|xti.php|plugins|connect|ajax|sound_iframe|l.php\?u)/
// @exclude        /^https:\/\/[^\/]*\.facebook\.com\/help/
// @exclude        /^https:\/\/[^\/]*\.facebook\.com\/support/
// @exclude        /^https:\/\/[^\/]*\.facebook\.com\/saved/
// @connect        www.facebook.com
// @connect        mbasic.facebook.com
// @connect        socialfixer.com
// @connect        matt-kruse.github.io
// @connect        fbcdn.net
// @run-at         document-start
// @inject-into    content
// @noframes
// @version        31.1.0
// @downloadURL https://raw.githubusercontent.com/s0uboxxx/Userscripts-GCC/release/release/socialfixer.user.js
// @supportURL     https://socialfixer.com/support
// @grant          GM_getValue
// @grant          GM_setValue
// @grant          GM_xmlhttpRequest
// @grant          GM.getValue
// @grant          GM.setValue
// @grant          GM.xmlHttpRequest
// @grant          unsafeWindow
// ==/UserScript==
var define,exports,prevent_running=!1;(window.top!=window.self||!location||/[?#&]no_sfx/.test(location.href)||/\/plugins\/|\/(l|ai|morestories)\.php$/.test(location.pathname))&&(prevent_running=!0);const use_Promise_getValue="object"==typeof GM&&"function"==typeof GM.getValue,use_Promise_setValue="object"==typeof GM&&"function"==typeof GM.setValue,use_GM_xmlhttpRequest="object"==typeof GM&&"function"==typeof GM.xmlHttpRequest,GM_xhr="object"==typeof GM&&"function"==typeof GM.xmlHttpRequest?GM.xmlHttpRequest:GM_xmlhttpRequest;var Extension={storage:{get:function(t,e,n,i){if("string"==typeof t)use_Promise_getValue?GM.getValue(i+t,e).then(n):n(GM_getValue(i+t,e));else if("object"==typeof t&&t.length){var o={},s=t.length;for(let a=0;a<t.length;a++){var r;"object"==typeof e&&e.length&&a<e.length&&(r=e[a]),use_Promise_getValue?GM.getValue(i+t[a],r).then((e=>o[t[a]]=e)).finally((()=>--s||n(o))):o[t[a]]=GM_getValue(i+t[a],r)}use_Promise_getValue||n(o)}},set:function(t,e,n,i){"function"==typeof n||(n=()=>{}),setTimeout((function(){use_Promise_setValue?GM.setValue(i+t,e).then((i=>n(t,e,i))).catch((i=>n(t,e,i))):n(t,e,GM_setValue(i+t,e))}),0)}},ajax:function(t,e){const n=function(t){const n={};t.responseHeaders.split(/\r?\n/).forEach((function(t){const e=t.split(/\s*:\s*/,2);n[e[0].toLowerCase()]=e[1]})),e(t.responseText,t.status,n)},i=t.method||"GET",o=t.timeout||5*X.seconds,s=t.url||t;if(!s)return alert("Invalid parameter passed to Extension.ajax"),e(null);const r={method:i,timeout:o,url:s,onload:n};["error","abort","timeout"].forEach((t=>r[`on${t}`]=()=>n({responseText:t,status:418,responseHeaders:""}))),GM_xhr(r)}};const sfx_style="\n.sfx_bubble_note {\n  position: fixed;\n  min-height: 50px;\n  min-width: 150px;\n  max-height: 90vh;\n  max-width: 50vw;\n  margin: 10px;\n  font-family: arial;\n  background-color: #FFFFE5;\n  color: black;\n  border: 1px solid #3F5C71;\n  font-size: calc(0.7rem * var(--sfx_ui_scale));\n  padding: 10px;\n  border-radius: 6px;\n  box-shadow: 0 0 5px #888888;\n  z-index: 99999 !important;\n  cursor: move;\n  overflow: auto;\n}\n.sfx_bubble_note .sfx_bubble_note_title {\n  font-size: calc(0.8rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  margin: 10px 0;\n}\n.sfx_bubble_note .sfx_bubble_note_subtitle {\n  font-size: calc(0.7rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  margin: 5px 0;\n}\n.sfx_bubble_note .sfx_bubble_note_data {\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: calc(0.65rem * var(--sfx_ui_scale));\n  background-color: #ddd;\n  overflow: auto;\n  max-height: 50vh;\n}\n.sfx_bubble_note_top_right {\n  right: 0;\n  top: 0;\n}\n.sfx_bubble_note_bottom_right {\n  right: 0;\n  bottom: 0;\n}\n.sfx_bubble_note_top_left {\n  left: 0;\n  top: 0;\n}\n.sfx_bubble_note_bottom_left {\n  left: 0;\n  bottom: 0;\n}\n\n/* Comment Button */\n.sfx_comment_button {\n  float: right;\n  padding: 4px 8px;\n  margin: 4px;\n  background-color: #5A74A8 !important;\n  border: 1px solid #1A356E;\n  color: white;\n  font-weight: bold;\n  font-size: calc(0.6rem * var(--sfx_ui_scale)) !important;\n  line-height: 12px !important;\n  border-radius: 3px;\n}\n.sfx_comment_button_msg {\n  float: right;\n  display: inline-block;\n  padding: 5px 4px;\n  color: #9197A3;\n}\n\n.sfx_expander_ui {\n  max-height: 50ex;\n  width: 30em;\n  overflow-y: scroll;\n}\n.sfx_clicked {\n  background-color: yellow;\n}\n\n\n#sfx_control_panel {\n  position: fixed;\n  min-width: 150px;\n  max-width: 250px;\n  border-radius: 3px;\n  background-color: white;\n  color: #404040;\n  z-index: 201;\n  opacity: 0.6;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  box-shadow: 0 0 5px rgba(105, 118, 136, 0.2), 0 5px 5px rgba(132, 143, 160, 0.2), 0 10px 10px rgba(132, 143, 160, 0.2), 0 20px 20px rgba(132, 143, 160, 0.2), 0 0 5px rgba(105, 118, 136, 0.3);\n}\n#sfx_control_panel:hover {\n  opacity: 1;\n}\n#sfx_control_panel .sfx_cp_header {\n  font-weight: bold;\n  cursor: move;\n  margin-bottom: 2px;\n  font-size: calc(0.45rem * var(--sfx_ui_scale));\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  vertical-align: top;\n  padding: 5px;\n  border-radius: 3px 3px 0 0;\n  text-align: left;\n  border: 0;\n  color: #fff;\n  background: linear-gradient(to right, #2C4372, #3B5998);\n}\n#sfx_control_panel .sfx_cp_section_label {\n  background-color: #eee;\n  font-size: calc(0.5rem * var(--sfx_ui_scale));\n  font-family: arial,sans serif;\n  font-weight: bold;\n  padding: 3px;\n}\n#sfx_control_panel .sfx_cp_section_content {\n  margin-bottom: 5px;\n}\n.sfx_why_cp_filters {\n  margin: 5px;\n  border: 2px solid grey;\n  padding: 5px;\n}\n.sfx_close_cp_refresh {\n  margin-left: 10px;\n  margin-right: 2px;\n}\n.sfx_cp_close_button {\n  float: right;\n  display: inline-block;\n  width: 10px;\n  cursor: pointer;\n  text-align: center;\n  border: 1px solid #aaa;\n  border-radius: 4px;\n  font-weight: normal;\n  letter-spacing: 0;\n}\n\n*[sfx_update_count]:before {\n  display: block;\n  border: 2px solid orange;\n  border-radius: 5px;\n  padding: 5px;\n  background-color: white;\n  content: \"Updates: [\" attr(sfx_update_count) \"] \" attr(sfx_update_tracking);\n}\n\n.sfx_insert_step_1 {\n  margin: 2px;\n  outline: 2px solid red;\n}\n.sfx_insert_step_2 {\n  margin: 2px;\n  outline: 2px solid green;\n}\n.sfx_insert_step_3 {\n  margin: 2px;\n  outline: 2px solid blue;\n}\n.sfx_insert_step_4 {\n  margin: 2px;\n  outline: 2px solid orange;\n}\n.sfx_insert_step_5 {\n  margin: 2px;\n  outline: 2px solid purple;\n}\n.sfx_insert_step_6 {\n  margin: 2px;\n  outline: 2px solid lime;\n}\n.sfx_insert_step_7 {\n  margin: 2px;\n  outline: 2px solid cyan;\n}\n\n.sfx_debug_tab {\n  opacity: 0.5;\n}\n.sfx_debug_tab:hover {\n  opacity: 1;\n}\n\n#sfx_debugger {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  border: 1px solid black;\n  background-color: white;\n  color: black;\n  z-index: 99999;\n}\n#sfx_debugger_results {\n  width: 40vw;\n  height: 75vh;\n  overflow: auto;\n  clear: both;\n  font-family: monospace !important;\n}\n#sfx_debugger_controls {\n  border-bottom: 1px solid #333;\n}\n#sfx_debugger_controls > div {\n  margin: 2px;\n}\n#sfx_debugger_url {\n  margin-left: 10px;\n  max-width: 400px;\n  text-overflow: ellipsis;\n  display: inline-block;\n  white-space: nowrap;\n}\n.sfx_debugger_result {\n  border: 1px solid #666;\n  margin: 8px;\n}\n.sfx_debugger_subresult {\n  border: 1px solid #ccc;\n  margin: 3px;\n}\n.sfx_debugger_subresult:hover {\n  background-color: #F2F4FF;\n  cursor: pointer;\n}\n.sfx_debugger_button {\n  float: right;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  text-align: center;\n  padding: 3px;\n  margin: 3px;\n  font-size: calc(0.8rem * var(--sfx_ui_scale));\n  font-weight: bold;\n}\n.sfx_debugger_button:hover {\n  outline: 1px solid #ccc;\n}\n.sfx_debugger_warning {\n  font-weight: bold;\n  color: red;\n}\n.sfx_debugger_text_header {\n  color: #666;\n  float: right;\n  margin: 1px;\n}\n.sfx_debugger_action {\n  cursor: pointer;\n  margin-left: 10px;\n  display: inline-block;\n}\n.sfx_debugger_action:hover {\n  text-decoration: underline;\n}\n\n.sfx_edit_buf_button {\n  padding: 4px;\n  outline: 2px solid black;\n}\n.sfx_edit_buf_button .sfx_edit_buf_selected {\n  outline: 2px solid red;\n}\n.sfx_edit_buf_toggle {\n  font-weight: normal;\n  color: black;\n}\n.sfx_edit_buf_post_show {\n  display: block !important;\n  box-shadow: 5px 5px 5px blue, -5px -5px 5px red;\n  opacity: 1;\n}\n.sfx_edit_buf_post_show > ._4-u2 {\n  opacity: 1 !important;\n}\n\n/*ELEMENTS*/\n/* REUSABLE STYLES */\n.sfx_info {\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n}\ninput.sfx_input {\n  padding-left: 0.2em;\n  border: 1px solid #bec4cd;\n  border-radius: 2px;\n}\n/* BUTTONS */\n.sfx_button {\n  background-color: #4267B2;\n  border: 1px solid #4267B2;\n  color: white;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  line-height: 22px;\n  cursor: pointer;\n  border-radius: 3px;\n  padding: 2px 8px;\n  font-weight: bold;\n}\n.sfx_button:hover {\n  background-color: #365899;\n}\n.sfx_button.secondary {\n  background-color: #e7e9ef;\n  color: #000000;\n  border-color: #d7dce5;\n}\n.sfx_button.secondary:hover {\n  background-color: #d0d5e0;\n}\n.sfx_button.light {\n  color: black;\n  padding: 5px 8px;\n  background-color: #f6f7f9;\n  border: 1px solid #ced0d4;\n  border-radius: 2px;\n}\n/* DIALOG BOXES */\n.sfx_dialog_title_bar {\n  padding: 10px 12px;\n  font-weight: bold;\n  line-height: 28px;\n  min-height: 28px;\n  margin: -10px -10px 0;\n  border: 0;\n  margin-bottom: 10px;\n  color: #fff;\n  font-size: calc(0.5rem * var(--sfx_ui_scale));\n  letter-spacing: 4px;\n  text-transform: uppercase;\n  vertical-align: top;\n  background: linear-gradient(to right, #2C4372, #3B5998 80%);\n}\n.sfx_dialog_title_bar .sfx_button {\n  letter-spacing: normal !important;\n  background-color: #253860;\n  border: 0;\n}\n.sfx_dialog_title_bar .sfx_button.secondary {\n  background-color: rgba(255, 255, 255, 0.15);\n  color: #fff;\n  border: 0;\n  font-weight: normal;\n}\n.sfx_dialog {\n  z-index: 99999;\n  overflow: hidden;\n  position: fixed;\n  top: 48px;\n  left: 20px;\n  width: 90vw;\n  min-width: 500px;\n  max-width: 1000px;\n  max-height: 90vh;\n  font-family: helvetica, arial, sans-serif;\n  transition: height 0.5s linear;\n  color: #404040;\n  border: 0;\n  border-radius: 3px;\n  padding: 10px;\n  background-color: #E9EBEE;\n  box-shadow: 0 0 5px rgba(105, 118, 136, 0.2), 0 5px 5px rgba(132, 143, 160, 0.2), 0 10px 10px rgba(132, 143, 160, 0.2), 0 20px 20px rgba(132, 143, 160, 0.2);\n}\n#sfx_options_dialog_sections {\n  flex: none;\n  width: 125px;\n}\n#sfx_options_dialog_content {\n  padding: 10px;\n}\n#sfx_options_dialog_body {\n  background-color: white;\n}\n.sfx_options_dialog_section {\n  padding: 6px 5px 6px 10px;\n  background-color: #F6F7F9;\n  font-weight: bold;\n  margin: 2px;\n  cursor: pointer;\n}\n.sfx_options_dialog_section.selected {\n  background-color: #4267B2;\n  color: white;\n  cursor: auto;\n}\n/*END ELEMENTS*/\n\n.sfx_data_table {\n  border-collapse: collapse;\n}\n.sfx_data_table th {\n  font-weight: bold;\n  background-color: #ccc;\n  padding: 5px;\n  border: 1px solid #666;\n}\n.sfx_data_table th.sortable {\n  cursor: pointer;\n}\n.sfx_data_table th.sortable:hover {\n  text-decoration: underline;\n}\n.sfx_data_table td {\n  padding: 1px 5px;\n  border: 1px solid #ddd;\n}\n\nhtml:not(.sfx_hide_show_all) .sfx_hide_hidden {\n  display: none !important;\n}\n.sfx_hide_frame {\n  position: absolute;\n  z-index: 99999;\n  background-color: rgba(0, 255, 0, 0.2);\n  outline: 2px solid lime;\n  margin: 0 !important;\n  font-weight: bold;\n  text-align: center;\n  color: transparent;\n}\n.sfx_hide_frame_hidden {\n  color: white;\n  background-color: rgba(255, 0, 0, 0.2);\n  outline: 2px solid red;\n}\n.sfx_hide_frame_hidden:hover {\n  outline: 2px dashed green;\n}\n.sfx_hide_frame:hover {\n  outline: 2px dashed red;\n  background-color: rgba(218, 165, 32, 0.5);\n  color: black;\n  cursor: pointer;\n}\n.sfx_hide_bubble {\n  max-width: 400px;\n}\n.sfx_hide_bubble > div {\n  margin: 10px 0;\n}\n.sfx_hide_bubble .sfx_button {\n  margin-left: auto;\n  margin-right: auto;\n}\n.sfx_hide_bubble label {\n  font-weight: normal;\n  color: black;\n}\n.sfx_hide_show_overflow.sfx_hide_show_overflow {\n  overflow: visible !important;\n}\n.sfx_hide_checkmark {\n  filter: invert(1);\n  background-repeat: no-repeat;\n}\n[data-hover='hider-tooltip'][data-hider-title]:hover::after {\n  color: blue;\n  background-color: white;\n  font-size: large;\n  font-weight: bold;\n  line-height: calc(0.75rem * var(--sfx_ui_scale));\n  text-transform: none;\n  text-align: center;\n  content: attr(data-hider-title);\n  border: 4px solid blueviolet;\n  border-radius: 12px;\n  padding: 2px;\n  margin: 0px;\n  min-width: calc(4rem * var(--sfx_ui_scale));\n  width: auto;\n  max-width: calc(22rem * var(--sfx_ui_scale));\n  height: auto;\n  max-height: calc(6rem * var(--sfx_ui_scale));\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: visible;\n  z-index: 200000;\n  opacity: 0.75;\n}\n/* Special adjustment for the tooltips inside the Hide/Show box */\n.sfx_hide_bubble [data-hover='hider-tooltip']:hover::after {\n  transform: none;\n  top: 75%;\n  left: 37%;\n  right: 33%;\n}\n/* Position the corner tooltips */\n.sfx_hide_bubble [style*=right][style*=bottom]:hover::after {\n  transform: translate(calc(-4.5rem * var(--sfx_ui_scale)), calc(-3rem * var(--sfx_ui_scale)));\n}\n.sfx_hide_bubble [style*=right]:hover::after {\n  transform: translate(calc(-4.5rem * var(--sfx_ui_scale)), 0);\n}\n.sfx_hide_bubble [style*=bottom]:hover::after {\n  transform: translate(0, calc(-3rem * var(--sfx_ui_scale)));\n}\n/* Tooltip delays */\n@-webkit-keyframes sfx_tooltip_anim {\n  from {\n    opacity: 0;\n  }\n  30% {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.75;\n  }\n}\n@keyframes sfx_tooltip_anim {\n  from {\n    opacity: 0;\n  }\n  30% {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.75;\n  }\n}\n[data-hover='hider-tooltip']:not([data-hider-delay]):hover::after {\n  -webkit-animation: sfx_tooltip_anim 0.1s;\n          animation: sfx_tooltip_anim 0.1s;\n}\n[data-hover='hider-tooltip'][data-hider-delay='650']:hover::after {\n  -webkit-animation: sfx_tooltip_anim 0.65s;\n          animation: sfx_tooltip_anim 0.65s;\n}\n[data-hover='hider-tooltip'][data-hider-delay='1000']:hover::after {\n  -webkit-animation: sfx_tooltip_anim 1s;\n          animation: sfx_tooltip_anim 1s;\n}\n\n#sfx_log_viewer {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  border: 1px solid black;\n  background-color: white;\n  color: black;\n  z-index: 99999;\n}\n#sfx_log_viewer_entries {\n  width: 40vw;\n  height: 50vh;\n  overflow: auto;\n  white-space: pre;\n  clear: both;\n}\n#sfx_log_controls {\n  border-bottom: 1px solid #333;\n}\n.sfx_log_button {\n  float: right;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  text-align: center;\n  padding: 3px;\n  margin: 3px;\n  font-size: calc(0.8rem * var(--sfx_ui_scale));\n  font-weight: bold;\n}\n.sfx_log_button:hover {\n  outline: 1px solid #ccc;\n}\n.sfx_log_entry {\n  font-family: monospace !important;\n}\n\n.sfx_hide_read .sfx_post_read:not(.sfx_show_read) > :not(.sfx_read_note) {\n  display: none;\n}\nhtml:not(.sfx_hide_read) .sfx_read_note > *,\n.sfx_hide_read .sfx_post_read.sfx_show_read .sfx_read_show,\n.sfx_hide_read .sfx_post_read:not(.sfx_show_read) .sfx_read_hide {\n  display: none;\n}\n.sfx_hide_read .sfx_post_read:not(.sfx_show_read),\n.sfx_filter_hidden:not(.sfx_filter_hidden_show) {\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n}\n.sfx_read_note {\n  margin: 1px;\n  font-size: calc(0.5rem * var(--sfx_ui_scale));\n  cursor: pointer;\n  padding: 0 5px;\n  color: var(--primary-text) !important;\n}\n.sfx_cp_mark_all_read input {\n  border-radius: 10px;\n  font-size: calc(0.55rem * var(--sfx_ui_scale));\n  padding: 2px 3px;\n  line-height: 12px;\n  font-weight: normal;\n}\n.sfx_cp_mark_all_read input[disabled=\"true\"] {\n  background-color: #eee;\n  color: #aaa;\n}\nhtml[sfx_context_type=marketplace] #sfx_post_action_tray_container {\n  position: relative;\n  width: 38%;\n  left: 70%;\n  top: 2%;\n  z-index: 1;\n}\n#sfx_post_action_tray {\n  position: absolute;\n  right: 32px;\n  top: 1px;\n  height: 16px;\n  overflow: visible;\n}\n#sfx_post_action_tray > * {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  float: right;\n  cursor: pointer;\n  margin-left: 7px;\n  opacity: 0.5;\n  font-size: calc(0.8rem * var(--sfx_ui_scale));\n  line-height: 16px;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  color: #b1b5bb;\n  z-index: 350;\n}\n#sfx_post_action_tray > *:hover {\n  opacity: 1;\n}\n.sfx_post_action_menu {\n  position: absolute;\n  display: none;\n  min-width: 150px;\n  margin: 2px;\n  padding: 4px;\n  cursor: pointer;\n  background-color: white;\n  border: 1px solid #666;\n  z-index: 9999;\n}\n.sfx_post_action_menu > div {\n  padding: 4px 2px 4px 10px;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  font-family: arial, sans-serif;\n}\n.sfx_post_action_menu > div:hover {\n  background-color: #7187B5;\n  color: white;\n}\n\n.sfx_filter_subscribed {\n  opacity: 0.5;\n  background-color: #d4ffd3;\n}\n.sfx_filter_subscribed .sfx_square_add {\n  display: none;\n}\n\n.sfx_tweak_subscribed {\n  opacity: 0.5;\n  background-color: #afffbe;\n}\n.sfx_tweak_subscribed .sfx_square_add {\n  display: none;\n}\n\ndiv.sfx_option {\n  line-height: 24px;\n  vertical-align: middle;\n}\ndiv.sfx_option input[type=checkbox]:not(.normal) ~ label {\n  float: left;\n  margin-right: 5px;\n}\n.sfx_square_control {\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n  border-radius: 3px;\n  padding: 0;\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  font-weight: bold;\n  font-size: calc(1rem * var(--sfx_ui_scale));\n  line-height: 20px;\n  background-color: #fff;\n  color: #4267B2;\n  /*\n  &:hover {\n    opacity:.9;\n  }*/\n}\n.sfx_square_add {\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n  border-radius: 3px;\n  padding: 0;\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  font-weight: bold;\n  font-size: calc(1rem * var(--sfx_ui_scale));\n  line-height: 20px;\n  background-color: #fff;\n  color: #4267B2;\n  /*\n  &:hover {\n    opacity:.9;\n  }*/\n  color: white;\n  background-color: #42b72a;\n  box-shadow: none;\n}\n.sfx_square_delete {\n  color: #a60000;\n  background-color: white;\n}\n.sfx_dialog input[type=checkbox]:not(.normal) {\n  display: none;\n}\n.sfx_dialog input[type=checkbox]:not(.normal) ~ label {\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n  border-radius: 3px;\n  padding: 0;\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  font-weight: bold;\n  font-size: calc(1rem * var(--sfx_ui_scale));\n  line-height: 20px;\n  background-color: #fff;\n  color: #4267B2;\n  /*\n  &:hover {\n    opacity:.9;\n  }*/\n  box-shadow: inset 0 0 0 2px #3B5998;\n  color: white;\n}\n.sfx_dialog input[type=checkbox]:not(.normal) ~ label:hover {\n  opacity: 1;\n}\n.sfx_dialog input[type=checkbox]:not(.normal):checked ~ label {\n  background-color: #3B5998;\n  color: #fff;\n}\n.sfx_dialog input[type=checkbox]:not(.normal):checked ~ label:after {\n  content: '\\2714';\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  font-size: calc(1rem * var(--sfx_ui_scale));\n  line-height: 20px;\n  color: white;\n}\n/* Options List Table */\n.sfx_options_dialog_table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border-bottom: 1px solid #ccc;\n  width: 95%;\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n.sfx_options_dialog_table thead {\n  border-bottom: 2px solid #4267B2;\n}\n.sfx_options_dialog_table thead tr th {\n  text-align: left;\n  font-weight: bold;\n  padding: 3px 5px;\n  color: #4267B2;\n}\n.sfx_options_dialog_table tbody tr:hover td {\n  background-color: #E9EBEE;\n}\n.sfx_options_dialog_table tbody td {\n  border-top: 1px solid #ccc;\n  padding: 3px;\n  vertical-align: top;\n}\n.sfx_options_dialog_table tbody td.repeat {\n  border-top: none;\n  visibility: hidden;\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_highlighted {\n  background-color: #afffbe !important;\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_title {\n  font-size: calc(0.55rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  width: 160px;\n  padding-right: 20px;\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_description {\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  color: #5a5a5a;\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_action {\n  padding-right: 10px;\n  padding-left: 10px;\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_action input[type=checkbox] {\n  transform: scale(1.25);\n}\n.sfx_options_dialog_table .sfx_options_dialog_option_disabled {\n  opacity: 0.7;\n}\n#sfx_options_dialog_actions {\n  float: right;\n}\n/* Dialog Panels */\n.sfx_panel {\n  padding: 5px;\n}\n.sfx_panel_title_bar {\n  padding: 0 3px;\n  color: #4267B2;\n  font-weight: bold;\n  font-size: calc(0.7rem * var(--sfx_ui_scale));\n  line-height: 18px;\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 5px;\n}\n.sfx_options_dialog_panel {\n  padding: 5px;\n}\n.sfx_options_dialog_panel > div:last-child {\n  margin-top: 10px;\n}\n.sfx_options_dialog_panel .sfx_options_dialog_panel {\n  background-color: #e7e9ef;\n  margin: 10px 0;\n}\n.sfx_options_dialog_panel .sfx_options_dialog_panel .sfx_panel_title_bar {\n  font-size: calc(0.9rem * var(--sfx_ui_scale));\n}\n.sfx_options_dialog_panel .sfx_options_dialog_panel_button {\n  float: right;\n  margin: 5px;\n}\n/* Filter Styles */\n.sfx_options_dialog_filter_conditions,\n.sfx_options_dialog_filter_actions {\n  margin-top: 0;\n}\n.sfx_options_dialog_panel_header {\n  font-weight: bold;\n  margin: 30px 0 10px;\n  color: #697688;\n  font-size: calc(0.75rem * var(--sfx_ui_scale));\n  background-color: #E9EBEE;\n  padding: 10px;\n}\n\n.sfx_permalink_target [aria-expanded] .S2F_pos_abs {\n  opacity: 1;\n}\n.__fb-dark-mode .sfx_permalink_target [aria-expanded] .S2F_pos_abs {\n  filter: invert(100%) contrast(100%);\n}\n\n[sfx_photo_tags]:hover::after {\n  content: attr(sfx_photo_tags);\n  color: white;\n  font-size: calc(0.7rem * var(--sfx_ui_scale));\n  line-height: calc(0.9rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #000000;\n  border: 1px solid #999;\n  margin: 5px;\n  padding: 2px;\n}\n.sfx_photo_tags_text {\n  display: none;\n}\n\n.sfx_filter_hidden:not(.sfx_filter_hidden_show) > *:not(.sfx_filter_hidden_note) {\n  display: none !important;\n}\n.sfx_filter_hidden_note {\n  padding: 0 5px;\n  border: 1px dashed #333;\n  font-size: calc(0.55rem * var(--sfx_ui_scale));\n  opacity: 0.5;\n  cursor: pointer;\n  margin-top: 2px;\n  color: var(--primary-text) !important;\n}\n.sfx_filter_hidden_note:hover {\n  opacity: 1;\n}\n[sfx_post].sfx_filter_hidden_show .sfx_filter_hider_note {\n  display: none;\n}\n[sfx_post]:not(.sfx_filter_hidden_show) .sfx_filter_hider_nyet {\n  display: none;\n}\n\n#sfx_control_panel .sfx_filter_tab {\n  cursor: pointer;\n  padding: 2px 10px 2px 5px;\n  background-color: #F6F7F9;\n}\n#sfx_control_panel .sfx_filter_tab:hover {\n  background-color: #5890FF;\n}\n#sfx_control_panel .sfx_filter_tab:hover .sfx_count {\n  color: black;\n}\n#sfx_control_panel .sfx_filter_tab.sfx_tab_selected {\n  background-color: #4267B2;\n  color: white;\n}\n#sfx_control_panel .sfx_filter_tab.sfx_tab_selected .sfx_count {\n  color: white;\n}\n#sfx_control_panel .sfx_filter_tab.sfx_tab_occupied {\n  font-weight: bold;\n}\n#sfx_control_panel .sfx_filter_tab:not(.sfx_tab_occupied):not(.sfx_tab_selected):not(:hover) {\n  background-color: #d7dce5;\n}\n#sfx_control_panel .sfx_count {\n  font-style: italic;\n  color: #999;\n}\n\n.sfx_scroll_pause {\n  display: none;\n}\n/*\n * Posts must be 'visible' during post ID lookup for the injected\n * pointer events to be processed.  This keeps them out of user's\n * sight, and avoids the worst of the page & scrollbar jitter.\n */\n.sfx_touch {\n  display: block !important;\n  position: absolute;\n  height: 111px;\n  width: 111px;\n  overflow: hidden;\n  opacity: 0;\n}\n\n/* \"Sticky\" note */\n.sfx_sticky_note {\n  position: absolute;\n  min-height: 14px;\n  min-width: 150px;\n  right: 100%;\n  margin-right: 8px;\n  top: 50%;\n  font-family: arial;\n  background-color: #FFFFE5;\n  color: black;\n  border: 1px solid #3F5C71;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  padding: 3px;\n  text-align: center;\n  border-radius: 6px;\n  box-shadow: 0 0 5px #888888;\n  z-index: 9999 !important;\n}\n.sfx_sticky_note_right {\n  left: 100%;\n  right: auto;\n  margin-left: 8px;\n  margin-right: auto;\n}\n.sfx_sticky_note_left {\n  right: 100%;\n  left: auto;\n  margin-right: 8px;\n  margin-left: auto;\n}\n.sfx_sticky_note_bottom {\n  top: 200%;\n  right: auto;\n  left: -25%;\n  margin-top: 8px;\n  margin-right: 0;\n  margin-left: -3px;\n}\n.sfx_sticky_note_top {\n  top: -100%;\n  right: auto;\n  left: -25%;\n  margin-bottom: 8px;\n  margin-right: 0;\n  margin-left: -3px;\n}\n.sfx_sticky_note_arrow_border {\n  border-color: transparent transparent transparent #666666;\n  border-style: solid;\n  border-width: 7px;\n  height: 0;\n  width: 0;\n  position: absolute;\n  margin-top: -7px;\n  top: 50%;\n  right: -15px;\n}\n.sfx_sticky_note_right .sfx_sticky_note_arrow_border {\n  border-color: transparent #666666 transparent transparent;\n  top: 50%;\n  right: auto;\n  left: -15px;\n}\n.sfx_sticky_note_left .sfx_sticky_note_arrow_border {\n  border-color: transparent transparent transparent #666666;\n  top: 50%;\n  right: -15px;\n  left: auto;\n}\n.sfx_sticky_note_bottom .sfx_sticky_note_arrow_border {\n  border-color: transparent transparent #666666 transparent;\n  left: 50%;\n  right: auto;\n  top: -15px;\n  margin-left: -7px;\n  margin-top: 0;\n}\n.sfx_sticky_note_top .sfx_sticky_note_arrow_border {\n  border-color: #666666 transparent transparent transparent;\n  left: 50%;\n  right: auto;\n  top: auto;\n  bottom: -15px;\n  margin-left: -7px;\n  margin-bottom: 0;\n}\n.sfx_sticky_note_arrow {\n  border-color: transparent transparent transparent #ffa;\n  border-style: solid;\n  border-width: 7px;\n  height: 0;\n  width: 0;\n  position: absolute;\n  top: 50%;\n  right: -13px;\n  margin-top: -7px;\n}\n.sfx_sticky_note_right .sfx_sticky_note_arrow {\n  border-color: transparent #ffa transparent transparent;\n  top: 50%;\n  right: auto;\n  left: -13px;\n}\n.sfx_sticky_note_left .sfx_sticky_note_arrow {\n  border-color: transparent transparent transparent #ffa;\n  top: 50%;\n  right: -13px;\n  left: auto;\n}\n.sfx_sticky_note_bottom .sfx_sticky_note_arrow {\n  border-color: transparent transparent #ffa transparent;\n  left: 50%;\n  right: auto;\n  top: -13px;\n  margin-left: -7px;\n  margin-top: 0;\n}\n.sfx_sticky_note_top .sfx_sticky_note_arrow {\n  border-color: #ffa transparent transparent transparent;\n  left: 50%;\n  right: auto;\n  bottom: -13px;\n  top: auto;\n  margin-left: -7px;\n  margin-bottom: 0;\n}\n.sfx_sticky_note_close {\n  float: left;\n  width: 9px;\n  height: 9px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  cursor: pointer;\n  background-image: url(\"data:image/gif,GIF89a%07%00%07%00%91%00%00%00%00%00%FF%FF%FF%9C%9A%9C%FF%FF%FF!%F9%04%01%00%00%03%00%2C%00%00%00%00%07%00%07%00%00%02%0C%94%86%A6%B3j%C8%5Er%F1%B83%0B%00%3B\");\n  border: 1px solid transparent;\n  float: right;\n}\ndiv.sfx_sticky_note_close:hover {\n  background-image: url(\"data:image/gif,GIF89a%07%00%07%00%91%00%00%00%00%00%FF%FF%FF%FF%FF%FF%00%00%00!%F9%04%01%00%00%02%00%2C%00%00%00%00%07%00%07%00%00%02%0C%04%84%A6%B2j%C8%5Er%F1%B83%0B%00%3B\");\n  border: 1px solid black;\n}\n\n.sfx_link {\n  text-decoration: underline !important;\n  cursor: pointer !important;\n}\n.sfx_hover_link:hover {\n  text-decoration: underline !important;\n  cursor: pointer !important;\n}\n.sfx_clearfix:after {\n  clear: both;\n  content: '.';\n  display: block;\n  font-size: 0;\n  height: 0;\n  line-height: 0;\n  visibility: hidden;\n}\n.sfx_info_icon {\n  content: \"i\";\n  position: absolute;\n  display: block;\n  left: 6px;\n  top: 6px;\n  width: 20px;\n  height: 20px;\n  font-size: calc(0.9rem * var(--sfx_ui_scale));\n  line-height: 18px;\n  text-align: center;\n  font-style: italic;\n  vertical-align: middle;\n  font-family: serif !important;\n  font-weight: bold;\n  background-color: #5890FF;\n  color: white;\n  padding: 0;\n  border-radius: 20px;\n}\n.sfx_info {\n  background-color: #FFFFE5;\n  border: 1px solid #666;\n  border-radius: 6px;\n  padding: 7px;\n  margin: 5px;\n  font-family: arial;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  position: relative;\n}\n.sfx_info:not(.no_icon) {\n  padding-left: 35px;\n}\n.sfx_info:not(.no_icon)::before {\n  content: \"i\";\n  position: absolute;\n  display: block;\n  left: 6px;\n  top: 6px;\n  width: 20px;\n  height: 20px;\n  font-size: calc(0.9rem * var(--sfx_ui_scale));\n  line-height: 18px;\n  text-align: center;\n  font-style: italic;\n  vertical-align: middle;\n  font-family: serif !important;\n  font-weight: bold;\n  background-color: #5890FF;\n  color: white;\n  padding: 0;\n  border-radius: 20px;\n}\n.sfx_highlight {\n  background-color: yellow;\n  color: black;\n}\n.sfx_label_value {\n  display: table;\n  width: 95%;\n  margin: 3px;\n}\n.sfx_label_value > * {\n  display: table-cell;\n}\n.sfx_label_value input.sfx_wide {\n  width: 100%;\n}\n.sfx_label_value > *:first-child {\n  font-weight: bold;\n  padding-right: 10px;\n  width: 1px;\n}\n.sfx_label_value > .stretch {\n  width: 100%;\n}\n/* A \"Help\" icon with tooltip */\n.sfx-help-icon:after {\n  display: inline-block;\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n  background-color: #7187B5;\n  color: white;\n  border-radius: 50%;\n  content: \"?\";\n  cursor: help;\n  text-align: center;\n  line-height: 12px;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  letter-spacing: normal;\n}\n/* FLEXBOX */\n.sfx-flex-row,\n.sfx-flex-column {\n  display: flex;\n}\n.sfx-flex-row > *,\n.sfx-flex-column > * {\n  flex: auto;\n  align-self: auto;\n  overflow: auto;\n}\n.sfx-flex-row,\n.sfx-flex-column {\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-content: stretch;\n  align-items: stretch;\n}\n.sfx-flex-row {\n  flex-direction: row;\n}\n.sfx-flex-column {\n  flex-direction: column;\n}\n.sfx-flex-row-container {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n}\n.sfx-flex-row-container > * {\n  margin-right: 5px;\n}\n.sfx-flex-row-container > *:not(.stretch) {\n  flex-shrink: 0 ;\n}\n.sfx-flex-row-container > .stretch {\n  flex-grow: 1;\n}\n.sfx-flex-row-container > .stretch > .stretch {\n  width: 100%;\n}\n\n.sfx_unread_errmsg {\n  color: #f47;\n}\n\n\n.mark_read_filter {\n    background: url('data:image/gif;base64,R0lGODdhEAAQAJAAALG1u////yH5BAEAAAEALAAAAAAQABAAAAIgjI8ZwO0Po1vyndoSVhRy431gJo5MaQJop6KTS5bv+hUAOw==');\n}\n\n.mark_read_markit {\n    background: url('data:image/gif;base64,R0lGODdhEAAQAJAAALG1u////yH5BAEAAAEALAAAAAAQABAAAAIgjI+pC73Z3DMRTBpvqHrnyyGfJ4lZCFVoqoLrM7pWRxcAOw==');\n}\n\n.mark_read_nomark {\n    background: url('data:image/gif;base64,R0lGODdhEAAQAJAAALG1u////yH5BAEAAAEALAAAAAAQABAAAAIijI+pC73Z3DMRTBpZ3Rbx/VSQFIijY55cuE7gVZJXBtdGAQA7');\n}\n\n.mark_read_wrench {\n    background: url('data:image/gif;base64,R0lGODdhEAAQAPUAALq9wra5v/39/bO3vd7f4rS4vvn5+vf3+O7v8P7+/rW4vvz8/bW5v7W5vujp69/h5Nze4fz8/O/w8ezt7/Lz9M3Q1Ly/xbO2vOHj5cDDyPX19srN0e7u8L7BxszP0rS4vbq+w/Hx8re7wLK2vObn6dvd4NPV2MLFycXIzMnM0Pb298vN0bu/xPj4+fn5+dja3cbJzrG1u////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADIALAAAAAAQABAAAAZyQJlwKEQ8iMihZhMzJZEkRSxgeA4Rg1isRExAkBWtYkEkBJAnrUgwPDBiSJY2tmLLUrECEjCPdV4wWgBECxd9hyhEGIeHBEMUAYxzGXYqfHMDIFkjHlUyLRZzHwQRQi4JRAeXDRNWQyEFARyuRA4StEJBADs=');\n}\n",sfx_menu_style="\n/* Make room for the SFX Menu badge */\nhtml[dir=ltr] [role=banner] > :last-child {\n  right: 50px;\n}\n#sfx_badge {\n  position: fixed;\n  z-index: 350;\n  cursor: pointer;\n}\n#sfx_badge .sfx_sticky_note {\n  white-space: nowrap;\n}\n#sfx_badge:not(:hover)::after {\n  opacity: 0.5;\n}\n#sfx_badge[sfx_notification_count=\"X\"]::after {\n  background-color: #b66;\n}\n#sfx_badge_logo {\n  position: relative;\n  z-index: 351;\n  color: white;\n  font-size: calc(0.45rem * var(--sfx_ui_scale));\n  text-align: center;\n  height: 30px;\n  width: 30px;\n  border-radius: 16px;\n  opacity: 0.5;\n  border: 2px solid transparent;\n  box-shadow: 3px 3px 3px #1c1c1c;\n  background: #2C4166 url(data:image/gif;base64,R0lGODlhFwAXAOYAAJOgv3%2BOr4KRsYWUtIiXt5GfvpmnxZimxJelw5mmxKCuzKCty6GuzKOwzaKvzKe00aWyz09hhFVnilZoi1lrjlxtkGh5mml6m2x9nmt8nW%2BAoW19nnGCo29%2FoHSEpXKCo3yMrH%2BPr4SUs4CProeWtYWUs4mYt4iXtoybuoqZuI6dvI2cupWkwpalwpakwZ2ryKCuy56syaGvzCxBZi1CZy5DaDFGazJHbDFFajNHbDVJbjZKbzhMcThMcDpOczpOcj1RdUBUeEBTd0JWekFVeERYe0VYfElcf1FkhlRniVhqjFxukGFzlGV3mHqLqjBFaTNIbDZLbzlOcv%2F%2F%2FwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFMALAAAAAAXABcAAAe4gFMzg4SFhoeCh4Y9ShkeHUtSipNNLw%2BXlwxHk4YSmJcQAxQ7nIUlmAcbQ6WGOwuYH6yHEZ8JNrKFHJ8PE4Y1nDUFuyKDOUgCTJxFuw8NERgIlxecGsy7DUSTQArWnxWTNSTdmB7gTuOXATSKTyPMDiBJLA8mN4o4IbswG0CDFgY8FEER9wmFkEJR%2Bh3aQWDXCSi4fqzYlUIHrhkqdgGIcnGGjE8ufHScwQBVkJEzpsSI0cIIyimBAAA7) no-repeat center center;\n}\n#sfx_badge:hover #sfx_badge_logo {\n  opacity: 1;\n  border: 2px solid white;\n  box-shadow: none;\n}\n#sfx_badge_menu {\n  z-index: 350;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  color: black;\n  width: 250px;\n}\n#sfx_badge_menu.left {\n  right: 12px;\n}\n#sfx_badge_menu.right {\n  left: 25px;\n}\n#sfx_badge_menu.down {\n  top: 0;\n}\n#sfx_badge_menu.up {\n  bottom: 15px;\n}\n#sfx_badge_menu.up #sfx_badge_menu_wrap {\n  display: flex;\n  flex-direction: column-reverse;\n}\n#sfx_badge_menu_wrap {\n  background-color: white;\n  border-radius: 4px;\n  border-color: #ddd;\n  padding: 10px;\n  margin-top: 20px;\n  box-shadow: 0 0 5px rgba(105, 118, 136, 0.2), 0 5px 5px rgba(132, 143, 160, 0.2), 0 10px 10px rgba(132, 143, 160, 0.2), 0 20px 20px rgba(132, 143, 160, 0.2), 0 0 5px rgba(105, 118, 136, 0.3);\n}\n.sfx_menu_section {\n  margin-bottom: 10px;\n}\n.sfx_menu_section:last-child {\n  margin-bottom: 0;\n}\n.sfx_menu_section .sfx_menu_section_title {\n  color: #3B5998;\n  font-size: calc(0.45rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  border-bottom: 1px solid #bec4cd;\n  padding: 0 5px;\n}\n.sfx_menu_section .sfx_menu_item {\n  padding: 3px 5px 3px 15px;\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n}\n.sfx_menu_section .sfx_menu_item .sfx_news_title {\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  color: #666;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 1px 5px;\n}\n.sfx_menu_section .sfx_menu_item:hover {\n  background-color: #7187B5;\n  color: white;\n}\n.sfx_menu_section .sfx_menu_item:hover .sfx_news_title {\n  color: white;\n}\n.sfx_menu_section .sfx_menu_item a.sfx_menu_item_content {\n  text-decoration: none;\n  color: inherit;\n}\n#sfx_badge_menu_item_page {\n  position: relative;\n}\n\n[sfx_notification_count]:not([sfx_notification_count='0'])::after {\n  content: attr(sfx_notification_count);\n  background-color: #F40008;\n  color: white;\n  position: absolute;\n  display: inline-block;\n  top: -3px;\n  left: -3px;\n  margin: 0 2px -1px 0;\n  padding: 2px 1.5px 0;\n  line-height: calc(0.7rem * var(--sfx_ui_scale));\n  font-size: calc(0.6rem * var(--sfx_ui_scale));\n  font-weight: bold;\n  border: 1px solid #2C4166;\n  border-radius: 3px;\n  z-index: 352;\n}\n.sfx_menu_item span[sfx_notification_count]::after {\n  position: static;\n}\n\n";try{var XLib=function(t){t=t||{};var n=function(){var t,n,i,o,s,r,a,l=[],c=l.concat,d=l.filter,u=l.slice,f=window.document,p={},h={},_={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},g=/^\s*<(\w+|!)[^>]*>/,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,v=/^(?:body|html)$/i,x=/([A-Z])/g,y=["val","css","html","text","data","width","height","offset"],w=f.createElement("table"),k=f.createElement("tr"),X={tr:f.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:k,th:k,"*":f.createElement("div")},F=/complete|loaded|interactive/,$=/^[\w-]*$/,A={},C=A.toString,S={},E=f.createElement("div"),T={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},N=Array.isArray||function(t){return t instanceof Array};function O(t){return null==t?String(t):A[C.call(t)]||"object"}function j(t){return"function"==O(t)}function R(t){return null!=t&&t==t.window}function L(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function D(t){return"object"==O(t)}function P(t){return D(t)&&!R(t)&&Object.getPrototypeOf(t)==Object.prototype}function M(t){var e=!!t&&"length"in t&&t.length,n=i.type(t);return"function"!=n&&!R(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function z(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function I(t){return t in h?h[t]:h[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function H(t,e){return"number"!=typeof e||_[z(t)]?e:e+"px"}function B(t){return"children"in t?u.call(t.children):i.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function V(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}function q(e,i,o){for(n in i)o&&(P(i[n])||N(i[n]))?(P(i[n])&&!P(e[n])&&(e[n]={}),N(i[n])&&!N(e[n])&&(e[n]=[]),q(e[n],i[n],o)):i[n]!==t&&(e[n]=i[n])}function U(t,e){return null==e?i(t):i(t).filter(e)}function W(t,e,n,i){return j(e)?e.call(t,n,i):e}function G(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function J(e,n){var i=e.className||"",o=i&&i.baseVal!==t;if(n===t)return o?i.baseVal:i;o?i.baseVal=n:e.className=n}function Z(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?i.parseJSON(t):t):t}catch(e){return t}}function K(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)K(t.childNodes[n],e)}return S.mogrify=t=>"string"==typeof t&&"object"==typeof e&&"function"==typeof e.gib_convert?e.gib_convert(t):t,S.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(e=S.mogrify(e),n)return n.call(t,e);var i,o=t.parentNode,s=!o;return s&&(o=E).appendChild(t),i=~S.qsa(o,e).indexOf(t),s&&E.removeChild(t),i},s=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},r=function(t){return d.call(t,(function(e,n){return t.indexOf(e)==n}))},a=function(t){return d.call(t,(function(e,n){return t.indexOf(e)==n&&-1==t.indexOf(e,n+1)}))},S.fragment=function(e,n,o){var s,r,a;return b.test(e)&&(s=i(f.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(m,"<$1></$2>")),n===t&&(n=g.test(e)&&RegExp.$1),n in X||(n="*"),(a=X[n]).innerHTML=""+e,s=i.each(u.call(a.childNodes),(function(){a.removeChild(this)}))),P(o)&&(r=i(s),i.each(o,(function(t,e){y.indexOf(t)>-1?r[t](e):r.attr(t,e)}))),s},S.Z=function(t,e){return new V(t,e)},S.isZ=function(t){return t instanceof S.Z},S.init=function(e,n){var o,s;if(!e)return S.Z();if("string"==typeof e)if("<"==(e=(e=S.mogrify(e)).trim())[0]&&g.test(e))o=S.fragment(e,RegExp.$1,n),e=null;else{if(n!==t)return i(n).find(e);o=S.qsa(f,e)}else{if(j(e))return i(f).ready(e);if(S.isZ(e))return e;if(N(e))s=e,o=d.call(s,(function(t){return null!=t}));else if(D(e))o=[e],e=null;else if(g.test(e))o=S.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==t)return i(n).find(e);o=S.qsa(f,e)}}return S.Z(o,e)},(i=function(t,e){return S.init(t,e)}).extend=function(t){var e,n=u.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach((function(n){q(t,n,e)})),t},S.qsa=function(t,e){var n,i="#"==(e=S.mogrify(e))[0],o=!i&&"."==e[0],s=i||o?e.slice(1):e,r=$.test(s);return t.getElementById&&r&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:u.call(r&&!i&&t.getElementsByClassName?o?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},i.contains=f.documentElement&&f.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},i.type=O,i.isFunction=j,i.isWindow=R,i.isArray=N,i.isObject=D,i.isPlainObject=P,i.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},i.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},i.inArray=function(t,e,n){return l.indexOf.call(e,t,n)},i.camelCase=s,i.dasherize=z,i.trim=function(t){return null==t?"":String.prototype.trim.call(t)},i.uuid=0,i.support={},i.expr={},i.noop=function(){},i.map=function(t,e){var n,o,s,r,a=[];if(M(t))for(o=0;o<t.length;o++)null!=(n=e(t[o],o))&&a.push(n);else for(s in t)null!=(n=e(t[s],s))&&a.push(n);return(r=a).length>0?i.fn.concat.apply([],r):r},i.each=function(t,e){var n,i;if(M(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},i.grep=function(t,e){return d.call(t,e)},i.cssProp=function(e,n,i){let o=e.style[s(n)];return(o===t||/^($|inherit|initial|unset|revert)/i.test(o))&&(o=(i||getComputedStyle(e)).getPropertyValue(z(n))),o},window.JSON&&(i.parseJSON=JSON.parse),i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){A["[object "+e+"]"]=e.toLowerCase()})),i.fn={constructor:S.Z,length:0,forEach:l.forEach,reduce:l.reduce,push:l.push,sort:l.sort,splice:l.splice,indexOf:l.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=S.isZ(e)?e.toArray():e;return c.apply(S.isZ(this)?this.toArray():this,n)},map:function(t){return i(i.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return i(u.apply(this,arguments))},ready:function(t){return F.test(f.readyState)&&f.body?t(i):f.addEventListener("DOMContentLoaded",(function(){t(i)}),{capture:!1,once:!0}),this},get:function(e){return e===t?u.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){return l.every.call(this,(function(e,n){return!1!==t.call(e,n,e)})),this},filter:function(t){return j(t)?this.not(this.not(t)):i(d.call(this,(function(e){return S.matches(e,t)})))},add:function(t,e){return i(r(this.concat(i(t,e))))},is:function(t){return this.length>0&&S.matches(this[0],t)},not:function(e){var n=[];if(j(e)&&e.call!==t)this.each((function(t){e.call(this,t)||n.push(this)}));else{var o="string"==typeof e?this.filter(e):M(e)&&j(e.item)?u.call(e):i(e);this.forEach((function(t){o.indexOf(t)<0&&n.push(t)}))}return i(n)},has:function(t){return this.filter((function(){return D(t)?i.contains(this,t):i(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!D(t)?t:i(t)},last:function(){var t=this[this.length-1];return t&&!D(t)?t:i(t)},find:function(t){var e=this;return t?"object"==typeof t?i(t).filter((function(){var t=this;return l.some.call(e,(function(e){return i.contains(e,t)}))})):1==this.length?i(S.qsa(this[0],t)):this.map((function(){return S.qsa(this,t)})):i()},probe:function(t){return this.filter((function(){return i(this).is(t)})).add(this.find(t))},closest:function(t,e){var n=[],o="object"==typeof t&&i(t);return this.each((function(i,s){for(;s&&!(o?o.indexOf(s)>=0:S.matches(s,t));)s=s!==e&&!L(s)&&s.parentNode;s&&n.indexOf(s)<0&&n.push(s)})),i(n)},nearby:function(t,e){return this.parent().closest(t,e)},parents:function(t){for(var e=[],n=this;n.length>0;)n=i.map(n,(function(t){if((t=t.parentNode)&&!L(t)&&e.indexOf(t)<0)return e.push(t),t}));return U(e,t)},lineage:function(e){return e=e==t?"*":e,this.filter((function(){return i(this).is(e)})).add(this.parents(e))},parent:function(t){return U(r(this.pluck("parentNode")),t)},children:function(t){return U(this.map((function(){return B(this)})),t)},contents:function(){return this.map((function(){return this.contentDocument||u.call(this.childNodes)}))},siblings:function(t){return U(this.map((function(t,e){return d.call(B(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return i.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,p[t]||(e=f.createElement(t),f.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),p[t]=n),p[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=j(t);if(this[0]&&!e)var n=i(t).get(0),o=n.parentNode||this.length>1;return this.each((function(s){i(this).wrapAll(e?t.call(this,s):o?n.cloneNode(!0):n)}))},wrapAll:function(t){if(this[0]){var e;for(i(this[0]).before(t=i(t));(e=t.children()).length;)t=e.first();i(t).append(this)}return this},wrapInner:function(t){var e=j(t);return this.each((function(n){var o=i(this),s=o.contents(),r=e?t.call(this,n):t;s.length?s.wrapAll(r):o.append(r)}))},unwrap:function(){return this.parent().each((function(){i(this).replaceWith(i(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var n=i(this);(e===t?"none"==n.css("display"):e)?n.show():n.hide()}))},prev:function(t){return i(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return i(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each((function(e){var n=this.innerHTML;i(this).empty().append(W(this,t,e,n))})):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each((function(e){var n=W(this,t,e,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,i){var o;return"string"!=typeof e||1 in arguments?this.each((function(t){if(1===this.nodeType)if(D(e))for(n in e)G(this,n,e[n]);else G(this,e,W(this,i,t,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(o=this[0].getAttribute(e))?o:t},removeAttr:function(t){return this.each((function(){1===this.nodeType&&t.split(" ").forEach((function(t){G(this,t)}),this)}))},prop:function(t,e){return t=T[t]||t,1 in arguments?this.each((function(n){this[t]=W(this,e,n,this[t])})):this[0]&&this[0][t]},removeProp:function(t){return t=T[t]||t,this.each((function(){delete this[t]}))},data:function(e,n){var i="data-"+e.replace(x,"-$1").toLowerCase(),o=1 in arguments?this.attr(i,n):this.attr(i);return null!==o?Z(o):t},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each((function(e){this.value=W(this,t,e,this.value)}))):this[0]&&(this[0].multiple?i(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var n=i(this),o=W(this,t,e,n.offset()),s=n.offsetParent().offset(),r={top:o.top-s.top,left:o.left-s.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)}));if(!this.length)return null;if(f.documentElement!==this[0]&&!i.contains(f.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,e){if(arguments.length<2){var o=this[0];if(!o)return;if("string"==typeof t)return i.cssProp(o,t);if(N(t)){var s={},r=getComputedStyle(o,"");return i.each(t,(function(t,e){s[e]=i.cssProp(o,e,r)})),s}}var a="";if("string"==O(t))e||0===e?a=z(t)+":"+H(t,e):this.each((function(){this.style.removeProperty(z(t))}));else for(n in t)t[n]||0===t[n]?a+=z(n)+":"+H(n,t[n])+";":this.each((function(){this.style.removeProperty(z(n))}));return this.each((function(){this.style.cssText+=";"+a}))},index:function(t){return t?this.indexOf(i(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&l.some.call(this,(function(t){return this.test(J(t))}),I(t))},addClass:function(t){return t?this.each((function(e){if("className"in this){o=[];var n=J(this);W(this,t,e,n).split(/\s+/g).forEach((function(t){i(this).hasClass(t)||o.push(t)}),this),o.length&&J(this,n+(n?" ":"")+o.join(" "))}})):this},removeClass:function(e){return this.each((function(n){if("className"in this){if(e===t)return J(this,"");o=J(this),W(this,e,n,o).split(/\s+/g).forEach((function(t){o=o.replace(I(t)," ")})),J(this,o.trim())}}))},toggleClass:function(e,n){return e?this.each((function(o){var s=i(this);W(this,e,o,J(this)).split(/\s+/g).forEach((function(e){(n===t?!s.hasClass(e):n)?s.addClass(e):s.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),o=v.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(i(t).css("margin-top"))||0,n.left-=parseFloat(i(t).css("margin-left"))||0,o.top+=parseFloat(i(e[0]).css("border-top-width"))||0,o.left+=parseFloat(i(e[0]).css("border-left-width"))||0,{top:n.top-o.top,left:n.left-o.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||f.body;t&&!v.test(t.nodeName)&&"static"==i(t).css("position");)t=t.offsetParent;return t}))}},i.fn.detach=i.fn.remove,["width","height"].forEach((function(e){var n=e.replace(/./,(function(t){return t[0].toUpperCase()}));i.fn[e]=function(o){var s,r=this[0];return o===t?R(r)?r["inner"+n]:L(r)?r.documentElement["scroll"+n]:(s=this.offset())&&s[e]:this.each((function(t){(r=i(this)).css(e,W(this,o,t,r[e]()))}))}})),["after","prepend","before","append"].forEach((function(e,n){var o=n%2;i.fn[e]=function(){var e,s,r=i.map(arguments,(function(n){var o=[];return"array"==(e=O(n))?(n.forEach((function(e){return e.nodeType!==t?o.push(e):i.zepto.isZ(e)?o=o.concat(e.get()):void(o=o.concat(S.fragment(e)))})),o):"object"==e||null==n?n:S.fragment(n)})),a=this.length>1;return r.length<1?this:this.each((function(t,e){s=o?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var l=i.contains(f.documentElement,s);r.forEach((function(t){if(a)t=t.cloneNode(!0);else if(!s)return i(t).remove();s.insertBefore(t,e),l&&K(t,(function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:window;e.eval.call(e,t.innerHTML)}}))}))}))},i.fn[o?e+"To":"insert"+(n?"Before":"After")]=function(t){return i(t)[e](this),this}})),S.Z.prototype=V.prototype=i.fn,S.uniq=r,S.uniques=a,S.deserializeValue=Z,i.zepto=S,i}();window.Zepto=n,void 0===window.$&&(window.$=n),function(t){var e,n=1,i=Array.prototype.slice,o=t.isFunction,s=function(t){return"string"==typeof t},r={},a={},l="onfocusin"in window,c={focus:"focusin",blur:"focusout"},d={mouseenter:"mouseover",mouseleave:"mouseout"};function u(t){return t._zid||(t._zid=n++)}function f(t,e,n,i){if((e=p(e)).ns)var o=(s=e.ns,new RegExp("(?:^| )"+s.replace(" "," .* ?")+"(?: |$)"));var s;return(r[u(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||o.test(t.ns))&&(!n||u(t.fn)===u(n))&&(!i||t.sel==i)}))}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(t,e){return t.del&&!l&&t.e in c||!!e}function _(t){return d[t]||l&&c[t]||t}function g(n,i,o,s,a,l,c){var f=u(n),g=r[f]||(r[f]=[]);i.split(/\s/).forEach((function(i){if("ready"==i)return t(document).ready(o);var r=p(i);r.fn=o,r.sel=a,r.e in d&&(o=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=l;var u=l||o;r.proxy=function(t){if(!(t=w(t)).isImmediatePropagationStopped||!t.isImmediatePropagationStopped()){t.data=s;var i=u.apply(n,t._args==e?[t]:[t].concat(t._args));return!1===i&&(t.preventDefault(),t.stopPropagation()),i}},r.i=g.length,g.push(r),"addEventListener"in n&&n.addEventListener(_(r.e),r.proxy,h(r,c))}))}function b(t,e,n,i,o){var s=u(t);(e||"").split(/\s/).forEach((function(e){f(t,e,n,i).forEach((function(e){delete r[s][e.i],"removeEventListener"in t&&t.removeEventListener(_(e.e),e.proxy,h(e,o))}))}))}a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",t.event={add:g,remove:b},t.proxy=function(e,n){var r=2 in arguments&&i.call(arguments,2);if(o(e)){var a=function(){return e.apply(n,r?r.concat(i.call(arguments)):arguments)};return a._zid=u(e),a}if(s(n))return r?(r.unshift(e[n],e),t.proxy.apply(null,r)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var m=function(){return!0},v=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(n,i){return!i&&n.isDefaultPrevented||(i||(i=n),t.each(y,(function(t,e){var o=i[t];n[t]=function(){return this[e]=m,o&&o.apply(i,arguments)},n[e]=v})),n.timeStamp||(n.timeStamp=Date.now()),(i.defaultPrevented!==e?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(n.isDefaultPrevented=m)),n}function k(t){var n,i={originalEvent:t};for(n in t)x.test(n)||t[n]===e||(i[n]=t[n]);return w(i,t)}t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(n,r,a,l,c){var d,u,f=this;return n&&!s(n)?(t.each(n,(function(t,e){f.on(t,r,a,e,c)})),f):(s(r)||o(l)||!1===l||(l=a,a=r,r=e),l!==e&&!1!==a||(l=a,a=e),!1===l&&(l=v),f.each((function(e,o){c&&(d=function(t){return b(o,t.type,l),l.apply(this,arguments)}),r&&(u=function(e){var n,s=t(e.target).closest(r,o).get(0);if(s&&s!==o)return n=t.extend(k(e),{currentTarget:s,liveFired:o}),(d||l).apply(s,[n].concat(i.call(arguments,1)))}),g(o,n,l,a,r,u||d)})))},t.fn.off=function(n,i,r){var a=this;return n&&!s(n)?(t.each(n,(function(t,e){a.off(t,i,e)})),a):(s(i)||o(r)||!1===r||(r=i,i=e),!1===r&&(r=v),a.each((function(){b(this,n,r,i)})))},t.fn.trigger=function(e,n){return(e=s(e)||t.isPlainObject(e)?t.Event(e):w(e))._args=n,this.each((function(){e.type in c&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var i,o;return this.each((function(r,a){(i=k(s(e)?t.Event(e):e))._args=n,i.target=a,t.each(f(a,e.type||e),(function(t,e){if(o=e.proxy(i),i.isImmediatePropagationStopped&&i.isImmediatePropagationStopped())return!1}))})),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(t,e){s(t)||(t=(e=t).type);var n=document.createEvent(a[t]||"Events"),i=!0;if(e)for(var o in e)"bubbles"==o?i=!!e[o]:n[o]=e[o];return n.initEvent(t,i,!0),w(n)}}(n);var i,o=n;i={},o.call_counter=function(t,e){var n=t+"("+(e=e||"")+")";i[n]=(i[n]||0)+1,i[n]%50==0&&o.log("X Calls ["+i[n]+": "+n)},o.fn.innerText=function(t,e){return 0 in this?(e="string"==typeof e?e:" ",o.map(this,(function(n){for(var i,o=[],s=t?NodeFilter.SHOW_ALL:NodeFilter.SHOW_TEXT,r=document.createTreeWalker(n,s,t,!1);i=r.nextNode();)o.push(i.nodeValue);return o.join(e)})).join(e).replace(/\n+/g,e)):null},o.fn.shallowText=function(t){return 0 in this?(t="string"==typeof t?t:" ",o.map(this,(function(e){if(!e.childNodes)return"";for(var n=[],i=e.childNodes,o=0;o<i.length;o++){var s=i[o];3===s.nodeType&&n.push(s.nodeValue)}return n.join(t)})).join(t).replace(/\n+/g,t)):null},o.fn.outerHTML=function(){return 0 in this?o("<div>").append(this[0].cloneNode(!0)).html():null},o.fn.tagHTML=function(){return o("<div>").append(this[0].cloneNode(!1)).html().replace(/>.*/,">")},o.fn.select=function(t){if(!(0 in this))return null;var e=this[0];if(window.getSelection&&document.createRange){var n=window.getSelection();setTimeout((function(){var i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t&&o.clipboard.copy()}),1)}},o.fn.isScrolledToBottom=function(){const t=this.find("* > :not(:empty):last-of-type");if(!t.length)return!1;const e=t[0].getBoundingClientRect();return t[0].contains(document.elementFromPoint(e.left,e.top))},o.fn.scrollToBottom=function(){const t=this.find("* > :not(:empty):last-of-type");t.length&&t[0].scrollIntoView(!1)},o.fn.scrollingAppend=function(...t){var e=this.isScrolledToBottom();this.append(...t),e&&this.scrollToBottom()},o.pagecontext=t.pagecontext||!1,o.set=function(){var t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,e=/^\w*$/,n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,i=/\\(\\)?/g,o=/^\d+$/;function s(t){return!!t&&"object"==typeof t}var r=Object.prototype.toString,a=9007199254740991;function l(t,e){return t="number"==typeof t||o.test(t)?+t:-1,e=null==e?a:e,t>-1&&t%1==0&&t<e}function c(n,i){var o=typeof n;return!!("string"==o&&e.test(n)||"number"==o)||!f(n)&&(!t.test(n)||null!=i&&n in d(i))}function d(t){return p(t)?t:Object(t)}function u(t){if(f(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(n,(function(t,n,o,s){e.push(o?s.replace(i,"$1"):n||t)})),e}var f=function(t){return s(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(t.length)&&"[object Array]"==r.call(t)};function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}return function(t,e,n){if(null==t)return t;for(var i=e+"",o=-1,s=(e=null!=t[i]||c(e,t)?[i]:u(e)).length,r=s-1,a=t;null!=a&&++o<s;){var d=e[o];p(a)&&(o==r?a[d]=n:null==a[d]&&(a[d]=l(e[o+1])?[]:{})),a=a[d]}return t}}(),o.def=function(t){return void 0!==t},o.pubsub_handlers={},o.pubsub_messages={},o.pubsub_persists={},o.publish=function(t,e){e=e||{},(o.pubsub_handlers[t]||[]).forEach((function(n){try{n.call(o,t,e)}catch(i){console.log(`X.publish: ${i} when calling:`,{f:n},`( '${t}',`,e,")",{stack:i.stack.split("\n")})}})),t in o.pubsub_persists&&!o.pubsub_persists[t]||(o.pubsub_messages[t]||(o.pubsub_messages[t]=[]),o.pubsub_messages[t].push({event:t,data:e}))},o.pubsub_clear_backlog=function(t){delete o.pubsub_messages[t]},o.subscribe_internal=function(t,e,n){("string"==typeof t?[t]:t).forEach((function(t){void 0===o.pubsub_handlers[t]&&(o.pubsub_handlers[t]=[]),o.pubsub_handlers[t].push(e),t in o.pubsub_persists?o.pubsub_persists[t]!=n&&console.log(`X.subscribe: subscribers to '${t}' disagree about persistence!`):(o.pubsub_persists[t]=n,n||o.pubsub_clear_backlog(t)),n&&(o.pubsub_messages[t]||[]).forEach((function(t){e.call(o,t.event,t.data)}))}))},o.subscribe=function(t,e){o.subscribe_internal(t,e,!1)},o.subscribe_backlog=function(t,e){o.subscribe_internal(t,e,!0)},o.unsubscribe=function(t){Object.values(o.pubsub_handlers).forEach((e=>e.forEach(((n,i)=>n==t&&delete e[i]))))},o.subscribe_once=function(t,e){o.unsubscribe(e),o.subscribe(t,e)},window.addEventListener("message",(function(t){!t.data.sfx||t.data.pagecontext==o.pagecontext||t.source!=window&&t.source!=window.unsafeWindow||t.origin!=location.origin||o.publish(t.data.message.event,t.data.message.data,!1)}));var s,r,a=window.localStorage;return o.storage={prefix:null,data:{},set:function(t,e,n,i,s){void 0===o.storage.data[t]&&(o.storage.data[t]={});var r=o.storage.data[t];if("object"==typeof e||void 0!==i&&"function"!=typeof i&&null!=i){if("object"==typeof e&&(void 0===n||"function"==typeof n)){var a;for(a in s=i,i=n,e)o.storage.set_or_delete(r,a,e[a])}}else o.storage.set_or_delete(r,e,n);!1!==s?o.storage.save(t,null,i):"function"==typeof i&&i(t,null)},set_or_delete:function(t,e,n){e in t&&void 0===n?delete t[e]:o.set(t,e,n)},save:function(t,e,n){null==e&&void 0!==o.storage.data[t]?e=o.storage.data[t]:o.storage.data[t]=e,Extension.storage.set(t,e,(function(t,e,i){var s={time:o.now(),key:t};a.setItem("x-storage",JSON.stringify(s)),"function"==typeof n&&n(t,e,i)}),null!=o.storage.prefix?o.storage.prefix+"/":"")},get:function(t,e,n,i){if(i&&"string"==typeof t&&void 0!==o.storage.data[t]&&"function"==typeof n)return n(o.storage.data[t]);Extension.storage.get(t,e,(function(e,i){var s,r;if(!i)if("string"==typeof t)void 0===o.storage.data[t]&&o.storage.update(t,e);else for(r=0;r<t.length;r++)s=t[r],o.storage.update(s,e[s]);"function"==typeof n&&n(e,i)}),null!=o.storage.prefix?o.storage.prefix+"/":"")},refresh:function(t,e){void 0!==o.storage.data[t]&&o.storage.get(t,null,e,!1)},update:function(t,e){o.storage.data[t]=e}},o.pagecontext||window.addEventListener("storage",(function(t){var e;if("x-storage"==t.key&&t.newValue)try{(e=JSON.parse(t.newValue)).key&&o.storage.refresh(e.key,(function(t){o.publish("storage/refresh",{key:e.key,data:t})}))}catch(n){console.log("storage event",t,"error",n,"json",e)}}),!0),o.sanitize=function(t){return"undefined"!=typeof DOMPurify?DOMPurify.sanitize(t):t},o.fn.safe_html=function(t){return t=o.sanitize(t),this.each((function(){o(this).html(t)}))},o.ajax=function(t,e){Extension.ajax(t,(function(t,n,i){i&&/application\/json/.test(i["content-type"])&&(t=JSON.parse(t)),e(t,n)}))},o.ajax_dom=function(t,e){o.ajax(t,(function(t){var n=o("<div>");try{n.append(t)}catch(t){}e(n)}))},o.css=function(t,e){o.when("head",(function(n){var i;t=o.zepto.mogrify(t),e&&(i=document.getElementById(e))?t?i.textContent=t:o(i).remove():((i=document.createElement("style")).textContent=t,e&&(i.id=e),n.append(i))}))},o.inject=function(t,e,n){if(!(document&&document.createElement&&document.documentElement&&document.documentElement.appendChild))return!1;var i=document.createElement("script");return i.type="text/javascript",e=JSON.stringify(e||{}),t=(n?"window."+n+"=":"")+"("+t.toString()+")("+e+");",n&&(t+='window.postMessage({"sfxready":"'+n+'"} , "*");'),i.text=t,document.documentElement.appendChild(i),i.parentNode.removeChild(i),!0},o.poll=function(t,e,n){o.call_counter("poll",t.toString().substring(10)),e=e||500,n=n||50;var i=0,s=function(){if(!(i++>n))try{!1===t(i)&&setTimeout(s,e)}catch(t){setTimeout(s,e)}};s()},o.when=function(t,e,n,i){n=n||200,i=i||999999999,o.poll((function(){o.call_counter("when",t);var n=o(t);if(!(n.length>0))return!1;e(n)}),n,i)},o.cookie={get:function(t){try{return unescape(document.cookie.match("(^|;)?"+t+"=([^;]*)(;|$)")[2])}catch(t){return null}},set:function(){}},o.logs=[],o.log=function(){if(arguments&&arguments.length>0){var t={module:null,color:"black"},e=0,n=arguments[0],i=[];for("object"==typeof n&&null!=n&&(n.module||n.color)&&(e=1,t.module=n.module||t.module,t.level=n.level||t.level,t.color=n.color||t.color);e<arguments.length;e++)"object"==typeof arguments[e]?i.push(JSON.stringify(arguments[e],null,3)):void 0!==arguments[e]&&i.push(arguments[e]);t.log=i,t.timestamp=(new Date).getTime(),t.uptime=performance.now(),o.logs.push(t),o.publish("log/entry",t,!1,!1)}},o.logger=function(t,e){var n=e||{};return n.module=t,function(t,e,i,s,r,a,l){o.log.call(o,n,t,e,i,s,r,a,l)}},o.alert=function(t){"object"==typeof t&&(t=JSON.stringify(t,null,3)),alert(t)},o.bind=function(t,e,n,i){return"boolean"!=typeof i&&(i=!1),(t=o(t)[0])&&t.addEventListener&&t.addEventListener(e,n,i),t},o.capture=function(t,e,n){return o.bind(t,e,n,!0)},o.unbind=function(t,e,n,i){return"boolean"!=typeof i&&(i=!1),(t=o(t)[0])&&t.removeEventListener&&t.removeEventListener(e,n,i),null},o.uncapture=function(t,e,n){return o.unbind(t,e,n,!0)},o.QSA=function(t,e,n){"function"==typeof e&&(n=e,e=t,t=document),o(e,t).each((function(){n(this)}))},o.find=function(t){var e=o(t);return e.length>0?e[0]:null},o.target=function(t,e){var n=t.target;return 3==n.nodeType&&(n=n.parentNode),e?o(n):n},o.parent=function(t){return t&&t.parentNode?t.parentNode:null},o.clone=function(t){return t?JSON.parse(JSON.stringify(t)):t},o.match=function(t,e,n){if("string"!=typeof t)return null;var i=t.match(e);if(i&&i.length){if("function"==typeof n){for(var o=e.global?0:1;o<i.length;o++)n(i[o]);return i}return i.length>1?i[e.global?0:1]:null}return null},o.htmlEncode=function(t){const e=document.createElement("span");return e.appendChild(document.createTextNode(t)),e.innerHTML},o.time=function(){return Date.now()},o.now=o.time,o.today=function(){var t=new Date;return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()},o.ago=function(t,e,n,i){"boolean"!=typeof n&&(n=!0);var s="",r=(e=e||o.now())-t;if(r/o.seconds<60)return"just now";var a=Math.floor(r/o.days);a>0&&(s+=a+" day"+(a>1?"s":"")+" ",r-=a*o.days);var l=Math.floor(r/o.hours);l>0&&(i||!s)&&(s+=l+" "+(n?"hr":"hours")+" ",r-=l*o.hours);var c=Math.floor(r/o.minutes);return c>0&&(!s||i&&a<1)&&(s+=c+" "+(n?"mins":"minutes")+" "),s||(s="a while "),s+"ago"},o.seconds=1e3,o.minutes=60*o.seconds,o.hours=60*o.minutes,o.days=24*o.hours,o.task=function(t,e,n,i){o.storage.get("tasks",{},(function(s){void 0===s[t]&&(s[t]={run_on:null});var r=s[t],a=o.now();!r.run_on||r.run_on+e<a?(r.run_on=a,o.storage.set("tasks",t,r,(function(){n()}))):"function"==typeof i&&i(r.run_on)}),!0)},o.semver_compare=function(t,e){for(var n=t.split("."),i=e.split("."),o=0;o<3;o++){var s=Number(n[o]),r=Number(i[o]);if(s>r)return 1;if(r>s)return-1;if(!isNaN(s)&&isNaN(r))return 1;if(isNaN(s)&&!isNaN(r))return-1}return 0},o.ui={click:function(t,e){"boolean"!=typeof e&&(e=!0),o(t).each((function(){var t=document.createEvent("MouseEvents");t.initEvent("click",e,!0,window,0),this.dispatchEvent(t)}))},keypress:function(t,e,n){n=n||"keypress",o(t).each((function(){var t=document.createEvent("KeyboardEvent");"string"==typeof e&&(e=e.charCodeAt(0)),t.initKeyboardEvent?t.initKeyboardEvent(n,!0,!0,window,e,null,null):t.initKeyEvent&&t.initKeyEvent(n,!0,!0,window,!1,!1,!1,!1,!1,e),this.dispatchEvent(t)}))},scroll:function(t,e){var n=o(e||window),i=n.scrollTop();"number"==typeof i&&n.scrollTop(i+t)},pointerover:function(t){t.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0}))},pointerout:function(t){t.dispatchEvent(new PointerEvent("pointerout",{bubbles:!0}))}},o.draggable=function(t,e){var n=o(t);t=n[0],n.attr("draggable",!0);var i=n.find('*[draggable="false"]');i.length>0&&i.css({cursor:"auto"}).mouseenter((function(){n.attr("draggable",!1)})).mouseleave((function(t){n.attr("draggable",!0)})),o.capture(n,"dragstart",(function(i){o.draggable.dragend=e,i.dataTransfer.setData("text/plain",t.offsetLeft-i.clientX+","+(t.offsetTop-i.clientY)),o.draggable.target=n}))},o.draggable.target=null,o.draggable.dragend=null,o.draggable.handlers={dragover:function(t){if(o.draggable.target)return t.preventDefault(),!1},drop:function(t){if(o.draggable.target){const e=t.dataTransfer.getData("text/plain").split(",").map((t=>parseInt(t))),n=o.draggable.target;if(o.draggable.target=null,!isNaN(e[0])&&!isNaN(e[1])){t.preventDefault();let i=getComputedStyle(n[0]),s=Math.max(0,t.clientX+e[0])-parseFloat(i.marginLeft),r=Math.max(0,t.clientY+e[1])-parseFloat(i.marginTop);return n.css("inset",`${r}px auto auto ${s}px`),"function"==typeof o.draggable.dragend&&o.draggable.dragend(n,s,r),!1}}},dragend:()=>o.draggable.target=null},Object.keys(o.draggable.handlers).forEach((t=>o.capture(window,t,o.draggable.handlers[t]))),o.on_attribute_change=function(t,e,n){new MutationObserver((function(i){i.forEach((function(i){(!e||i.attributeName==e&&t.getAttribute(e)!=i.oldValue)&&n(i.attributeName,i.oldValue,i.target[i.attributeName])}))})).observe(t,{attributes:!0,attributeOldValue:!0})},o.on_childlist_change=function(t,e){new MutationObserver((function(t){for(var n=0;n<t.length;n++){var i=t[n];if("childList"===i.type&&i.addedNodes&&i.addedNodes.length)for(var o=i.addedNodes,s=0;s<o.length;s++)e(o[s])}})).observe(t,{childList:!0,subtree:!0})},o.return_false=function(){return!1},o.is_document_ready=function(){return document&&document.readyState?"interactive"==document.readyState||"complete"==document.readyState:document&&document.getElementsByTagName&&document.getElementsByTagName("BODY").length>0},o.support_note=function(t,e){void 0===o.support_notes&&(o.support_notes={}),e?o.support_notes[t]={who:t,what:e,when:o.now()}:delete o.support_notes[t]},o.cram=t=>/^\s+$/.test(t)?" ":t.replace(/[\n\r\s]+/g," "),o.trim_cram=t=>o.cram(t).trim(),o.getContentValue=function(t,e){if(!e||!e.content||"none"===e.content)return"";var n=e.content||"";return n=(n=(n=(n=n.replace(/\s*attr\(([^)]+)\)\s*/g,(function(e,n){var i=t.getAttribute(n);return i?'"'+i+'"':""}))).replace(/"(.*?[^\\])"/g,"$1")).replace(/\\"/g,'"')).replace(/^"(.*)"$/,"$1"),/inline/.test(e.display)||(n=" "+n+" "),n},o.getChildrenVisibleText=function(t,e,n,i){if(!t.childNodes||!t.childNodes.length)return"";const s=/flex/.test(n),r=/grid/.test(n),a=s||r,l=a&&/row/.test(i),c=a&&/column/.test(i),d=(l||c)&&/reverse/.test(i),u=!c&&/rtl/.test(e),f=!a&&u||s&&l&&d!=u||s&&c&&d;var p=[];return t.childNodes.forEach((e=>{const n=!a||(e.nodeType==t.TEXT_NODE?-.5:getComputedStyle(e).order);p.push([n,o.getNodeVisibleText(e)])})),a&&(p=p.sort(((t,e)=>t[0]-e[0]))),f&&(p=p.reverse()),p.map((t=>t[1])).join("")},o.getNodeVisibleText=function(t,e=[]){if(!t||t.nodeType!==t.ELEMENT_NODE&&t.nodeType!==t.TEXT_NODE)return"";if(t.nodeType===t.TEXT_NODE)return X.cram(t.nodeValue);if("use"==t.nodeName){const n=document.querySelector(t.getAttribute("xlink:href"));return e.includes(n)?"":o.getNodeVisibleText(n,[...e,n])}var n;const i=getComputedStyle(t),s=(t,e,o)=>"auto"!==i[t]&&(n=parseFloat(i[t]))>e&&n<o;if("none"===i.display||"fixed"===i.position||"hidden"===i.visibility||"absolute"===i.position||s("width",-1/0,2)||s("height",-1/0,2)||s("opacity",-1/0,.1)||s("fontSize",-1/0,3.5)||"normal"!==i.lineHeight&&s("lineHeight",-1/0,2))return"";var r="";return r+=o.getContentValue(t,getComputedStyle(t,"::before")),r+=o.getChildrenVisibleText(t,i.direction,i.display,i.flexDirection),r+=o.getContentValue(t,getComputedStyle(t,"::after")),/inline/.test(i.display)||(r=" "+r+" "),X.trim_cram(r)},o.clipboard={copy:function(t){try{if(t||(t=window.getSelection().toString()),!t)return;if(navigator&&navigator.clipboard)return navigator.clipboard.writeText(t);document.execCommand&&document.execCommand("copy")}catch(t){o.log("Could not copy text: "+t.toString())}}},o.ready=function(){const t=o.logger("X.ready");var e=[],n=!1,i=function(e){try{t(`start: '${e.label}'`),e.func()}catch(n){t(`ERROR: '${e.label}:'\n'${n}'`)}};return function(o,s){if(void 0===o)return n=!0,t(`firing ${e.length} queued modules`),e.forEach(i),t(`${e.length} modules started`),void delete e;if("function"==typeof o&&(s=o,o="[nameless]"),"function"==typeof s){const t={label:o,func:s};n?i(t):e.push(t)}}}(),o.beforeReady=(r=[],function(t){if("function"!=typeof t){for(s=0;s<r.length;s++)if(!1===r[s](t))return!1}else r.push(t)}),o.query=function(t,e){var n,i;e=e||!0;var s=t.split("|"),r=s.length,a=o(s[0]),l=[];for(n=0;n<a.length;n++)l.push(o(a[n]));var c=[],d=null;for(n=1;n<r;n++){if(c=[],d=(d=s[n]).replace(/\((.*?)\)/,(function(t,e){return c=(e||"").split(/,/),""})),"function"!=typeof o.fn[d])throw"Invalid X function: "+d;if(e)for(i=0;i<l.length;i++){var u=l[i];l[i]=o(u)[d].apply(u,c)}else a=a[d].apply(a,c)}return e?l:a},o.sleep=async function(t){await new Promise((e=>setTimeout(e,t*o.seconds)))},o},X=XLib();!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vue=e()}(this,(function(){"use strict";function t(e,i,o){if(n(e,i))e[i]=o;else if(e._isVue)t(e._data,i,o);else{var s=e.__ob__;if(s){if(s.convert(i,o),s.dep.notify(),s.vms)for(var r=s.vms.length;r--;){var a=s.vms[r];a._proxy(i),a._digest()}return o}e[i]=o}}function e(t,e){if(n(t,e)){delete t[e];var i=t.__ob__;if(!i)return void(t._isVue&&(delete t._data[e],t._digest()));if(i.dep.notify(),i.vms)for(var o=i.vms.length;o--;){var s=i.vms[o];s._unproxy(e),s._digest()}}}function n(t,e){return Ze.call(t,e)}function i(t){return Ke.test(t)}function o(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function s(t){return null==t?"":t.toString()}function r(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function a(t){return"true"===t||"false"!==t&&t}function l(t){var e=t.charCodeAt(0);return e!==t.charCodeAt(t.length-1)||34!==e&&39!==e?t:t.slice(1,-1)}function c(t){return t.replace(Ye,d)}function d(t,e){return e?e.toUpperCase():""}function u(t){return t.replace(Qe,"$1-$2").replace(Qe,"$1-$2").toLowerCase()}function f(t){return t.replace(tn,d)}function p(t,e){return function(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}}function h(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function _(t,e){for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}function g(t){return null!==t&&"object"==typeof t}function b(t){return en.call(t)===nn}function m(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function v(t,e){var n,i,o,s,r,a=function a(){var l=Date.now()-s;l<e&&l>=0?n=setTimeout(a,e-l):(n=null,r=t.apply(o,i),n||(o=i=null))};return function(){return o=this,i=arguments,s=Date.now(),n||(n=setTimeout(a,e)),r}}function x(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function y(t){var e=function e(){if(!e.cancelled)return t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function w(t,e){return t==e||!(!g(t)||!g(e))&&JSON.stringify(t)===JSON.stringify(e)}function k(t){return/native code/.test(t.toString())}function X(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function F(){return wn.charCodeAt(Fn+1)}function $(){return wn.charCodeAt(++Fn)}function A(){return Fn>=Xn}function C(){for(;F()===Pn;)$()}function S(t){return t===jn||t===Rn}function E(t){return Mn[t]}function T(t,e){return zn[t]===e}function N(){for(var t,e=$();!A();)if((t=$())===Dn)$();else if(t===e)break}function O(t){for(var e=0,n=t;!A();)if(S(t=F()))N();else if(n===t&&e++,T(n,t)&&e--,$(),0===e)break}function j(){for(var t=Fn;!A();)if(S($n=F()))N();else if(E($n))O($n);else if($n===Ln){if($(),($n=F())!==Ln){An!==En&&An!==On||(An=Tn);break}$()}else{if($n===Pn&&(An===Nn||An===On)){C();break}An===Tn&&(An=Nn),$()}return wn.slice(t+1,Fn)||null}function R(){var t,e={};return An=Tn,e.name=j().trim(),An=On,t=function(){for(var t=[];!A()&&An!==Tn;){var e=j();if(!e)break;t.push(L(e))}return t}(),t.length&&(e.args=t),e}function L(t){if(Sn.test(t))return{value:r(t),dynamic:!1};var e=l(t),n=e===t;return{value:n?t:e,dynamic:n}}function D(t){var e,n=Cn.get(t);return n||(kn={},Xn=(wn=t).length,Fn=-1,$n="",An=En,wn.indexOf("|")<0?kn.expression=wn.trim():(kn.expression=j().trim(),e=function(){for(var t=[];!A();)t.push(R());return t}(),e.length&&(kn.filters=e)),Cn.put(t,kn),kn)}function P(t){return t.replace(Hn,"\\$&")}function M(){var t=P(Zn.delimiters[0]),e=P(Zn.delimiters[1]),n=P(Zn.unsafeDelimiters[0]),i=P(Zn.unsafeDelimiters[1]);Vn=new RegExp(n+"((?:.|\\n)+?)"+i+"|"+t+"((?:.|\\n)+?)"+e,"g"),qn=new RegExp("^"+n+"((?:.|\\n)+?)"+i+"$"),Bn=new X(1e3)}function z(t){Bn||M();var e=Bn.get(t);if(e)return e;if(!Vn.test(t))return null;for(var n,i,o,s,r,a,l=[],c=Vn.lastIndex=0;n=Vn.exec(t);)(i=n.index)>c&&l.push({value:t.slice(c,i)}),r=(s=(o=qn.test(n[0]))?n[1]:n[2]).charCodeAt(0),s=(a=42===r)?s.slice(1):s,l.push({tag:!0,value:s.trim(),html:o,oneTime:a}),c=i+n[0].length;return c<t.length&&l.push({value:t.slice(c)}),Bn.put(t,l),l}function I(t,e){return t.length>1?t.map((function(t){return H(t,e)})).join("+"):H(t[0],e,!0)}function H(t,e,n){return t.tag?t.oneTime&&e?'"'+e.$eval(t.value)+'"':function(t,e){if(Un.test(t)){var n=D(t);return n.filters?"this._applyFilters("+n.expression+",null,"+JSON.stringify(n.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}(t.value,n):'"'+t.value+'"'}function B(t,e,n,i){U(t,1,(function(){e.appendChild(t)}),n,i)}function V(t,e,n,i){U(t,1,(function(){Y(t,e)}),n,i)}function q(t,e,n){U(t,-1,(function(){tt(t)}),e,n)}function U(t,e,n,i,o){var s=t.__v_trans;if(!s||!s.hooks&&!hn||!i._isCompiled||i.$parent&&!i.$parent._isCompiled)return n(),void(o&&o());s[e>0?"enter":"leave"](n,o)}function W(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function G(t){if(!t)return!1;var e=t.ownerDocument.documentElement,n=t.parentNode;return e===t||e===n||!(!n||1!==n.nodeType||!e.contains(n))}function J(t,e){var n=t.getAttribute(e);return null!==n&&t.removeAttribute(e),n}function Z(t,e){var n=J(t,":"+e);return null===n&&(n=J(t,"v-bind:"+e)),n}function K(t,e){return t.hasAttribute(e)||t.hasAttribute(":"+e)||t.hasAttribute("v-bind:"+e)}function Y(t,e){e.parentNode.insertBefore(t,e)}function Q(t,e){e.nextSibling?Y(t,e.nextSibling):e.parentNode.appendChild(t)}function tt(t){t.parentNode.removeChild(t)}function et(t,e){e.firstChild?Y(t,e.firstChild):e.appendChild(t)}function nt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)}function it(t,e,n,i){t.addEventListener(e,n,i)}function ot(t,e,n){t.removeEventListener(e,n)}function st(t){var e=t.className;return"object"==typeof e&&(e=e.baseVal||""),e}function rt(t,e){dn&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function at(t,e){if(t.classList)t.classList.add(e);else{var n=" "+st(t)+" ";n.indexOf(" "+e+" ")<0&&rt(t,(n+e).trim())}}function lt(t,e){if(t.classList)t.classList.remove(e);else{for(var n=" "+st(t)+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");rt(t,n.trim())}t.className||t.removeAttribute("class")}function ct(t,e){var n,i;if(ft(t)&&bt(t.content)&&(t=t.content),t.hasChildNodes())for(dt(t),i=e?document.createDocumentFragment():document.createElement("div");n=t.firstChild;)i.appendChild(n);return i}function dt(t){for(var e;ut(e=t.firstChild);)t.removeChild(e);for(;ut(e=t.lastChild);)t.removeChild(e)}function ut(t){return t&&(3===t.nodeType&&!t.data.trim()||8===t.nodeType)}function ft(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function pt(t,e){var n=Zn.debug?document.createComment(t):document.createTextNode(e?" ":"");return n.__v_anchor=!0,n}function ht(t){if(t.hasAttributes())for(var e=t.attributes,n=0,i=e.length;n<i;n++){var o=e[n].name;if(Yn.test(o))return c(o.replace(Yn,""))}}function _t(t,e,n){for(var i;t!==e;)i=t.nextSibling,n(t),t=i;n(e)}function gt(t,e,n,i,o){function s(){if(a++,r&&a>=l.length){for(var t=0;t<l.length;t++)i.appendChild(l[t]);o&&o()}}var r=!1,a=0,l=[];_t(t,e,(function(t){t===e&&(r=!0),l.push(t),q(t,n,s)}))}function bt(t){return t&&11===t.nodeType}function mt(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function vt(t,e){var n=t.tagName.toLowerCase(),i=t.hasAttributes();if(Qn.test(n)||ti.test(n)){if(i)return xt(t,e)}else{if(Ft(e,"components",n))return{id:n};var o=i&&xt(t,e);if(o)return o}}function xt(t,e){var n=t.getAttribute("is");if(null!=n){if(Ft(e,"components",n))return t.removeAttribute("is"),{id:n}}else if(null!=(n=Z(t,"is")))return{id:n,dynamic:!0}}function yt(e,i){var o,s,r;for(o in i)s=e[o],r=i[o],n(e,o)?g(s)&&g(r)&&yt(s,r):t(e,o,r);return e}function wt(t,e){var n=Object.create(t||null);return e?_(n,kt(e)):n}function kt(t){if(on(t)){for(var e,n={},i=t.length;i--;){var o="function"==typeof(e=t[i])?e.options&&e.options.name||e.id:e.name||e.id;o&&(n[o]=e)}return n}return t}function Xt(t,e,i){function o(n){var o=ei[n]||ni;r[n]=o(t[n],e[n],i,n)}(function(t){if(t.components)for(var e,n=t.components=kt(t.components),i=Object.keys(n),o=0,s=i.length;o<s;o++){var r=i[o];Qn.test(r)||ti.test(r)||b(e=n[r])&&(n[r]=Ge.extend(e))}})(e),function(t){var e,n,i=t.props;if(on(i))for(t.props={},e=i.length;e--;)"string"==typeof(n=i[e])?t.props[n]=null:n.name&&(t.props[n.name]=n);else if(b(i)){var o=Object.keys(i);for(e=o.length;e--;)"function"==typeof(n=i[o[e]])&&(i[o[e]]={type:n})}}(e);var s,r={};if(e.extends&&(t="function"==typeof e.extends?Xt(t,e.extends.options,i):Xt(t,e.extends,i)),e.mixins)for(var a=0,l=e.mixins.length;a<l;a++){var c=e.mixins[a],d=c.prototype instanceof Ge?c.options:c;t=Xt(t,d,i)}for(s in t)o(s);for(s in e)n(t,s)||o(s);return r}function Ft(t,e,n,i){if("string"==typeof n){var o,s=t[e];return s[n]||s[o=c(n)]||s[o.charAt(0).toUpperCase()+o.slice(1)]}}function $t(){this.id=ii++,this.subs=[]}function At(t){ai=!1,t(),ai=!0}function Ct(t){(this.value=t,this.dep=new $t,m(t,"__ob__",this),on(t))?((sn?St:Et)(t,si,ri),this.observeArray(t)):this.walk(t)}function St(t,e){t.__proto__=e}function Et(t,e,n){for(var i=0,o=n.length;i<o;i++){var s=n[i];m(t,s,e[s])}}function Tt(t,e){var i;if(t&&"object"==typeof t)return n(t,"__ob__")&&t.__ob__ instanceof Ct?i=t.__ob__:ai&&(on(t)||b(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Ct(t)),i&&e&&i.addVm(e),i}function Nt(t,e,n){var i=new $t,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,r=o&&o.set,a=Tt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;if($t.target&&(i.depend(),a&&a.dep.depend(),on(e)))for(var o,r=0,l=e.length;r<l;r++)(o=e[r])&&o.__ob__&&o.__ob__.dep.depend();return e},set:function(e){e!==(s?s.call(t):n)&&(r?r.call(t,e):n=e,a=Tt(e),i.notify())}})}}function Ot(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function jt(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(i(e)?l(e):"*"+e)}function Rt(t){function e(){var e=t[d+1];if(u===bi&&"'"===e||u===mi&&'"'===e)return d++,i="\\"+e,p[ui](),!0}var n,i,o,s,r,a,l,c=[],d=-1,u=_i,f=0,p=[];for(p[fi]=function(){void 0!==o&&(c.push(o),o=void 0)},p[ui]=function(){void 0===o?o=i:o+=i},p[pi]=function(){p[ui](),f++},p[hi]=function(){if(f>0)f--,u=gi,p[ui]();else{if(f=0,!1===(o=jt(o)))return!1;p[fi]()}};null!=u;)if(d++,"\\"!==(n=t[d])||!e()){if(s=Ot(n),(r=(l=yi[u])[s]||l.else||xi)===xi)return;if(u=r[0],(a=p[r[1]])&&(i=void 0===(i=r[2])?n:i,!1===a()))return;if(u===vi)return c.raw=t,c}}function Lt(t){var e=di.get(t);return e||(e=Rt(t))&&di.put(t,e),e}function Dt(t,e){return qt(e).get(t)}function Pt(e,n,i){var o=e;if("string"==typeof n&&(n=Rt(n)),!n||!g(e))return!1;for(var s,r,a=0,l=n.length;a<l;a++)s=e,"*"===(r=n[a]).charAt(0)&&(r=qt(r.slice(1)).get.call(o,o)),a<l-1?g(e=e[r])||t(s,r,e={}):on(e)?e.$set(r,i):r in e?e[r]=i:t(e,r,i);return!0}function Mt(){}function zt(t,e){var n=Oi.length;return Oi[n]=e?t.replace(Ai,"\\n"):t,'"'+n+'"'}function It(t){var e=t.charAt(0),n=t.slice(1);return Xi.test(n)?t:e+"scope."+(n=n.indexOf('"')>-1?n.replace(Si,Ht):n)}function Ht(t,e){return Oi[e]}function Bt(t){try{return new Function("scope","return "+t+";")}catch(t){return Mt}}function Vt(t){var e=Lt(t);if(e)return function(t,n){Pt(t,e,n)}}function qt(t,e){t=t.trim();var n=ki.get(t);if(n)return e&&!n.set&&(n.set=Vt(n.exp)),n;var i={exp:t};return i.get=Ut(t)&&t.indexOf("[")<0?Bt("scope."+t):function(t){Fi.test(t),Oi.length=0;var e=t.replace(Ci,zt).replace($i,"");return Bt(e=(" "+e).replace(Ti,It).replace(Si,Ht))}(t),e&&(i.set=Vt(t)),ki.put(t,i),i}function Ut(t){return Ei.test(t)&&!Ni.test(t)&&"Math."!==t.slice(0,5)}function Wt(){for(var t=!0;t;)t=!1,Gt(Ri),Gt(Li),Ri.length?t=!0:(an&&Zn.devtools&&an.emit("flush"),Ri.length=0,Li.length=0,Di={},Pi=!1)}function Gt(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.id;Di[i]=null,n.run()}t.length=0}function Jt(t,e,n,i){i&&_(this,i);var o="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=e,this.cb=n,this.id=++Mi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new xn,this.newDepIds=new xn,this.prevError=null,o)this.getter=e,this.setter=void 0;else{var s=qt(e,this.twoWay);this.getter=s.get,this.setter=s.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Zt(t,e){var n=void 0,i=void 0;e||(e=zi).clear();var o=on(t),s=g(t);if((o||s)&&Object.isExtensible(t)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(o)for(n=t.length;n--;)Zt(t[n],e);else if(s)for(n=(i=Object.keys(t)).length;n--;)Zt(t[i[n]],e)}}function Kt(t){return ft(t)&&bt(t.content)}function Yt(t,e){var n=e?t:t.trim(),i=Hi.get(n);if(i)return i;var o=document.createDocumentFragment(),s=t.match(qi),r=Ui.test(t),a=Wi.test(t);if(s||r||a){var l,c=s&&s[1],d=Vi[c]||Vi.efault,u=d[0],f=d[1],p=d[2],h=document.createElement("div");for(h.innerHTML=f+t+p;u--;)h=h.lastChild;for(;l=h.firstChild;)o.appendChild(l)}else o.appendChild(document.createTextNode(t));return e||dt(o),Hi.put(n,o),o}function Qt(t){if(Kt(t))return Yt(t.innerHTML);if("SCRIPT"===t.tagName)return Yt(t.textContent);for(var e,n=te(t),i=document.createDocumentFragment();e=n.firstChild;)i.appendChild(e);return dt(i),i}function te(t){if(!t.querySelectorAll)return t.cloneNode();var e,n,i,o=t.cloneNode(!0);if(Gi){var s=o;if(Kt(t)&&(t=t.content,s=o.content),(n=t.querySelectorAll("template")).length)for(e=(i=s.querySelectorAll("template")).length;e--;)i[e].parentNode.replaceChild(te(n[e]),i[e])}if(Ji)if("TEXTAREA"===t.tagName)o.value=t.value;else if((n=t.querySelectorAll("textarea")).length)for(e=(i=o.querySelectorAll("textarea")).length;e--;)i[e].value=n[e].value;return o}function ee(t,e,n){var i,o;return bt(t)?(dt(t),e?te(t):t):("string"==typeof t?n||"#"!==t.charAt(0)?o=Yt(t,n):(o=Bi.get(t))||(i=document.getElementById(t.slice(1)))&&(o=Qt(i),Bi.put(t,o)):t.nodeType&&(o=Qt(t)),o&&e?te(o):o)}function ne(t,e,n,i,o,s){this.children=[],this.childFrags=[],this.vm=e,this.scope=o,this.inserted=!1,this.parentFrag=s,s&&s.childFrags.push(this),this.unlink=t(e,n,i,o,this),(this.single=1===n.childNodes.length&&!n.childNodes[0].__v_anchor)?(this.node=n.childNodes[0],this.before=ie,this.remove=oe):(this.node=pt("fragment-start"),this.end=pt("fragment-end"),this.frag=n,et(this.node,n),n.appendChild(this.end),this.before=se,this.remove=re),this.node.__v_frag=this}function ie(t,e){this.inserted=!0,(!1!==e?V:Y)(this.node,t,this.vm),G(this.node)&&this.callHook(ae)}function oe(){this.inserted=!1;var t=G(this.node),e=this;this.beforeRemove(),q(this.node,this.vm,(function(){t&&e.callHook(le),e.destroy()}))}function se(t,e){this.inserted=!0;var n=this.vm,i=!1!==e?V:Y;_t(this.node,this.end,(function(e){i(e,t,n)})),G(this.node)&&this.callHook(ae)}function re(){this.inserted=!1;var t=this,e=G(this.node);this.beforeRemove(),gt(this.node,this.end,this.vm,this.frag,(function(){e&&t.callHook(le),t.destroy()}))}function ae(t){!t._isAttached&&G(t.$el)&&t._callHook("attached")}function le(t){t._isAttached&&!G(t.$el)&&t._callHook("detached")}function ce(t,e){this.vm=t;var n,i="string"==typeof e;i||ft(e)&&!e.hasAttribute("v-if")?n=ee(e,!0):(n=document.createDocumentFragment()).appendChild(e),this.template=n;var o,s=t.constructor.cid;if(s>0){var r=s+(i?e:mt(e));(o=Yi.get(r))||(o=$e(n,t.$options,!0),Yi.put(r,o))}else o=$e(n,t.$options,!0);this.linker=o}function de(t,e,n){var i=t.node.previousSibling;if(i){for(t=i.__v_frag;!(t&&t.forId===n&&t.inserted||i===e);){if(!(i=i.previousSibling))return;t=i.__v_frag}return t}}function ue(t,e,n,i){return i?"$index"===i?t:i.charAt(0).match(/\w/)?Dt(n,i):n[i]:e||n}function fe(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function pe(t,e,n){for(var i,o,s=e?[]:null,r=0,a=t.options.length;r<a;r++)if(i=t.options[r],n?i.hasAttribute("selected"):i.selected){if(o=i.hasOwnProperty("_value")?i._value:i.value,!e)return o;s.push(o)}return s}function he(t,e){for(var n=t.length;n--;)if(w(t[n],e))return n;return-1}function _e(t){if(_o[t])return _o[t];var e=function(t){t=u(t);var e=c(t),n=e.charAt(0).toUpperCase()+e.slice(1);go||(go=document.createElement("div"));var i,o=fo.length;if("filter"!==e&&e in go.style)return{kebab:t,camel:e};for(;o--;)if((i=po[o]+n)in go.style)return{kebab:fo[o]+t,camel:i}}(t);return _o[t]=_o[e]=e,e}function ge(t,e,n){if(-1!==(e=e.trim()).indexOf(" "))for(var i=e.split(/\s+/),o=0,s=i.length;o<s;o++)n(t,i[o]);else n(t,e)}function be(t,e,n){for(var o,s,r,a,l,d,f,p=[],h=n.$options.propsData,_=Object.keys(e),g=_.length;g--;)o=e[s=_[g]]||So,l=c(s),Eo.test(l)&&(f={name:s,path:l,options:o,mode:Co.ONE_WAY,raw:null},null===(a=Z(t,r=u(s)))&&(null!==(a=Z(t,r+".sync"))?f.mode=Co.TWO_WAY:null!==(a=Z(t,r+".once"))&&(f.mode=Co.ONE_TIME)),null!==a?(f.raw=a,a=(d=D(a)).expression,f.filters=d.filters,i(a)&&!d.filters?f.optimizedLiteral=!0:f.dynamic=!0,f.parentPath=a):(null!==(a=J(t,r))||h&&null!==(a=h[s]||h[l]))&&(f.raw=a),p.push(f));return me(p)}function me(t){return function(e,i){e._props={};for(var o,s,c,d,f=e.$options.propsData,p=t.length;p--;)if(d=(o=t[p]).raw,s=o.path,c=o.options,e._props[s]=o,f&&n(f,s)&&xe(e,o,f[s]),null===d)xe(e,o,void 0);else if(o.dynamic)o.mode===Co.ONE_TIME?xe(e,o,(i||e._context||e).$get(o.parentPath)):e._context?e._bindDir({name:"prop",def:No,prop:o},null,null,i):xe(e,o,e.$get(o.parentPath));else if(o.optimizedLiteral){var h=l(d);xe(e,o,h===d?a(r(d)):h)}else xe(e,o,c.type===Boolean&&(""===d||d===u(o.name))||d)}}function ve(t,e,n,i){var o=e.dynamic&&Ut(e.parentPath),s=n;void 0===s&&(s=ye(t,e)),s=function(t,e){var n=t.options.coerce;return n&&"function"==typeof n?n(e):e}(e,s);var r=s!==n;(function(t,e){if(!t.options.required&&(null===t.raw||null==e))return!0;var n=t.options,i=n.type,o=!i,s=[];if(i){on(i)||(i=[i]);for(var r=0;r<i.length&&!o;r++){var a=we(e,i[r]);s.push(a.expectedType),o=a.valid}}if(!o)return!1;var l=n.validator;return!(l&&!l(e))})(e,s)||(s=void 0),o&&!r?At((function(){i(s)})):i(s)}function xe(t,e,n){ve(t,e,n,(function(n){Nt(t,e.path,n)}))}function ye(t,e){var i=e.options;if(!n(i,"default"))return i.type!==Boolean&&void 0;var o=i.default;return g(o),"function"==typeof o&&i.type!==Function?o.call(t):o}function we(t,e){var n,i;return e===String?n=typeof t===(i="string"):e===Number?n=typeof t===(i="number"):e===Boolean?n=typeof t===(i="boolean"):e===Function?n=typeof t===(i="function"):e===Object?(i="object",n=b(t)):e===Array?(i="array",n=on(t)):n=t instanceof e,{valid:n,expectedType:i}}function ke(t){Oo.push(t),jo||(jo=!0,vn(Xe))}function Xe(){for(var t=document.documentElement.offsetHeight,e=0;e<Oo.length;e++)Oo[e]();return Oo=[],jo=!1,t}function Fe(t,e,n,i){this.id=e,this.el=t,this.enterClass=n&&n.enterClass||e+"-enter",this.leaveClass=n&&n.leaveClass||e+"-leave",this.hooks=n,this.vm=i,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=n&&n.type;var o=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach((function(t){o[t]=p(o[t],o)}))}function $e(t,e,n){var i=n||!e._asComponent?Ne(t,e):null,o=i&&i.terminal||Ie(t)||!t.hasChildNodes()?null:Le(t.childNodes,e);return function(t,e,n,s,r){var a=h(e.childNodes),l=Ae((function(){i&&i(t,e,n,s,r),o&&o(t,a,n,s,r)}),t);return Ce(t,l)}}function Ae(t,e){e._directives=[];var n=e._directives.length;t();var i=e._directives.slice(n);!function(t){if(0!==t.length){var e,n,i,o,s={},r=0,a=[];for(e=0,n=t.length;e<n;e++){var l=t[e],c=l.descriptor.def.priority||Jo,d=s[c];d||(d=s[c]=[],a.push(c)),d.push(l)}for(a.sort((function(t,e){return t>e?-1:t===e?0:1})),e=0,n=a.length;e<n;e++){var u=s[a[e]];for(i=0,o=u.length;i<o;i++)t[r++]=u[i]}}}(i);for(var o=0,s=i.length;o<s;o++)i[o]._bind();return i}function Ce(t,e,n,i){function o(o){Se(t,e,o),n&&i&&Se(n,i)}return o.dirs=e,o}function Se(t,e,n){for(var i=e.length;i--;)e[i]._teardown()}function Ee(t,e,n,i){var o=be(e,n,t),s=Ae((function(){o(t,i)}),t);return Ce(t,s)}function Te(t,e,n){var i,o,s=e._containerAttrs,r=e._replacerAttrs;return 11!==t.nodeType&&(e._asComponent?(s&&n&&(i=Me(s,n)),r&&(o=Me(r,e))):o=Me(t.attributes,e)),e._containerAttrs=e._replacerAttrs=null,function(t,e,n){var s,r=t._context;r&&i&&(s=Ae((function(){i(r,e,null,n)}),r));var a=Ae((function(){o&&o(t,e)}),t);return Ce(t,a,r,s)}}function Ne(t,e){var n=t.nodeType;return 1!==n||Ie(t)?3===n&&t.data.trim()?function(t,e){if(t._skip)return Oe;var n=z(t.wholeText);if(!n)return null;for(var i=t.nextSibling;i&&3===i.nodeType;)i._skip=!0,i=i.nextSibling;for(var o,s,r=document.createDocumentFragment(),a=0,l=n.length;a<l;a++)s=n[a],o=s.tag?je(s,e):document.createTextNode(s.value),r.appendChild(o);return Re(n,r)}(t,e):null:function(t,e){if("TEXTAREA"===t.tagName){if(null!==J(t,"v-pre"))return De;var n=z(t.value);n&&(t.setAttribute(":value",I(n)),t.value="")}var i,o=t.hasAttributes(),s=o&&h(t.attributes);return o&&(i=function(t,e,n){if(null!==J(t,"v-pre"))return De;if(t.hasAttribute("v-else")){var i=t.previousElementSibling;if(i&&i.hasAttribute("v-if"))return De}for(var o,s,r,a,l,c,d,u,f,p,h=0,_=e.length;h<_;h++)o=e[h],s=o.name.replace(Wo,""),(l=s.match(Uo))&&(f=Ft(n,"directives",l[1]))&&f.terminal&&(!p||(f.priority||Zo)>p.priority)&&(p=f,d=o.name,a=ze(o.name),r=o.value,c=l[1],u=l[2]);return p?Pe(t,c,r,n,p,d,u,a):void 0}(t,s,e)),i||(i=function(t,e){var n=t.tagName.toLowerCase();if(!Qn.test(n)){var i=Ft(e,"elementDirectives",n);return i?Pe(t,n,"",e,i):void 0}}(t,e)),i||(i=function(t,e){var n=vt(t,e);if(n){var i=ht(t),o={name:"component",ref:i,expression:n.id,def:Bo.component,modifiers:{literal:!n.dynamic}},s=function(t,e,n,s,r){i&&Nt((s||t).$refs,i,null),t._bindDir(o,e,n,s,r)};return s.terminal=!0,s}}(t,e)),!i&&o&&(i=Me(s,e)),i}(t,e)}function Oe(t,e){tt(e)}function je(t,e){function n(e){if(!t.descriptor){var n=D(t.value);t.descriptor={name:e,def:Fo[e],expression:n.expression,filters:n.filters}}}var i;return t.oneTime?i=document.createTextNode(t.value):t.html?(i=document.createComment("v-html"),n("html")):(i=document.createTextNode(" "),n("text")),i}function Re(t,e){return function(n,i,o,r){for(var a,l,c,d=e.cloneNode(!0),u=h(d.childNodes),f=0,p=t.length;f<p;f++)l=(a=t[f]).value,a.tag&&(c=u[f],a.oneTime?(l=(r||n).$eval(l),a.html?nt(c,ee(l,!0)):c.data=s(l)):n._bindDir(a.descriptor,c,o,r));nt(i,d)}}function Le(t,e){for(var n,i,o,s=[],r=0,a=t.length;r<a;r++)i=(n=Ne(o=t[r],e))&&n.terminal||"SCRIPT"===o.tagName||!o.hasChildNodes()?null:Le(o.childNodes,e),s.push(n,i);return s.length?function(t){return function(e,n,i,o,s){for(var r,a,l,c=0,d=0,u=t.length;c<u;d++){r=n[d],a=t[c++],l=t[c++];var f=h(r.childNodes);a&&a(e,r,i,o,s),l&&l(e,f,i,o,s)}}}(s):null}function De(){}function Pe(t,e,n,i,o,s,r,a){var l=D(n),c={name:e,arg:r,expression:l.expression,filters:l.filters,raw:n,attr:s,modifiers:a,def:o};"for"!==e&&"router-view"!==e||(c.ref=ht(t));var d=function(t,e,n,i,o){c.ref&&Nt((i||t).$refs,c.ref,null),t._bindDir(c,e,n,i,o)};return d.terminal=!0,d}function Me(t,e){function n(t,e,n){var i=n&&function(t){for(var e=t.length;e--;)if(t[e].oneTime)return!0}(n),o=!i&&D(s);_.push({name:t,attr:r,raw:a,def:e,arg:c,modifiers:d,expression:o&&o.expression,filters:o&&o.filters,interp:n,hasOneTime:i})}for(var i,o,s,r,a,l,c,d,u,f,p,h=t.length,_=[];h--;)if(i=t[h],o=r=i.name,f=z(s=a=i.value),c=null,d=ze(o),o=o.replace(Wo,""),f)s=I(f),c=o,n("bind",Fo.bind,f);else if(Go.test(o))d.literal=!Vo.test(o),n("transition",Bo.transition);else if(qo.test(o))c=o.replace(qo,""),n("on",Fo.on);else if(Vo.test(o))"style"===(l=o.replace(Vo,""))||"class"===l?n(l,Bo[l]):(c=l,n("bind",Fo.bind));else if(p=o.match(Uo)){if(l=p[1],c=p[2],"else"===l)continue;(u=Ft(e,"directives",l))&&n(l,u)}if(_.length)return function(t){return function(e,n,i,o,s){for(var r=t.length;r--;)e._bindDir(t[r],n,i,o,s)}}(_)}function ze(t){var e=Object.create(null),n=t.match(Wo);if(n)for(var i=n.length;i--;)e[n[i].slice(1)]=!0;return e}function Ie(t){return"SCRIPT"===t.tagName&&(!t.hasAttribute("type")||"text/javascript"===t.getAttribute("type"))}function He(t,e){return e&&(e._containerAttrs=Be(t)),ft(t)&&(t=ee(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=ct(t),t=function(t,e){var n=e.template,i=ee(n,!0);if(i){var o=i.firstChild;if(!o)return i;var s=o.tagName&&o.tagName.toLowerCase();return e.replace?(document.body,i.childNodes.length>1||1!==o.nodeType||"component"===s||Ft(e,"components",s)||K(o,"is")||Ft(e,"elementDirectives",s)||o.hasAttribute("v-for")||o.hasAttribute("v-if")?i:(e._replacerAttrs=Be(o),function(t,e){for(var n,i,o=t.attributes,s=o.length;s--;)n=o[s].name,i=o[s].value,e.hasAttribute(n)||Ko.test(n)?"class"===n&&!z(i)&&(i=i.trim())&&i.split(/\s+/).forEach((function(t){at(e,t)})):e.setAttribute(n,i)}(t,o),o)):(t.appendChild(i),t)}}(t,e))),bt(t)&&(et(pt("v-start",!0),t),t.appendChild(pt("v-end",!0))),t}function Be(t){if(1===t.nodeType&&t.hasAttributes())return h(t.attributes)}function Ve(t,e){if(e){for(var n,i,o=t._slotContents=Object.create(null),s=0,r=e.children.length;s<r;s++)(i=(n=e.children[s]).getAttribute("slot"))&&(o[i]||(o[i]=[])).push(n);for(i in o)o[i]=qe(o[i],e);if(e.hasChildNodes()){var a=e.childNodes;if(1===a.length&&3===a[0].nodeType&&!a[0].data.trim())return;o.default=qe(e.childNodes,e)}}}function qe(t,e){for(var n=document.createDocumentFragment(),i=0,o=(t=h(t)).length;i<o;i++){var s=t[i];!ft(s)||s.hasAttribute("v-if")||s.hasAttribute("v-for")||(e.removeChild(s),s=ee(s,!0)),n.appendChild(s)}return n}function Ue(){}function We(t,e,n,i,o,s){this.vm=e,this.el=n,this.descriptor=t,this.name=t.name,this.expression=t.expression,this.arg=t.arg,this.modifiers=t.modifiers,this.filters=t.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=i,this._scope=o,this._frag=s}function Ge(t){this._init(t)}function Je(t,e){var n;if(b(t)){var i=Object.keys(t);for(n=i.length;n--;)if(Je(t[i[n]],e))return!0}else if(on(t)){for(n=t.length;n--;)if(Je(t[n],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}var Ze=Object.prototype.hasOwnProperty,Ke=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Ye=/-(\w)/g,Qe=/([^-])([A-Z])/g,tn=/(?:^|[-_\/])(\w)/g,en=Object.prototype.toString,nn="[object Object]",on=Array.isArray,sn="__proto__"in{},rn="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),an=rn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ln=rn&&window.navigator.userAgent.toLowerCase(),cn=ln&&ln.indexOf("trident")>0,dn=ln&&ln.indexOf("msie 9.0")>0,un=ln&&ln.indexOf("android")>0,fn=ln&&/iphone|ipad|ipod|ios/.test(ln),pn=void 0,hn=void 0,_n=void 0,gn=void 0;if(rn&&!dn){var bn=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,mn=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;pn=bn?"WebkitTransition":"transition",hn=bn?"webkitTransitionEnd":"transitionend",_n=mn?"WebkitAnimation":"animation",gn=mn?"webkitAnimationEnd":"animationend"}var vn=function(){function t(){n=!1;var t=e.slice(0);e.length=0;for(var i=0;i<t.length;i++)t[i]()}var e=[],n=!1,i=void 0;if("undefined"!=typeof Promise&&k(Promise)){var o=Promise.resolve(),s=function(){};i=function(){o.then(t),fn&&setTimeout(s)}}else if("undefined"!=typeof MutationObserver){var r=1,a=new MutationObserver(t),l=document.createTextNode(String(r));a.observe(l,{characterData:!0}),i=function(){r=(r+1)%2,l.data=String(r)}}else i=setTimeout;return function(o,s){var r=s?function(){o.call(s)}:o;e.push(r),n||(n=!0,i(t,0))}}(),xn=void 0;"undefined"!=typeof Set&&k(Set)?xn=Set:((xn=function(){this.set=Object.create(null)}).prototype.has=function(t){return void 0!==this.set[t]},xn.prototype.add=function(t){this.set[t]=1},xn.prototype.clear=function(){this.set=Object.create(null)});var yn=X.prototype;yn.put=function(t,e){var n,i=this.get(t,!0);return i||(this.size===this.limit&&(n=this.shift()),i={key:t},this._keymap[t]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size++),i.value=e,n},yn.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0,this.size--),t},yn.get=function(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),e?n:n.value};var wn,kn,Xn,Fn,$n,An,Cn=new X(1e3),Sn=/^in$|^-?\d+/,En=0,Tn=1,Nn=2,On=3,jn=34,Rn=39,Ln=124,Dn=92,Pn=32,Mn={91:1,123:1,40:1},zn={91:93,123:125,40:41},In=Object.freeze({parseDirective:D}),Hn=/[-.*+?^${}()|[\]\/\\]/g,Bn=void 0,Vn=void 0,qn=void 0,Un=/[^|]\|[^|]/,Wn=Object.freeze({compileRegex:M,parseText:z,tokensToExp:I}),Gn=["{{","}}"],Jn=["{{{","}}}"],Zn=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,devtools:!1,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return Gn},set:function(t){Gn=t,M()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return Jn},set:function(t){Jn=t,M()},configurable:!0,enumerable:!0}}),Kn=Object.freeze({appendWithTransition:B,beforeWithTransition:V,removeWithTransition:q,applyTransition:U}),Yn=/^v-ref:/,Qn=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/i,ti=/^(slot|partial|component)$/i,ei=Zn.optionMergeStrategies=Object.create(null);ei.data=function(t,e,n){return n?t||e?function(){var i="function"==typeof e?e.call(n):e,o="function"==typeof t?t.call(n):void 0;return i?yt(i,o):o}:void 0:e?"function"!=typeof e?t:t?function(){return yt(e.call(this),t.call(this))}:e:t},ei.el=function(t,e,n){if(n||!e||"function"==typeof e){var i=e||t;return n&&"function"==typeof i?i.call(n):i}},ei.init=ei.created=ei.ready=ei.attached=ei.detached=ei.beforeCompile=ei.compiled=ei.beforeDestroy=ei.destroyed=ei.activate=function(t,e){return e?t?t.concat(e):on(e)?e:[e]:t},Zn._assetTypes.forEach((function(t){ei[t+"s"]=wt})),ei.watch=ei.events=function(t,e){if(!e)return t;if(!t)return e;var n={};for(var i in _(n,t),e){var o=n[i],s=e[i];o&&!on(o)&&(o=[o]),n[i]=o?o.concat(s):[s]}return n},ei.props=ei.methods=ei.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return _(n,t),_(n,e),n};var ni=function(t,e){return void 0===e?t:e},ii=0;$t.target=null,$t.prototype.addSub=function(t){this.subs.push(t)},$t.prototype.removeSub=function(t){this.subs.$remove(t)},$t.prototype.depend=function(){$t.target.addDep(this)},$t.prototype.notify=function(){for(var t=h(this.subs),e=0,n=t.length;e<n;e++)t[e].update()};var oi=Array.prototype,si=Object.create(oi);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=oi[t];m(si,t,(function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var o,s=e.apply(this,i),r=this.__ob__;switch(t){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&r.observeArray(o),r.dep.notify(),s}))})),m(oi,"$set",(function(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]})),m(oi,"$remove",(function(t){if(this.length){var e=x(this,t);return e>-1?this.splice(e,1):void 0}}));var ri=Object.getOwnPropertyNames(si),ai=!0;Ct.prototype.walk=function(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;n++)this.convert(e[n],t[e[n]])},Ct.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Tt(t[e])},Ct.prototype.convert=function(t,e){Nt(this.value,t,e)},Ct.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},Ct.prototype.removeVm=function(t){this.vms.$remove(t)};var li=Object.freeze({defineReactive:Nt,set:t,del:e,hasOwn:n,isLiteral:i,isReserved:o,_toString:s,toNumber:r,toBoolean:a,stripQuotes:l,camelize:c,hyphenate:u,classify:f,bind:p,toArray:h,extend:_,isObject:g,isPlainObject:b,def:m,debounce:v,indexOf:x,cancellable:y,looseEqual:w,isArray:on,hasProto:sn,inBrowser:rn,devtools:an,isIE:cn,isIE9:dn,isAndroid:un,isIOS:fn,get transitionProp(){return pn},get transitionEndEvent(){return hn},get animationProp(){return _n},get animationEndEvent(){return gn},nextTick:vn,get _Set(){return xn},query:W,inDoc:G,getAttr:J,getBindAttr:Z,hasBindAttr:K,before:Y,after:Q,remove:tt,prepend:et,replace:nt,on:it,off:ot,setClass:rt,addClass:at,removeClass:lt,extractContent:ct,trimNode:dt,isTemplate:ft,createAnchor:pt,findRef:ht,mapNodeRange:_t,removeNodeRange:gt,isFragment:bt,getOuterHTML:mt,mergeOptions:Xt,resolveAsset:Ft,checkComponentAttr:vt,commonTagRE:Qn,reservedTagRE:ti,warn:void 0}),ci=0,di=new X(1e3),ui=0,fi=1,pi=2,hi=3,_i=0,gi=4,bi=5,mi=6,vi=7,xi=8,yi=[];yi[_i]={ws:[_i],ident:[3,ui],"[":[gi],eof:[vi]},yi[1]={ws:[1],".":[2],"[":[gi],eof:[vi]},yi[2]={ws:[2],ident:[3,ui]},yi[3]={ident:[3,ui],0:[3,ui],number:[3,ui],ws:[1,fi],".":[2,fi],"[":[gi,fi],eof:[vi,fi]},yi[gi]={"'":[bi,ui],'"':[mi,ui],"[":[gi,pi],"]":[1,hi],eof:xi,else:[gi,ui]},yi[bi]={"'":[gi,ui],eof:xi,else:[bi,ui]},yi[mi]={'"':[gi,ui],eof:xi,else:[mi,ui]};var wi=Object.freeze({parsePath:Lt,getPath:Dt,setPath:Pt}),ki=new X(1e3),Xi=new RegExp("^("+"Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat".replace(/,/g,"\\b|")+"\\b)"),Fi=new RegExp("^("+"break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public".replace(/,/g,"\\b|")+"\\b)"),$i=/\s/g,Ai=/\n/g,Ci=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\"']|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,Si=/"(\d+)"/g,Ei=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,Ti=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,Ni=/^(?:true|false|null|undefined|Infinity|NaN)$/,Oi=[],ji=Object.freeze({parseExpression:qt,isSimplePath:Ut}),Ri=[],Li=[],Di={},Pi=!1,Mi=0;Jt.prototype.get=function(){this.beforeGet();var t,e=this.scope||this.vm;try{t=this.getter.call(e,e)}catch(t){}return this.deep&&Zt(t),this.preProcess&&(t=this.preProcess(t)),this.filters&&(t=e._applyFilters(t,null,this.filters,!1)),this.postProcess&&(t=this.postProcess(t)),this.afterGet(),t},Jt.prototype.set=function(t){var e=this.scope||this.vm;this.filters&&(t=e._applyFilters(t,this.value,this.filters,!0));try{this.setter.call(e,e,t)}catch(t){}var n=e.$forContext;if(n&&n.alias===this.expression){if(n.filters)return;n._withLock((function(){e.$key?n.rawValue[e.$key]=t:n.rawValue.$set(e.$index,t)}))}},Jt.prototype.beforeGet=function(){$t.target=this},Jt.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Jt.prototype.afterGet=function(){$t.target=null;for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Jt.prototype.update=function(t){this.lazy?this.dirty=!0:this.sync||!Zn.async?this.run():(this.shallow=this.queued?!!t&&this.shallow:!!t,this.queued=!0,function(t){var e=t.id;if(null==Di[e]){var n=t.user?Li:Ri;Di[e]=n.length,n.push(t),Pi||(Pi=!0,vn(Wt))}}(this))},Jt.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||(g(t)||this.deep)&&!this.shallow){var e=this.value;this.value=t,this.prevError,this.cb.call(this.vm,t,e)}this.queued=this.shallow=!1}},Jt.prototype.evaluate=function(){var t=$t.target;this.value=this.get(),this.dirty=!1,$t.target=t},Jt.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Jt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var zi=new xn,Ii={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=s(t)}},Hi=new X(1e3),Bi=new X(1e3),Vi={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};Vi.td=Vi.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Vi.option=Vi.optgroup=[1,'<select multiple="multiple">',"</select>"],Vi.thead=Vi.tbody=Vi.colgroup=Vi.caption=Vi.tfoot=[1,"<table>","</table>"],Vi.g=Vi.defs=Vi.symbol=Vi.use=Vi.image=Vi.text=Vi.circle=Vi.ellipse=Vi.line=Vi.path=Vi.polygon=Vi.polyline=Vi.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var qi=/<([\w:-]+)/,Ui=/&#?\w+?;/,Wi=/<!--/,Gi=function(){if(rn){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),Ji=function(){if(rn){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),Zi=Object.freeze({cloneNode:te,parseTemplate:ee}),Ki={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=pt("v-html"),nt(this.el,this.anchor))},update:function(t){t=s(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)tt(this.nodes[e]);var n=ee(t,!0,!0);this.nodes=h(n.childNodes),Y(n,this.anchor)}};ne.prototype.callHook=function(t){var e,n;for(e=0,n=this.childFrags.length;e<n;e++)this.childFrags[e].callHook(t);for(e=0,n=this.children.length;e<n;e++)t(this.children[e])},ne.prototype.beforeRemove=function(){var t,e;for(t=0,e=this.childFrags.length;t<e;t++)this.childFrags[t].beforeRemove(!1);for(t=0,e=this.children.length;t<e;t++)this.children[t].$destroy(!1,!0);var n=this.unlink.dirs;for(t=0,e=n.length;t<e;t++)n[t]._watcher&&n[t]._watcher.teardown()},ne.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var Yi=new X(5e3);ce.prototype.create=function(t,e,n){var i=te(this.template);return new ne(this.linker,this.vm,i,t,e,n)};var Qi=0,to={priority:2200,terminal:!0,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var t=this.expression.match(/(.*) (?:in|of) (.*)/);if(t){var e=t[1].match(/\((.*),(.*)\)/);e?(this.iterator=e[1].trim(),this.alias=e[2].trim()):this.alias=t[1].trim(),this.expression=t[2]}if(this.alias){this.id="__v-for__"+ ++Qi;var n=this.el.tagName;this.isOption=("OPTION"===n||"OPTGROUP"===n)&&"SELECT"===this.el.parentNode.tagName,this.start=pt("v-for-start"),this.end=pt("v-for-end"),nt(this.el,this.end),Y(this.start,this.end),this.cache=Object.create(null),this.factory=new ce(this.vm,this.el)}},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,i,o,s,r,a,l=t[0],c=this.fromObject=g(l)&&n(l,"$key")&&n(l,"$value"),d=this.params.trackBy,u=this.frags,f=this.frags=new Array(t.length),p=this.alias,h=this.iterator,_=this.start,b=this.end,m=G(_),v=!u;for(e=0,i=t.length;e<i;e++)l=t[e],s=c?l.$key:null,a=!g(r=c?l.$value:l),(o=!v&&this.getCachedFrag(r,e,s))?(o.reused=!0,o.scope.$index=e,s&&(o.scope.$key=s),h&&(o.scope[h]=null!==s?s:e),(d||c||a)&&At((function(){o.scope[p]=r}))):(o=this.create(r,p,e,s)).fresh=!v,f[e]=o,v&&o.before(b);if(!v){var x=0,y=u.length-f.length;for(this.vm._vForRemoving=!0,e=0,i=u.length;e<i;e++)(o=u[e]).reused||(this.deleteCachedFrag(o),this.remove(o,x++,y,m));this.vm._vForRemoving=!1,x&&(this.vm._watchers=this.vm._watchers.filter((function(t){return t.active})));var w,k,X,F=0;for(e=0,i=f.length;e<i;e++)o=f[e],k=(w=f[e-1])?w.staggerCb?w.staggerAnchor:w.end||w.node:_,o.reused&&!o.staggerCb?(X=de(o,_,this.id))===w||X&&de(X,_,this.id)===w||this.move(o,k):this.insert(o,F++,k,m),o.reused=o.fresh=!1}},create:function(t,e,n,i){var o=this._host,s=this._scope||this.vm,r=Object.create(s);r.$refs=Object.create(s.$refs),r.$els=Object.create(s.$els),r.$parent=s,r.$forContext=this,At((function(){Nt(r,e,t)})),Nt(r,"$index",n),i?Nt(r,"$key",i):r.$key&&m(r,"$key",null),this.iterator&&Nt(r,this.iterator,null!==i?i:n);var a=this.factory.create(o,r,this._frag);return a.forId=this.id,this.cacheFrag(t,a,n,i),a},updateRef:function(){var t=this.descriptor.ref;if(t){var e,n=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach((function(t){e[t.scope.$key]=fe(t)}))):e=this.frags.map(fe),n[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,n,i){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var o=this.getStagger(t,e,null,"enter");if(i&&o){var s=t.staggerAnchor;s||((s=t.staggerAnchor=pt("stagger-anchor")).__v_frag=t),Q(s,n);var r=t.staggerCb=y((function(){t.staggerCb=null,t.before(s),tt(s)}));setTimeout(r,o)}else{var a=n.nextSibling;a||(Q(this.end,n),a=this.end),t.before(a)}},remove:function(t,e,n,i){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var o=this.getStagger(t,e,n,"leave");if(i&&o){var s=t.staggerCb=y((function(){t.staggerCb=null,t.remove()}));setTimeout(s,o)}else t.remove()},move:function(t,e){e.nextSibling||this.end.parentNode.appendChild(this.end),t.before(e.nextSibling,!1)},cacheFrag:function(t,e,i,o){var s,r=this.params.trackBy,a=this.cache,l=!g(t);o||r||l?a[s=ue(i,o,t,r)]||(a[s]=e):n(t,s=this.id)?null===t[s]&&(t[s]=e):Object.isExtensible(t)&&m(t,s,e),e.raw=t},getCachedFrag:function(t,e,n){var i,o=this.params.trackBy,s=!g(t);if(n||o||s){var r=ue(e,n,t,o);i=this.cache[r]}else i=t[this.id];return i&&(i.reused||i.fresh),i},deleteCachedFrag:function(t){var e=t.raw,i=this.params.trackBy,o=t.scope,s=o.$index,r=n(o,"$key")&&o.$key,a=!g(e);if(i||r||a){var l=ue(s,r,e,i);this.cache[l]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,n,i){i+="Stagger";var o=t.node.__v_trans,s=o&&o.hooks,r=s&&(s[i]||s.stagger);return r?r.call(t,e,n):e*parseInt(this.params[i]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(on(t))return t;if(b(t)){for(var e,n=Object.keys(t),i=n.length,o=new Array(i);i--;)e=n[i],o[i]={$key:e,$value:t[e]};return o}return"number"!=typeof t||isNaN(t)||(t=function(t){for(var e=-1,n=new Array(Math.floor(t));++e<t;)n[e]=e;return n}(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}},eo={priority:2100,terminal:!0,bind:function(){var t=this.el;if(t.__vue__)this.invalid=!0;else{var e=t.nextElementSibling;e&&null!==J(e,"v-else")&&(tt(e),this.elseEl=e),this.anchor=pt("v-if"),nt(t,this.anchor)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.factory||(this.factory=new ce(this.vm,this.el)),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseEl&&!this.elseFrag&&(this.elseFactory||(this.elseFactory=new ce(this.elseEl._context||this.vm,this.elseEl)),this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},no={bind:function(){var t=this.el.nextElementSibling;t&&null!==J(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){function n(){t.style.display=e?"":"none"}G(t)?U(t,e?1:-1,n,this.vm):n()}},io={bind:function(){var t=this,e=this.el,n="range"===e.type,i=this.params.lazy,o=this.params.number,s=this.params.debounce,a=!1;if(un||n||(this.on("compositionstart",(function(){a=!0})),this.on("compositionend",(function(){a=!1,i||t.listener()}))),this.focused=!1,n||i||(this.on("focus",(function(){t.focused=!0})),this.on("blur",(function(){t.focused=!1,t._frag&&!t._frag.inserted||t.rawListener()}))),this.listener=this.rawListener=function(){if(!a&&t._bound){var i=o||n?r(e.value):e.value;t.set(i),vn((function(){t._bound&&!t.focused&&t.update(t._watcher.value)}))}},s&&(this.listener=v(this.listener,s)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var l=jQuery.fn.on?"on":"bind";jQuery(e)[l]("change",this.rawListener),i||jQuery(e)[l]("input",this.listener)}else this.on("change",this.rawListener),i||this.on("input",this.listener);!i&&dn&&(this.on("cut",(function(){vn(t.listener)})),this.on("keyup",(function(e){46!==e.keyCode&&8!==e.keyCode||t.listener()}))),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){(t=s(t))!==this.el.value&&(this.el.value=t)},unbind:function(){var t=this.el;if(this.hasjQuery){var e=jQuery.fn.off?"off":"unbind";jQuery(t)[e]("change",this.listener),jQuery(t)[e]("input",this.listener)}}},oo={bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var n=e.value;return t.params.number&&(n=r(n)),n},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){this.el.checked=w(t,this.getValue())}},so={bind:function(){var t=this,e=this,n=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var i=this.multiple=n.hasAttribute("multiple");this.listener=function(){var t=pe(n,i);t=e.params.number?on(t)?t.map(r):r(t):t,e.set(t)},this.on("change",this.listener);var o=pe(n,i,!0);(i&&o.length||!i&&null!==o)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",(function(){vn(t.forceUpdate)})),G(n)||vn(this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var n,i,o=this.multiple&&on(t),s=e.options,r=s.length;r--;)i=(n=s[r]).hasOwnProperty("_value")?n._value:n.value,n.selected=o?he(t,i)>-1:w(t,i)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},ro={bind:function(){var t=this,e=this.el;this.getValue=function(){return e.hasOwnProperty("_value")?e._value:t.params.number?r(e.value):e.value},this.listener=function(){var n=t._watcher.get();if(on(n)){var i=t.getValue(),o=x(n,i);e.checked?o<0&&t.set(n.concat(i)):o>-1&&t.set(n.slice(0,o).concat(n.slice(o+1)))}else t.set(function(){var t=e.checked;return t&&e.hasOwnProperty("_trueValue")?e._trueValue:!t&&e.hasOwnProperty("_falseValue")?e._falseValue:t}())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){var e=this.el;on(t)?e.checked=x(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=w(t,e._trueValue):e.checked=!!t}},ao={text:io,radio:oo,select:so,checkbox:ro},lo={priority:800,twoWay:!0,handlers:ao,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&this.hasWrite;var t,e=this.el,n=e.tagName;if("INPUT"===n)t=ao[e.type]||ao.text;else if("SELECT"===n)t=ao.select;else{if("TEXTAREA"!==n)return;t=ao.text}e.__v_model=this,t.bind.call(this),this.update=t.update,this._unbind=t.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var n=Ft(this.vm.$options,"filters",t[e].name);("function"==typeof n||n.read)&&(this.hasRead=!0),n.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},co={esc:27,tab:9,enter:13,space:32,delete:[8,46],up:38,left:37,right:39,down:40},uo={priority:700,acceptStatement:!0,keyCodes:co,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){it(t.el.contentWindow,t.arg,t.handler,t.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(t){if(this.descriptor.raw||(t=function(){}),"function"==typeof t){this.modifiers.stop&&(t=function(t){return function(e){return e.stopPropagation(),t.call(this,e)}}(t)),this.modifiers.prevent&&(t=function(t){return function(e){return e.preventDefault(),t.call(this,e)}}(t)),this.modifiers.self&&(t=function(t){return function(e){if(e.target===e.currentTarget)return t.call(this,e)}}(t));var e=Object.keys(this.modifiers).filter((function(t){return"stop"!==t&&"prevent"!==t&&"self"!==t&&"capture"!==t}));e.length&&(t=function(t,e){var n=e.map((function(t){var e=t.charCodeAt(0);return e>47&&e<58?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0))>64&&e<91?e:co[t]}));return n=[].concat.apply([],n),function(e){if(n.indexOf(e.keyCode)>-1)return t.call(this,e)}}(t,e)),this.reset(),this.handler=t,this.iframeBind?this.iframeBind():it(this.el,this.arg,this.handler,this.modifiers.capture)}},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&ot(t,this.arg,this.handler)},unbind:function(){this.reset()}},fo=["-webkit-","-moz-","-ms-"],po=["Webkit","Moz","ms"],ho=/!important;?$/,_o=Object.create(null),go=null,bo={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:on(t)?this.handleObject(t.reduce(_,{})):this.handleObject(t||{})},handleObject:function(t){var e,n,i=this.cache||(this.cache={});for(e in i)e in t||(this.handleSingle(e,null),delete i[e]);for(e in t)(n=t[e])!==i[e]&&(i[e]=n,this.handleSingle(e,n))},handleSingle:function(t,e){if(t=_e(t))if(null!=e&&(e+=""),e){var n=ho.test(e)?"important":"";n?(e=e.replace(ho,"").trim(),this.el.style.setProperty(t.kebab,e,n)):this.el.style[t.camel]=e}else this.el.style[t.camel]=""}},mo=/^xlink:/,vo=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,xo=/^(?:value|checked|selected|muted)$/,yo=/^(?:draggable|contenteditable|spellcheck)$/,wo={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},ko={priority:850,bind:function(){var t=this.arg,e=this.el.tagName;t||(this.deep=!0);var n=this.descriptor,i=n.interp;i&&(n.hasOneTime&&(this.expression=I(i,this._scope||this.vm)),(vo.test(t)||"name"===t&&("PARTIAL"===e||"SLOT"===e))&&(this.el.removeAttribute(t),this.invalid=!0))},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{})}},handleObject:bo.handleObject,handleSingle:function(t,e){var n=this.el,i=this.descriptor.interp;if(this.modifiers.camel&&(t=c(t)),!i&&xo.test(t)&&t in n){var o="value"===t&&null==e?"":e;n[t]!==o&&(n[t]=o)}var s=wo[t];if(!i&&s){n[s]=e;var r=n.__v_model;r&&r.listener()}return"value"===t&&"TEXTAREA"===n.tagName?void n.removeAttribute(t):void(yo.test(t)?n.setAttribute(t,e?"true":"false"):null!=e&&!1!==e?"class"===t?(n.__v_trans&&(e+=" "+n.__v_trans.id+"-transition"),rt(n,e)):mo.test(t)?n.setAttributeNS("http://www.w3.org/1999/xlink",t,!0===e?"":e):n.setAttribute(t,!0===e?"":e):n.removeAttribute(t))}},Xo={priority:1500,bind:function(){if(this.arg){var t=this.id=c(this.arg),e=(this._scope||this.vm).$els;n(e,t)?e[t]=this.el:Nt(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},Fo={text:Ii,html:Ki,for:to,if:eo,show:no,model:lo,on:uo,bind:ko,el:Xo,ref:{bind:function(){}},cloak:{bind:function(){var t=this.el;this.vm.$once("pre-hook:compiled",(function(){t.removeAttribute("v-cloak")}))}}},$o={deep:!0,update:function(t){t?"string"==typeof t?this.setClass(t.trim().split(/\s+/)):this.setClass(function(t){var e=[];if(on(t))for(var n=0,i=t.length;n<i;n++){var o=t[n];if(o)if("string"==typeof o)e.push(o);else for(var s in o)o[s]&&e.push(s)}else if(g(t))for(var r in t)t[r]&&e.push(r);return e}(t)):this.cleanup()},setClass:function(t){this.cleanup(t);for(var e=0,n=t.length;e<n;e++){var i=t[e];i&&ge(this.el,i,at)}this.prevKeys=t},cleanup:function(t){var e=this.prevKeys;if(e)for(var n=e.length;n--;){var i=e[n];(!t||t.indexOf(i)<0)&&ge(this.el,i,lt)}}},Ao={priority:1500,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__||(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=ct(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=pt("v-component"),nt(this.el,this.anchor),this.el.removeAttribute("is"),this.el.removeAttribute(":is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+u(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var n=this;this.resolveComponent(t,(function(){n.mountComponent(e)}))}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var n=this;this.pendingComponentCb=y((function(i){n.ComponentName=i.options.name||("string"==typeof t?t:null),n.Component=i,e()})),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,n=this.Component.options.activate,i=this.getCached(),o=this.build();n&&!i?(this.waitingFor=o,function(t,e,n){var i=t.length,o=0;t[0].call(e,(function s(){++o>=i?n():t[o].call(e,s)}))}(n,o,(function(){e.waitingFor===o&&(e.waitingFor=null,e.transition(o,t))}))):(i&&o._updateRef(),this.transition(o,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(t){var e=this.getCached();if(e)return e;if(this.Component){var n={name:this.ComponentName,el:te(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};t&&_(n,t);var i=new this.Component(n);return this.keepAlive&&(this.cache[this.Component.cid]=i),i}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.keepAlive||this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&(e._inactive=!0,e._updateRef(!0))):void e.$destroy(!1,t)},remove:function(t,e){var n=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var i=this;t.$remove((function(){i.pendingRemovals--,n||t._cleanup(),!i.pendingRemovals&&i.pendingRemovalCb&&(i.pendingRemovalCb(),i.pendingRemovalCb=null)}))}else e&&e()},transition:function(t,e){var n=this,i=this.childVM;switch(i&&(i._inactive=!0),t._inactive=!1,this.childVM=t,n.params.transitionMode){case"in-out":t.$before(n.anchor,(function(){n.remove(i,e)}));break;case"out-in":n.remove(i,(function(){t.$before(n.anchor,e)}));break;default:n.remove(i),t.$before(n.anchor,e)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},Co=Zn._propBindingModes,So={},Eo=/^[$_a-zA-Z]+[\w$]*$/,To=Zn._propBindingModes,No={bind:function(){var t=this.vm,e=t._context,n=this.descriptor.prop,i=n.path,o=n.parentPath,s=n.mode===To.TWO_WAY,r=this.parentWatcher=new Jt(e,o,(function(e){!function(t,e,n){ve(t,e,n,(function(n){t[e.path]=n}))}(t,n,e)}),{twoWay:s,filters:n.filters,scope:this._scope});if(xe(t,n,r.value),s){var a=this;t.$once("pre-hook:created",(function(){a.childWatcher=new Jt(t,i,(function(t){r.set(t)}),{sync:!0})}))}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},Oo=[],jo=!1,Ro="transition",Lo="animation",Do=pn+"Duration",Po=_n+"Duration",Mo=rn&&window.requestAnimationFrame,zo=Mo?function(t){Mo((function(){Mo(t)}))}:function(t){setTimeout(t,50)},Io=Fe.prototype;Io.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,at(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,ke(this.enterNextTick))},Io.enterNextTick=function(){var t=this;this.justEntered=!0,zo((function(){t.justEntered=!1}));var e=this.enterDone,n=this.getCssTransitionType(this.enterClass);this.pendingJsCb?n===Ro&&lt(this.el,this.enterClass):n===Ro?(lt(this.el,this.enterClass),this.setupCssCb(hn,e)):n===Lo?this.setupCssCb(gn,e):e()},Io.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,lt(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},Io.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,at(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():ke(this.leaveNextTick)))},Io.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===Ro?hn:gn;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},Io.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),lt(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},Io.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,ot(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(lt(this.el,this.enterClass),lt(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},Io.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},Io.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=y(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},Io.getCssTransitionType=function(t){if(!(!hn||document.hidden||this.hooks&&!1===this.hooks.css||function(t){if(/svg$/.test(t.namespaceURI)){var e=t.getBoundingClientRect();return!(e.width||e.height)}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}(this.el))){var e=this.type||this.typeCache[t];if(e)return e;var n=this.el.style,i=window.getComputedStyle(this.el),o=n[Do]||i[Do];if(o&&"0s"!==o)e=Ro;else{var s=n[Po]||i[Po];s&&"0s"!==s&&(e=Lo)}return e&&(this.typeCache[t]=e),e}},Io.setupCssCb=function(t,e){this.pendingCssEvent=t;var n=this,i=this.el,o=this.pendingCssCb=function(s){s.target===i&&(ot(i,t,o),n.pendingCssEvent=n.pendingCssCb=null,!n.pendingJsCb&&e&&e())};it(i,t,o)};var Ho={priority:1100,update:function(t,e){var n=this.el,i=Ft(this.vm.$options,"transitions",t);t=t||"v",e=e||"v",n.__v_trans=new Fe(n,t,i,this.vm),lt(n,e+"-transition"),at(n,t+"-transition")}},Bo={style:bo,class:$o,component:Ao,prop:No,transition:Ho},Vo=/^v-bind:|^:/,qo=/^v-on:|^@/,Uo=/^v-([^:]+)(?:$|:(.*)$)/,Wo=/\.[^\.]+/g,Go=/^(v-bind:|:)?transition$/,Jo=1e3,Zo=2e3;De.terminal=!0;var Ko=/[^\w\-:\.]/,Yo=Object.freeze({compile:$e,compileAndLinkProps:Ee,compileRoot:Te,transclude:He,resolveSlots:Ve}),Qo=/^v-on:|^@/;We.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var n=e.attr||"v-"+t;this.el.removeAttribute(n)}var i=e.def;if("function"==typeof i?this.update=i:_(this,i),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var o=this;this.update?this._update=function(t,e){o._locked||o.update(t,e)}:this._update=Ue;var s=this._preProcess?p(this._preProcess,this):null,r=this._postProcess?p(this._postProcess,this):null,a=this._watcher=new Jt(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:s,postProcess:r,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(a.value)}},We.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,n,i,o=t.length;o--;)i=c(e=u(t[o])),null!=(n=Z(this.el,e))?this._setupParamWatcher(i,n):null!=(n=J(this.el,e))&&(this.params[i]=""===n||n)}},We.prototype._setupParamWatcher=function(t,e){var n=this,i=!1,o=(this._scope||this.vm).$watch(e,(function(e,o){if(n.params[t]=e,i){var s=n.paramWatchers&&n.paramWatchers[t];s&&s.call(n,e,o)}else i=!0}),{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(o)},We.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!Ut(t)){var e=qt(t).get,n=this._scope||this.vm,i=function(t){n.$event=t,e.call(n,n),n.$event=null};return this.filters&&(i=n._applyFilters(i,null,this.filters)),this.update(i),!0}},We.prototype.set=function(t){this.twoWay&&this._withLock((function(){this._watcher.set(t)}))},We.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),vn((function(){e._locked=!1}))},We.prototype.on=function(t,e,n){it(this.el,t,e,n),(this._listeners||(this._listeners=[])).push([t,e])},We.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var t,e=this._listeners;if(e)for(t=e.length;t--;)ot(this.el,e[t][0],e[t][1]);var n=this._paramUnwatchFns;if(n)for(t=n.length;t--;)n[t]();this.vm=this.el=this._watcher=this._listeners=null}};var ts=/[^|]\|[^|]/;(function(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=ci++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=Xt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}})(Ge),function(t){function e(){}function i(t,e){var n=new Jt(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),$t.target&&n.depend(),n.value}}Object.defineProperty(t.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),t.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},t.prototype._initProps=function(){var t=this.$options,e=t.el,n=t.props;e=t.el=W(e),this._propsUnlinkFn=e&&1===e.nodeType&&n?Ee(this,e,n,this._scope):null},t.prototype._initData=function(){var t=this.$options.data,e=this._data=t?t():{};b(e)||(e={});var i,o,s=this._props,r=Object.keys(e);for(i=r.length;i--;)o=r[i],s&&n(s,o)||this._proxy(o);Tt(e,this)},t.prototype._setData=function(t){t=t||{};var e,i,o,s=this._data;for(this._data=t,o=(e=Object.keys(s)).length;o--;)(i=e[o])in t||this._unproxy(i);for(o=(e=Object.keys(t)).length;o--;)n(this,i=e[o])||this._proxy(i);s.__ob__.removeVm(this),Tt(t,this),this._digest()},t.prototype._proxy=function(t){if(!o(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(n){e._data[t]=n}})}},t.prototype._unproxy=function(t){o(t)||delete this[t]},t.prototype._digest=function(){for(var t=0,e=this._watchers.length;t<e;t++)this._watchers[t].update(!0)},t.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var n in t){var o=t[n],s={enumerable:!0,configurable:!0};"function"==typeof o?(s.get=i(o,this),s.set=e):(s.get=o.get?!1!==o.cache?i(o.get,this):p(o.get,this):e,s.set=o.set?p(o.set,this):e),Object.defineProperty(this,n,s)}},t.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=p(t[e],this)},t.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)Nt(this,e,t[e])}}(Ge),function(t){function e(t,e,i){var o,s,r,a;if(i)for(s in i)if(o=i[s],on(o))for(r=0,a=o.length;r<a;r++)n(t,e,s,o[r]);else n(t,e,s,o)}function n(t,e,i,o,s){var r=typeof o;if("function"===r)t[e](i,o,s);else if("string"===r){var a=t.$options.methods,l=a&&a[o];l&&t[e](i,l,s)}else o&&"object"===r&&n(t,e,i,o.handler,o)}function i(){this._isAttached||(this._isAttached=!0,this.$children.forEach(o))}function o(t){!t._isAttached&&G(t.$el)&&t._callHook("attached")}function s(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(r))}function r(t){t._isAttached&&!G(t.$el)&&t._callHook("detached")}t.prototype._initEvents=function(){var t=this.$options;t._asComponent&&function(t,e){for(var n,i,o,s=e.attributes,r=0,a=s.length;r<a;r++)n=s[r].name,Qo.test(n)&&(n=n.replace(Qo,""),Ut(i=s[r].value)&&(i+=".apply(this, $arguments)"),(o=(t._scope||t._context).$eval(i,!0))._fromParent=!0,t.$on(n.replace(Qo),o))}(this,t.el),e(this,"$on",t.events),e(this,"$watch",t.watch)},t.prototype._initDOMHooks=function(){this.$on("hook:attached",i),this.$on("hook:detached",s)},t.prototype._callHook=function(t){this.$emit("pre-hook:"+t);var e=this.$options[t];if(e)for(var n=0,i=e.length;n<i;n++)e[n].call(this);this.$emit("hook:"+t)}}(Ge),function(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var n=(this._scope||this._context).$refs;t?n[e]===this&&(n[e]=null):n[e]=this}},t.prototype._compile=function(t){var e=this.$options,n=t;if(t=He(t,e),this._initElement(t),1!==t.nodeType||null===J(t,"v-pre")){var i=Te(t,e,this._context&&this._context.$options);Ve(this,e._content);var o,s=this.constructor;e._linkerCachable&&((o=s.linker)||(o=s.linker=$e(t,e)));var r=i(this,t,this._scope),a=o?o(this,t):$e(t,e)(this,t);this._unlinkFn=function(){r(),a(!0)},e.replace&&nt(n,t),this._isCompiled=!0,this._callHook("compiled")}},t.prototype._initElement=function(t){bt(t)?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,n,i,o){this._directives.push(new We(t,this,e,n,i,o))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)e||this._cleanup();else{var n,i,o=this,s=function(){!n||i||e||o._cleanup()};t&&this.$el&&(i=!0,this.$remove((function(){i=!1,s()}))),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var r,a=this.$parent;for(a&&!a._isBeingDestroyed&&(a.$children.$remove(this),this._updateRef(!0)),r=this.$children.length;r--;)this.$children[r].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),r=this._watchers.length;r--;)this._watchers[r].teardown();this.$el&&(this.$el.__vue__=null),n=!0,s()}},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data&&this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}(Ge),function(t){t.prototype._applyFilters=function(t,e,n,i){var o,s,r,a,l,c,d,u,f;for(c=0,d=n.length;c<d;c++)if(o=n[i?d-c-1:c],(s=Ft(this.$options,"filters",o.name))&&"function"==typeof(s=i?s.write:s.read||s)){if(r=i?[t,e]:[t],l=i?2:1,o.args)for(u=0,f=o.args.length;u<f;u++)a=o.args[u],r[u+l]=a.dynamic?this.$get(a.value):a.value;t=s.apply(this,r)}return t},t.prototype._resolveComponent=function(e,n){var i;if(i="function"==typeof e?e:Ft(this.$options,"components",e))if(i.options)n(i);else if(i.resolved)n(i.resolved);else if(i.requested)i.pendingCallbacks.push(n);else{i.requested=!0;var o=i.pendingCallbacks=[n];i.call(this,(function(e){b(e)&&(e=t.extend(e)),i.resolved=e;for(var n=0,s=o.length;n<s;n++)o[n](e)}),(function(t){}))}}}(Ge),function(t){function n(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var n=qt(t);if(n){if(e){var i=this;return function(){i.$arguments=h(arguments);var t=n.get.call(i,i);return i.$arguments=null,t}}try{return n.get.call(this,this)}catch(t){}}},t.prototype.$set=function(t,e){var n=qt(t,!0);n&&n.set&&n.set.call(this,this,e)},t.prototype.$delete=function(t){e(this._data,t)},t.prototype.$watch=function(t,e,n){var i;"string"==typeof t&&(t=(i=D(t)).expression);var o=new Jt(this,t,e,{deep:n&&n.deep,sync:n&&n.sync,filters:i&&i.filters,user:!n||!1!==n.user});return n&&n.immediate&&e.call(this,o.value),function(){o.teardown()}},t.prototype.$eval=function(t,e){if(ts.test(t)){var n=D(t),i=this.$get(n.expression,e);return n.filters?this._applyFilters(i,null,n.filters):i}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=z(t),n=this;return e?1===e.length?n.$eval(e[0].value)+"":e.map((function(t){return t.tag?n.$eval(t.value):t.value})).join(""):t},t.prototype.$log=function(t){var e=t?Dt(this._data,t):this._data;if(e&&(e=n(e)),!t){var i;for(i in this.$options.computed)e[i]=n(this[i]);if(this._props)for(i in this._props)e[i]=n(this[i])}console.log(e)}}(Ge),function(t){function e(t,e,i,o,s,r){var a=!G(e=n(e)),l=!1===o||a?s:r,c=!a&&!t._isAttached&&!G(t.$el);return t._isFragment?(_t(t._fragmentStart,t._fragmentEnd,(function(n){l(n,e,t)})),i&&i()):l(t.$el,e,t,i),c&&t._callHook("attached"),t}function n(t){return"string"==typeof t?document.querySelector(t):t}function i(t,e,n,i){e.appendChild(t),i&&i()}function o(t,e,n,i){Y(t,e),i&&i()}function s(t,e,n){tt(t),n&&n()}t.prototype.$nextTick=function(t){vn(t,this)},t.prototype.$appendTo=function(t,n,o){return e(this,t,n,o,i,B)},t.prototype.$prependTo=function(t,e,i){return(t=n(t)).hasChildNodes()?this.$before(t.firstChild,e,i):this.$appendTo(t,e,i),this},t.prototype.$before=function(t,n,i){return e(this,t,n,i,o,V)},t.prototype.$after=function(t,e,i){return(t=n(t)).nextSibling?this.$before(t.nextSibling,e,i):this.$appendTo(t.parentNode,e,i),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var n=this._isAttached&&G(this.$el);n||(e=!1);var i=this,o=function(){n&&i._callHook("detached"),t&&t()};this._isFragment?gt(this._fragmentStart,this._fragmentEnd,this,this._fragment,o):(!1===e?s:q)(this.$el,this,o);return this}}(Ge),function(t){function e(t,e,i){var o=t.$parent;if(o&&i&&!n.test(e))for(;o;)o._eventsCount[e]=(o._eventsCount[e]||0)+i,o=o.$parent}t.prototype.$on=function(t,n){return(this._events[t]||(this._events[t]=[])).push(n),e(this,t,1),this},t.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(this,arguments)}var i=this;return n.fn=e,this.$on(t,n),this},t.prototype.$off=function(t,n){var i;if(!arguments.length){if(this.$parent)for(t in this._events)(i=this._events[t])&&e(this,t,-i.length);return this._events={},this}if(!(i=this._events[t]))return this;if(1===arguments.length)return e(this,t,-i.length),this._events[t]=null,this;for(var o,s=i.length;s--;)if((o=i[s])===n||o.fn===n){e(this,t,-1),i.splice(s,1);break}return this},t.prototype.$emit=function(t){var e="string"==typeof t;t=e?t:t.name;var n=this._events[t],i=e||!n;if(n){n=n.length>1?h(n):n;var o=e&&n.some((function(t){return t._fromParent}));o&&(i=!1);for(var s=h(arguments,1),r=0,a=n.length;r<a;r++){var l=n[r];!0!==l.apply(this,s)||o&&!l._fromParent||(i=!0)}}return i},t.prototype.$broadcast=function(t){var e="string"==typeof t;if(t=e?t:t.name,this._eventsCount[t]){var n=this.$children,i=h(arguments);e&&(i[0]={name:t,source:this});for(var o=0,s=n.length;o<s;o++){var r=n[o];r.$emit.apply(r,i)&&r.$broadcast.apply(r,i)}return this}},t.prototype.$dispatch=function(t){var e=this.$emit.apply(this,arguments);if(e){var n=this.$parent,i=h(arguments);for(i[0]={name:t,source:this};n;)e=n.$emit.apply(n,i),n=e?n.$parent:null;return this}};var n=/^hook:/}(Ge),function(t){function e(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}t.prototype.$mount=function(t){if(!this._isCompiled)return(t=W(t))||(t=document.createElement("div")),this._compile(t),this._initDOMHooks(),G(this.$el)?(this._callHook("attached"),e.call(this)):this.$once("hook:attached",e),this},t.prototype.$destroy=function(t,e){this._destroy(t,e)},t.prototype.$compile=function(t,e,n,i){return $e(t,this.$options,!0)(this,t,e,n,i)}}(Ge);var es={priority:2300,params:["name"],bind:function(){var t=this.params.name||"default",e=this.vm._slotContents&&this.vm._slotContents[t];e&&e.hasChildNodes()?this.compile(e.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(t,e,n){if(t&&e){if(this.el.hasChildNodes()&&1===t.childNodes.length&&1===t.childNodes[0].nodeType&&t.childNodes[0].hasAttribute("v-if")){var i=document.createElement("template");i.setAttribute("v-else",""),i.innerHTML=this.el.innerHTML,i._context=this.vm,t.appendChild(i)}var o=n?n._scope:this._scope;this.unlink=e.$compile(t,n,o,this._frag)}t?nt(this.el,t):tt(this.el)},fallback:function(){this.compile(ct(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},ns={priority:1750,params:["name"],paramWatchers:{name:function(t){eo.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=pt("v-partial"),nt(this.el,this.anchor),this.insert(this.params.name)},insert:function(t){var e=Ft(this.vm.$options,"partials",t);e&&(this.factory=new ce(this.vm,e),eo.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},is={slot:es,partial:ns},os=to._postProcess,ss=/(\d{3})(?=\d)/g,rs={orderBy:function(t){function e(t,e,n){var o=i[n];return o&&("$key"!==o&&(g(t)&&"$value"in t&&(t=t.$value),g(e)&&"$value"in e&&(e=e.$value)),t=g(t)?Dt(t,o):t,e=g(e)?Dt(e,o):e),t===e?0:t>e?s:-s}var n=null,i=void 0;t=os(t);var o=h(arguments,1),s=o[o.length-1];"number"==typeof s?(s=s<0?-1:1,o=o.length>1?o.slice(0,-1):o):s=1;var r=o[0];return r?("function"==typeof r?n=function(t,e){return r(t,e)*s}:(i=Array.prototype.concat.apply([],o),n=function(t,o,s){return(s=s||0)>=i.length-1?e(t,o,s):e(t,o,s)||n(t,o,s+1)}),t.slice().sort(n)):t},filterBy:function(t,e,n){if(t=os(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var i,o,s,r,a="in"===n?3:2,l=Array.prototype.concat.apply([],h(arguments,a)),c=[],d=0,u=t.length;d<u;d++)if(s=(i=t[d])&&i.$value||i,r=l.length){for(;r--;)if("$key"===(o=l[r])&&Je(i.$key,e)||Je(Dt(s,o),e)){c.push(i);break}}else Je(i,e)&&c.push(i);return c},limitBy:function(t,e,n){return n=n?parseInt(n,10):0,"number"==typeof(e=r(e))?t.slice(n,n+e):t},json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,arguments.length>1?e:2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var i=Math.abs(t).toFixed(n),o=n?i.slice(0,-1-n):i,s=o.length%3,r=s>0?o.slice(0,s)+(o.length>3?",":""):"",a=n?i.slice(-1-n):"";return(t<0?"-":"")+e+r+o.slice(s).replace(ss,"$1,")+a},pluralize:function(t){var e=h(arguments,1),n=e.length;if(n>1){var i=t%10-1;return i in e?e[i]:e[n-1]}return e[0]+(1===t?"":"s")},debounce:function(t,e){if(t)return e||(e=300),v(t,e)}};return function(n){n.options={directives:Fo,elementDirectives:is,filters:rs,transitions:{},components:{},partials:{},replace:!0},n.util=li,n.config=Zn,n.set=t,n.delete=e,n.nextTick=vn,n.compiler=Yo,n.FragmentFactory=ce,n.internalDirectives=Bo,n.parsers={path:wi,text:Wn,template:Zi,directive:In,expression:ji},n.cid=0;var i=1;n.extend=function(t){t=t||{};var e=this,n=0===e.cid;if(n&&t._Ctor)return t._Ctor;var o=t.name||e.options.name,s=function(t){return new Function("return function "+f(t)+" (options) { this._init(options) }")()}(o||"VueComponent");return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.cid=i++,s.options=Xt(e.options,t),s.super=e,s.extend=e.extend,Zn._assetTypes.forEach((function(t){s[t]=e[t]})),o&&(s.options.components[o]=s),n&&(t._Ctor=s),s},n.use=function(t){if(!t.installed){var e=h(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},n.mixin=function(t){n.options=Xt(n.options,t)},Zn._assetTypes.forEach((function(t){n[t]=function(e,i){return i?("component"===t&&b(i)&&(i.name||(i.name=e),i=n.extend(i)),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})),_(n.transition,Kn)}(Ge),Ge.version="1.0.28",setTimeout((function(){Zn.devtools&&an&&an.emit("init",Ge)}),0),Ge})),Vue.directive("tooltip",(function(t){this.el.setAttribute("data-hover","tooltip"),t?(t.content&&(this.el.setAttribute("title",t.content),this.el.setAttribute("data-tooltip-content",t.content)),t.uri&&this.el.setAttribute("data-tooltip-uri",t.uri),this.el.setAttribute("data-tooltip-delay",void 0!==t.delay?t.delay:1*X.seconds),t.position&&this.el.setAttribute("data-tooltip-position",t.position),t.align&&this.el.setAttribute("data-tooltip-alignh",t.align),t.icon&&(this.el.className="sfx-help-icon",this.el.setAttribute("data-tooltip-delay",1))):(this.el.setAttribute("data-tooltip-content",this.expression),this.el.setAttribute("title",this.expression),null==this.el.getAttribute("data-tooltip-delay")&&this.el.setAttribute("data-tooltip-delay","1000"))})),Vue.filter("highlight",(function(t,e){if(!e)return null==t?"":t.toString();var n=new RegExp(e,"ig");return t.toString().replace(n,(function(t){return"<span class='sfx_highlight'>"+t+"</span>"}))})),Vue.filter("date",(function(t){return new Date(t).toString().replace(/\s*GMT.*/,"")})),Vue.filter("ago",(function(t){return X.ago(t)})),Vue.filter("json+",{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,arguments.length>1?e:2)},write:function(t){try{return JSON.parse(t)}catch(t){return{}}}}),Vue.component("sfx-checkbox",{template:'<span><input id="sfx-cb-{{key}}" type="checkbox" v-on:click="click"/><label for="sfx-cb-{{key}}"></label></span>',props:["key"],activate:function(t){this.$cb=X(this.$el.firstChild),this.$cb.prop("checked",FX.option(this.key)),t()},methods:{click:function(){this.$cb.addClass("sfx_saving"),FX.option(this.key,this.$cb.prop("checked"),!0,(function(){this.$cb.removeClass("sfx_saving")}))}}});const t=function(t,e,n,i,o,s){var r=document.createDocumentFragment(),a=function(){},l=new Vue(X.extend({el:r,template:e,data:n,methods:i,computed:o,replace:!1,ready:function(){a(l)}},s));t&&l.$appendTo(t);var c={$view:l,fragment:r,ready:function(t){return l._isReady?t():a=t,c}};return c};var FX=function(){var t=[],e=[],n=[],i=[],o=[],s=[],r=function(t,e,n){t&&t.length&&(t.forEach((function(t){try{t(n)}catch(t){console.log(t),console.log(t.toString()),console.log(t.stack)}})),e&&(t.length=0))},a=!1,l=function(){a||(a=!0,r(n),a=!1,r(e))};X.inject((function(){var t=function(t){var e=history[t];return function(n,i,o){var s=o&&o!=location.href&&!/theater/.test(o),r=e.apply(this,arguments);if(s){var a=new Event(t);a.arguments=arguments,window.dispatchEvent(a)}return r}};window.history.pushState=t("pushState"),window.history.replaceState=t("replaceState")})),window.addEventListener("pushState",l,!1),window.addEventListener("replaceState",l,!1),window.addEventListener("hashchange",l,!1),window.addEventListener("popstate",l,!1);var c={css:function(e){t.push(e)},css_dump:function(){if(0!=t.length){var e=t.join("");X.css(e,"sfx_css")}},options:{},is_options_loaded:!1,add_option:function(t,e){(e=e||{}).key=t,e.type=e.type||"checkbox",void 0===e.default&&"checkbox"==e.type&&(e.default=!1),this.options[t]=e,"function"==typeof e.live&&c.on_option_live(t,e.live)},option_default:function(t){var e=c.options[t];return void 0!==e&&void 0!==e.default?e.default:null},option:function(t,e,n,i){return void 0!==e?(X.storage.set("options",t,e,(function(){c.fire_option_update(t,e),"function"==typeof i&&i()}),n),e):void 0!==X.storage.data.options&&void 0!==X.storage.data.options[t]?X.storage.data.options[t]:c.option_default(t)},attach_options:function(t){(t=X(t)).probe("*[sfx-option]").each((function(t,e){var n=X(e);if(!n.attr("sfx-option-attached")){var i=e.type,o=n.attr("sfx-option");if(o&&c.options[o]){var s=c.option(o);n.attr("sfx-option-attached","true"),"checkbox"==i?(s&&(e.checked=!0),n.click((function(){s=!s,c.option(o,s)}))):"number"==i?(s&&(e.value=s),n.change((function(){c.option(o,e.value)}))):alert("FX.attach_options - Unhandled input type "+i)}}}))},save_options:function(t){X.storage.save("options",null,t)},options_loaded:function(t){r(o,!1,t),c.css_dump(),c.html_class_dump(),c.is_options_loaded=!0},on_options_load:function(t){c.is_options_loaded?t():o.push(t)},on_option:function(t,e,n){"function"==typeof e&&(n=e,e=!0),c.on_options_load((function(){c.option(t)==e&&n(c.option(t))}))}},d={};c.on_option_update=function(t,e){void 0===d[t]&&(d[t]=[]),d[t].push(e)},c.fire_option_update=function(t,e){var n=d[t];void 0!==n&&n.forEach((function(n){n(e,t)}))},c.on_option_live=function(t,e){if(Array.isArray(t))return t.forEach((t=>c.on_option_live(t,e)));c.on_option_update(t,e),c.fire_option_update(t,c.option(t))},c.storage=function(t){return X.storage.data[t]},c.add_html_class=function(t){s.push(t),X.is_document_ready()&&c.html_class_dump()},c.html_class_dump=function(){if(s.length>0){var t=document.getElementsByTagName("HTML")[0];t.className=(t.className?t.className:"")+" "+s.join(" "),s.length=0}},c.on_page_load=function(t){e.push(t)},c.on_page_unload=function(t){n.push(t)},c.on_content_loaded=function(t,e){c.dom_content_loaded?t():e?i.unshift(t):i.push(t)},c.dom_content_loaded=!1,c.fire_content_loaded=function(){var t=function(){c.dom_content_loaded=!0,c.html_class_dump(),r(i,!0),r(e),c.html_class_dump()};X.is_document_ready()?t():window.addEventListener("DOMContentLoaded",(function(){t()}),{capture:!1,once:!0})},c.domNodeInsertedHandlers=[],c.domNodeRemovedHandlers=[],c.on_content_inserted=t=>c.domNodeInsertedHandlers.push(t),c.on_content_removed=t=>c.domNodeRemovedHandlers.push(t),c.on_content=function(t){c.on_content_inserted(t),c.on_content_loaded((function(){t(X(document.body))}))},c.on_selector=function(t,e){c.on_content((function(n){n.probe(t).forEach((function(t){e(X(t))}))}))},c.oneLineLtrim=function(t){return t.replace(/[\n\r]+\s*/g,"")},c.sfx_support_groups=["SocialFixerUserSupport","412712822130938","SocialFixerUsersSupport","413697228741798","327097871787555"],c.context={type:null,id:null},c.on_page_load((function(){if(!c.option("disabled")){var t=function(){X(document.documentElement).attr({sfx_url:window.location.pathname,sfx_context_type:c.context.type,sfx_context_id:c.context.id,sfx_context_permalink:c.context.permalink}),X.support_note("sfx_context",`{ url: ${window.location.pathname}, type: ${c.context.type}, id: ${c.context.id}, permalink: ${c.context.permalink} }`),"groups"==c.context.type&&c.sfx_support_groups.includes(c.context.id)&&X("html").addClass("sfx_support_group")},e=window.location.pathname.replace(/^\/+|\/+$/g,"").split("/");if(e&&e[0]&&"home.php"!=e[0])if("marketplace"==e[0])c.context.type=e[0],c.context.id="category"==e[1]?e[2]:e[1];else if("messages"==e[0])c.context.type="messages",c.context.id="t"==e[1]?e[2]:null;else if(/messenger\.com$/.test(window.location.hostname))c.context.type="messages",c.context.id="t"==e[0]?e[1]:null;else if(1==e.length||"posts"==e[1])c.context.type="profile",c.context.id=e[0];else if("pg"==e[0]&&"posts"==e[2])c.context.type="profile",c.context.id=e[1];else if("groups"==e[0]){if(c.context.type="groups",c.context.id=e[1],/^\d+$/.test(c.context.id)){var n=X('a._5pcq[href^="/groups/"]').attr("href");n?c.context.id=n.split("/")[2]:setTimeout((function(){var e=X('a._5pcq[href^="/groups/"]').attr("href");e&&(c.context.id=e.split("/")[2],t())}),2*X.seconds)}}else c.context.type=e[0],c.context.id=e[1];else c.context.type="newsfeed",c.context.id=null;var i=window.location.search.replace(/^\?/,"");c.context.permalink="posts"==e[1]&&/^\d/.test(e[2])||"posts"==e[1]&&/^pfbid0/.test(e[2])||"permalink.php"==e[0]||/notif_id=/.test(i)||"groups"==e[0]&&(/view=permalink/.test(i)||/multi_permalinks=/.test(i)||"posts"==e[2]||"permalink"==e[2]),t(),X.publish("context/ready"),X.subscribe("context/changed",t)}})),c.reflow=function(t){t&&window.scrollTo(0,3)},c.mutations_disabled=!1,c.disable_mutations=function(){c.mutations_disabled=!0},c.enable_mutations=function(){c.mutations_disabled=!1};const u=/^(?:SCRIPT|LINK|INPUT|BR|STYLE|META|IFRAME|AUDIO|EMBED)$/i,f=/tooltipText/i,p=/none_to_ignore_right_now/,h=/sfx[-_]/,_=/sfx[-_]/,g=t=>1!=t.nodeType||u.test(t.tagName)||f.test(t.className)||t.parentNode&&p.test(t.parentNode.className),b=g,m=t=>(t=>g(t)||h.test(t.id)||_.test(t.className))(t)||c.domNodeInsertedHandlers.some((e=>e(X(t)))),v=t=>b(t)||c.domNodeRemovedHandlers.some((e=>e(X(t)))),x=t=>c.mutations_disabled||t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach(m),"childList"===t.type&&t.removedNodes.forEach(v)}));return X((()=>new MutationObserver(x).observe(document.body,{childList:!0,subtree:!0}))),c}();const e={version:"31.1.0",buildtype:"userscript",releasetype:"",userscript_agent:void 0,user_agent:"Browser: "+navigator.userAgent,instance:"sfx_"+((1+Math.random())*36**6).toString(36).replace(/^1|\..*/g,"")};e.badge_sel="[id=sfx_badge]."+e.instance;const n="undefined"!=typeof GM?GM.info:"undefined"!=typeof GM_info?GM_info:null;"userscript"==e.buildtype&&(e.userscript_agent=n?(n.scriptHandler||"Greasemonkey")+" v:"+(n.version||"unknown"):"unknown-userscript-manager v:unknown",n&&n.script&&n.script.version&&(e.version=n.script.version)),e.releasetype&&(e.version=`${e.releasetype} ${e.version}`),!e.extension_id&&"undefined"!=typeof browser&&browser.runtime&&(e.extension_id=browser.runtime.id),!e.extension_id&&"undefined"!=typeof chrome&&chrome.runtime&&(e.extension_id=chrome.runtime.id),[["betterfacebook@mattkruse.com","Firefox","Firefox Browser Add-ons"],["d63d1fd3ea8a01224c4baf7c2ce65d59","Firefox","Firefox Browser Add-ons via Orion Browser"],["bhaooomeolkdacolgpkfbfookhomkbei","Edge","Microsoft Edge Add-ons"],["gbhlbkifncomjccjcdjokniojhnojmcn","Chrome (beta build)","Google Chrome Web Store (beta)"],["ifmhoabcaeehkljcfclfiieohkohdgbb","Chrome","Google Chrome Web Store"],["inficfabgpfjiegjgnhmjdagmhlmakoo","Opera","Opera addons"],["safari","Safari","Mac App Store"],["userscript","Userscript",e.userscript_agent],["default","Unknown",`${e.extension_id} from an unknown source`]].find((t=>{if(e.extension_id==t[0]||e.buildtype==t[0]||"default"==t[0])return e.extension_build_target=t[1],e.extension_store_name=t[2],"Userscript"==t[1]&&(e.extension_id=n&&n.script?n.script.name:"Unknown"),!0})),e.buildstr=`${e.version} (${e.buildtype}, ${e.extension_store_name})`,e.is_sfx_element=t=>(t=X(t)[0])&&(/^sfx_/.test(t.id)||Array.from(t.classList).some((t=>/^sfx_/.test(t)))),e.Ctrl=/Macintosh|Mac OS X/.test(e.user_agent)?"Command":"Ctrl","userscript"!==e.buildtype&&"undefined"!=typeof chrome&&chrome.runtime&&"function"==typeof chrome.runtime.sendMessage?e.ajax_cor=function(t,e){const n={method:t.method||"GET",timeout:t.timeout||5*X.seconds,url:t.url||t};if(!n.url)return alert("Invalid parameter passed to ajax_cor"),e(null);chrome.runtime.sendMessage({sfx:!0,call:"ajax_cor",request:n},(function(t){const n={},i=t.xhr||{};if("load"!=t.type)return e(t.type,i.status,n);i.responseHeaders&&i.responseHeaders.split(/\r?\n/).forEach((function(t){const e=t.split(/\s*:\s*/,2);n[e[0].toLowerCase()]=e[1]})),e(i.responseText,i.status,n)}))}:e.ajax_cor=(t,e)=>e("no background script, use X.ajax()",t),e.fref=function(t,e){for(var n of Object.keys(t||{}))if(e.test(n))return t[n];return{}},e.frefargs=(...t)=>t.flat(1/0).map((t=>t instanceof RegExp?t:t.split(",").map((t=>new RegExp(t))))).flat(1/0),e.frefpath=(t,...n)=>e.frefargs(n).reduce(((t,n)=>e.fref(t,n)),t),e.data_equals=function(t,n){return t===n||null!==t&&null!==n&&"object"==typeof t&&"object"==typeof n&&Object.keys(t).length==Object.keys(n).length&&Object.keys(t).every((i=>e.data_equals(t[i],n[i])))},e.pushy=(t,e)=>(e&&!t.includes(e)&&t.push(e),t),e.bound=(t,e,n,i)=>("string"==typeof t&&/^\d/.test(t)&&(t=Number(t)),Number.isFinite(t)?t<e?e:t>n?n:t:i),e.port=t=>Object.assign(e,t),e.dbg={},e.pose=t=>Object.assign(e.dbg,t),e.pose({X:X,FX:FX,SFX:e}),X.ready("xpose_dbg",(function(){FX.on_option_live("xpose_dbg",(function(t){if(!t)return;let n={X:X,FX:FX,SFX:e,SFX_dbg:e.dbg},i=window.unsafeWindow||window.globalThis||window;console.log("Social Fixer debug data",n),Object.assign(i,n)}))})),X.subscribe("sfx/debug",((t,e)=>FX.option("xpose_dbg","boolean"==typeof e.on?e.on:!FX.option("xpose_dbg")))),X.ready("aargh_fb_gibberish",(function(){e.gib={alinc_flst:{css:"align-content:flex-start"},alini_cent:{css:"align-items:center"},alini_fxnd:{css:"align-items:flex-end"},alini_stre:{css:"align-items:stretch"},alisl_cent:{css:"align-self:center"},bb_1pxdiv:{css:"border-bottom:1px solid var(--divider)"},bb_bt2:{css:"border-bottom:1px solid var(--secondary-button-background)"},bbcol_div:{css:"border-bottom-color:var(--divider)"},bb_dark:{css:"border-bottom-color:var(--always-dark-overlay)"},bbl_rad0:{css:"border-bottom-left-radius:0px"},bbl_rad10:{css:"border-bottom-left-radius:10px"},bbl_rad50:{css:"border-bottom-left-radius:50%"},bbl_radcrd:{css:"border-bottom-left-radius:var(--card-corner-radius)"},bg_accent:{css:"background-color:var(--accent)"},bg_bt2:{css:"background-color:var(--secondary-button-background)"},bg_card:{css:"background-color:var(--card-background)"},bg_cbg:{css:"background-color:var(--comment-background)"},bg_hilit:{css:"background-color:var(--highlight-bg)"},bg_surf:{css:"background-color:var(--surface-background)"},bg_trans:{css:"background-color:transparent"},bot_0:{css:"bottom:0px"},bt_divid:{css:"border-top:1px solid var(--divider)"},btl_rad0:{css:"border-top-left-radius:0px"},bxs_bbox:{css:"box-sizing:border-box"},ch1_none:{css:"display:none",pseudo:":first-child"},col_acc:{css:"color:var(--accent)"},col_bt1:{css:"color:var(--primary-button-text)"},col_btdis:{css:"color:var(--disabled-button-text)"},col_tx1:{css:"color:var(--primary-text)"},col_tx1med:{css:"color:var(--primary-text-on-media)"},col_tx2:{css:"color:var(--secondary-text)"},curs_def:{css:"cursor:default"},curs_not:{css:"cursor:not-allowed"},disp_blok:{css:"display:block"},disp_cont:{css:"display:contents"},disp_flex:{css:"display:flex"},disp_infl:{css:"display:inline-flex"},disp_inlb:{css:"display:inline-block"},disp_inl:{css:"display:inline"},disp_none:{css:"display:none"},empty_none:{css:"display:none",pseudo:":empty"},en_nozi:{css:"z-index:unset",prefix:"\\.GIB:not\\(\\[disabled]\\) +"},fcs_col_ph:{css:"color:var(--placeholder-text)",pseudo:":focus"},ffam_def:{css:"font-family:var(--font-family-default)"},fhd_wide:{css:"max-width:none",media:"max-width:1920px"},flbs_100:{css:"flex-basis:100%"},flbs_inh:{css:"flex-basis:inherit"},fldr_col:{css:"flex-direction:column"},fldr_row:{css:"flex-direction:row"},fldr_rrow:{css:"flex-direction:row-reverse"},flex_0px:{css:"flex-basis:0px"},flex_shr1:{css:"flex-shrink:1"},flex_wrap:{css:"flex-wrap:wrap"},flgr_1:{css:"flex-grow:1"},flsh_0:{css:"flex-shrink:0"},flwr_no:{css:"flex-wrap:nowrap"},font_400:{css:"font-weight:400"},font_600:{css:"font-weight:600"},font_700:{css:"font-weight:700"},font_bold:{css:"font-weight:bold"},hei_100:{css:"height:100%"},hei_100_hh:{css:"height:calc(100vh\\s*-\\s*var(--header-height))"},hei_1:{css:"height:1px"},hei_inh:{css:"height:inherit"},just_cent:{css:"justify-content:center"},just_flst:{css:"justify-content:flex-start"},just_spbt:{css:"justify-content:space-between"},left_0:{css:"left:0px"},list_none:{css:"list-style:none"},mb_0:{css:"margin-bottom:0px"},mb_6:{css:"margin-bottom:6px"},mr_auto:{css:"margin-right:auto"},mw_100:{css:"max-width:100%"},oflx_hid:{css:"overflow-x:hidden"},opac_0:{css:"opacity:0"},opac_1:{css:"opacity:1"},oscrx_cont:{css:"overscroll-behavior-x:contain"},oscry_cont:{css:"overscroll-behavior-y:contain"},outl_none:{css:"outline:none"},ovfa_n:{css:"overflow-anchor:none"},ow_bw:{css:"overflow-wrap:break-word"},padb_12:{css:"padding-bottom:12px"},padl_16:{css:"padding-left:16px"},padt_16:{css:"padding-top:16px"},pos_abs:{css:"position:absolute"},pos_fix:{css:"position:fixed"},pos_rel:{css:"position:relative"},pos_stk:{css:"position:sticky"},ryt_0:{css:"right:0px"},snap_st:{css:"scroll-snap-align:start"},top_0:{css:"top:0px"},top_hdrh:{css:"top:var(--header-height)"},touch_man:{css:"touch-action:manipulation"},trans_n:{css:"transform:none",pseudo:":active"},ttf_eei:{css:"transition-timing-function:var(--fds-animation-enter-exit-in)"},txal_cent:{css:"text-align:center"},txal_left:{css:"text-align:left"},txtr_lower:{css:"text-transform:lowercase"},va_bot:{css:"vertical-align:bottom"},va_mid:{css:"vertical-align:middle"},vis_vis:{css:"visibility:visible"},wid_100:{css:"width:100%"},wid_1:{css:"width:1px"},wid_fit:{css:"width:fit-content"},wid_panel:{css:"width:var(--global-panel-width)"},wsp_pre:{css:"white-space:pre-wrap"},zi_0:{css:"z-index:0"},zi_1:{css:"z-index:1"},zi_2:{css:"z-index:2"}};const t=X.logger("fb_gibberish");e.gib_make_regexes=function(){t("make_regexes start"),Object.values(e.gib).forEach((function(t){let e=t.prefix?t.prefix.replace(/GIB/g,"[a-z0-9]{6,8}"):"",n=t.pseudo||"",i=t.css.replace(/:/,": *").replace(/\(/g,"\\(").replace(/\)/g,"\\)"),o=t.media?"\\.([a-z0-9]{6,8})\\.\\1":"\\.([a-z0-9]{6,8})";t.re=new RegExp(`^${e}${o}${n} *{ *${i}[ ;]*}`),t.media_re=t.media?new RegExp(t.media.replace(/:/g,": *")):/^$/})),t("make_regexes end")},e.gib_find_rule=function(t,e,n){if(t.media_re.test(e)&&t.re.test(n)){let e=RegExp.$1;if(t.gib&&t.gib!=e){let n=X("."+e).length+1,i=t.count||X("."+t.gib).length;t.gib=n>i?e:t.gib,t.count=Math.max(n,i)}else t.gib=e}};const n=t=>t.replace(/^.*\/|\?.*$/g,"");e.gib_find_all=function(i=e.gib){t(`find_all start (n = ${Object.keys(i).length})`);for(let o=0;o<document.styleSheets.length;++o){const s=document.styleSheets[o];try{for(const t of s.cssRules){let n=t instanceof CSSMediaRule?Array.from(t.media).join(","):"",o=t instanceof CSSMediaRule?Array.from(t.cssRules).map((t=>t.cssText)).join(" "):t.cssText;Object.values(i).forEach((t=>e.gib_find_rule(t,n,o)))}if(s.disabled&&s.ownerNode){const e=s.ownerNode.getAttribute("sfx_name");e&&t(`find_all stylesheet #${o} '${e}' ok`)}}catch(e){const i=s.href?` '${n(s.href)}'`:"";t(`find_all stylesheet #${o}${i} failed: ${e.toString()}`)}}t("find_all end")},e.gib_find_one=t=>e.gib_find_all([t]),e.gib_stylesheet_count=0,e.gib_stylesheet_filenames=[],e.gib_retrieve_stylesheet=i=>{const o=n(i);return e.gib_stylesheet_filenames.includes(o)?Promise.resolve(!0):(e.gib_stylesheet_filenames.push(o),t(`retrieve_stylesheet '${o}'`),new Promise((n=>{X.ajax(i,(i=>{let s="sfx_gib_stylesheet_"+e.gib_stylesheet_count++;X.css(i,s),X.when(`#${s}`,(function(e){e.attr("sfx_name",o);for(const e of document.styleSheets)e.ownerNode&&e.ownerNode.id==s&&(e.disabled=!0,t(`stylesheet '${o}' successfully retrieved`));n(!0)}))}))})))},e.gib_retrieve_stylesheets=function(){const t=[];for(const n of document.styleSheets)try{n.cssRules[0]}catch(i){n.href&&t.push(e.gib_retrieve_stylesheet(n.href))}return Promise.all(t)},e.gib_styles_fixed=!1,e.gib_fix_styles=function(){e.gib_styles_fixed||(e.gib_styles_fixed=!0,X("head style[id^=sfx_]").forEach((t=>{ocss=t.textContent,ncss=e.gib_convert(ocss),ncss!=ocss&&(t.textContent=ncss)})))};let i="",o=.5;e.gib_verify=function(){let n=Object.keys(e.gib).length,s=Object.values(e.gib).reduce(((t,e)=>t+!!e.gib),0),r=Object.values(e.gib).reduce(((t,e)=>t+!!document.querySelector(`.${e.gib}`)),0);X.support_note("fb_gibberish",`gibs to find: ${n}; found: ${s}; inuse: ${r}${i}`),t(`verify ${n}:${s}:${r}${i}`),o<10&&(s<n/3||r<n/10)?(setTimeout((()=>e.gib_retrieve_stylesheets().then((()=>{s<n&&e.gib_find_all(),e.gib_verify()}))),o*X.seconds),o*=2):e.gib_fix_styles(),i=` (retry, previously ${n}:${s}:${r})`},e.gib_make_regexes(),e.gib_retrieve_stylesheets().then((()=>{e.gib_find_all(),e.gib_verify()})),e.gib_missing=[],e.gib_replace=function(n,i,o,s){if(i in e.gib&&e.gib[i].gib)return e.gib[i].gib;if(i in e.gib){if(t(`replace retrying '${i}'`),e.gib_retrieve_stylesheets(),e.gib_find_one(e.gib[i]),e.gib[i].gib)return e.gib_verify(),t(`replace succeeded '${i}'`),e.gib[i].gib;t(`replace failed '${i}'`),e.gib[i].gib=n}return e.gib_missing[i]||(e.gib_missing[i]={}),e.gib_missing[i][s]=(e.gib_missing[i][s]||0)+1,n},e.gib_convert=t=>t.replace(/S2F_([a-z0-9_]*)/g,e.gib_replace)})),FX.add_option("run_on_apps",{title:"Run On Apps and Games Pages",description:"Run Social Fixer on apps and games pages from apps.facebook.com.",default:!0}),X.beforeReady((function(t){if(/apps.facebook.com/.test(location.href))return!!t&&FX.option("run_on_apps")}));var bubble_note_anon_count=0;const i=function(t,e){(e=e||{}).position=e.position||"top_right","boolean"!=typeof e.close&&(e.close=!1),"boolean"!=typeof e.draggable&&(e.draggable=!0),e.id&&X(`[id=${e.id}]`).remove();const n='id="'+(e.id||"sfx_bubble_note_"+ ++bubble_note_anon_count)+'"',i=e.style?` style="${e.style}"`:"",o=` class="sfx_bubble_note sfx_bubble_note_${e.position}`+(e.no_esc?" sfx_bubble_note_no_esc":"")+(e.className?` ${e.className}`:"")+'"',s=X(`<div ${n}${i}${o}>`+(e.close?'<div class="sfx_sticky_note_close"></div>':"")+(e.title?`<div class="sfx_bubble_note_title">${e.title}</div>`:""));return s.append("string"==typeof t?`<div class="sfx_bubble_note_content">${t}</div>`:t),s.find(".sfx_sticky_note_close, .sfx_button_close").click((function(){"function"==typeof e.callback&&e.callback(s),s.remove()})),FX.on_content_loaded((function(){X(document.body).append(s),e.draggable&&(s.children().attr("draggable","false"),X.draggable(s[0]))})),s};X.subscribe("esc/pressed",(()=>{const t=X(".sfx_bubble_note:not(.sfx_bubble_note_no_esc)");t.length&&(X.publish("esc/prevent"),t.remove())}));const o=function(t,e,n){n=n||{},X.storage.get("messages",{},(function(o){if(void 0===o[t])return e+=FX.oneLineLtrim('\n                <div style="margin:15px 0 15px 0;"><input type="checkbox" class="sfx_dont_show" checked> Don\'t show this message again</div>\n                <div><input type="button" class="sfx_button sfx_button_close" value="OK, Got It"></div>\n            '),n.close=!0,n.id="sfx_content_message_"+t,n.title=`<div class="sfx_info_icon">i</div>${n.title}`,n.style="padding-left:35px;",n.callback=function(e){e.find(".sfx_dont_show").prop("checked")&&X.storage.set("messages",t,X.now(),(function(){}))},i(e,n)}),!0)};X.ready("comment_button",(function(){var n="Fix Enter In Comments, Replies & Chat";FX.add_option("comment_button",{title:n,order:1,description:"Use Enter to add a new line instead of submitting comments & replies.",default:!1,live:o}),FX.add_option("comment_button_msgs",{title:n,order:2,description:"Use Enter to add a new line instead of submitting chat / messages.",default:!1,live:o}),FX.add_option("comment_button_ctrl",{title:n,order:3,description:"Use Ctrl+Enter to submit comments, replies & chat / messages.",default:!1,live:o}),FX.add_option("comment_button_emergency",{title:n,order:4,description:"Use alternate method (no Submit buttons; Ctrl+Enter submits).",default:!1,live:o}),FX.add_option("comment_button_hint",{hidden:!0,default:!0});var i=!1;function o(){i=!1}FX.on_options_load((function(){var o=!1,s=0,r=function(t,e,n){var r=s;setTimeout((function(){if(!(s>r)){i=!0,b();var t=FX.option("comment_button_emergency")?"disable all 'Fix Enter' options":"enable the 'Use alternate method' option",e=FX.option("comment_button_emergency")?"For now, 'Enter' submits and 'Shift+Enter' makes new lines\n(Facebook's normal behavior)":"Enter will add new lines, Ctrl+Enter will submit,\nbut there will be no visible comment/reply Submit button";setTimeout((function(){alert(`Message from Social Fixer: it looks like 'Fix Enter' is failing.\n\nPlease ${t}, and watch\nthe Support group, socialfixer.com/support, for announcements.\n\nNo need to report it, you won't be the first.\n\n${e}.`.replace(/\n/g," \n"))})),X.support_note("comment_button","failing")}}),250),o=!0,e[0].dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,charCode:0,code:"Enter",key:"Enter",keyCode:13,shiftKey:n,which:13})),o=!1,t.preventDefault(),t.stopPropagation()};const a=[".S2F_outl_none.S2F_disp_flex"].join(","),l=["[id*=placeholder]","[aria-describedby*=placeholder]",".S2F_font_400.S2F_fcs_col_ph",".S2F_pos_abs.S2F_col_tx2"].join(","),c=["[role=button][aria-label].S2F_bg_bt2.S2F_bbl_rad50"].join(","),d=function(t){const e=t.closest(a);return 0!=e.find(l).length&&0==e.find(c).length},u=[".S2F_pos_abs ~ * .S2F_col_tx1"].join(","),f=["[role=dialog] form *"].join(","),p=["[role=presentation] *"].join(","),h=["[sfx_post] [role=presentation] *","[role=complementary] [role=presentation] *"].join(","),_=function(t){return t.is(f)&&!t.is(p)?"birthday":t.is(h)?"comment":t.is(u)&&Object.values(t.css(["word-wrap","word-break"])).includes("break-word")?"message":/events\/birthdays/.test(location.pathname)?"birthday":""};e.pose({input_field_source:_});const g=function(t,e){const n=X(`[sfx_comment_id="${t}"]`);(e||d(n))&&(n.unbind("focusout",m[t].remove_callback),n.removeAttr("sfx_comment_id"),X(`[id="sfx_comment_button_${t}"]`).remove(),delete m[t])},b=function(){Object.keys(m).forEach((t=>g(t,!0)))};var m={};e.pose({comment_button_data:m,remove_all_comment_buttons:b});var v={comment_button_options:function(){X.publish("menu/options",{highlight_title:n})},comment_button_hint_off:function(){X.storage.set("options","comment_button_hint",!1),X(".sfx_comment_button_hint").remove()},dispatch_enter_event:r},x=0;X.capture(window,"keydown",(function(e){if(i)return;if(o)return void s++;var n=X.target(e,!0);if(!n.is("[contenteditable=true][role=textbox]"))return;if(FX.option("comment_button_emergency"))return void(13==e.keyCode&&r(e,n,!e.ctrlKey));const a=_(n);if(!a)return;var l=n.attr("sfx_comment_id");if(!l){for(;X(`[sfx_comment_id="${x}"]`).length;)++x;l=x++,n.attr("sfx_comment_id",l),m[l]={comment_type:a,Xtarget:n}}const c=m[l];if(c){if(["comment_button","comment_button_ctrl","comment_button_hint","comment_button_msgs"].forEach((function(t){var e=FX.option(t);c[t]!=e&&(c[t]=e)})),"comment"==a||"birthday"==a){var u=9900+2*l;n[0].tabIndex=u;var f=n.closest("form").parent();const e="birthday"==a?"Birthday Post":f.closest("[sfx_post] li").length?"Reply":"Comment";f.find("[id^=sfx_comment_button_]").length||setTimeout((()=>{if(!f.find("[id^=sfx_comment_button_]").length&&!d(n)){var i=FX.oneLineLtrim(`\n                <div id="sfx_comment_button_${l}" class="sfx_clearfix">\n                  <input v-if="comment_button" class="sfx_comment_button" type="button" value="Submit ${e}" title="${c.comment_button_ctrl?"Click or press Ctrl+Enter to Submit":""}" style="cursor:pointer;" tabIndex="${9901+2*l}" @click="dispatch_enter_event($event, Xtarget, false)">\n                  <span v-if="!comment_button && comment_button_hint" class="sfx_comment_button_msg sfx_comment_button_hint">\n                    Social Fixer can prevent Enter from submitting comments & replies!<br>\n                    <a class="sfx_link" style="color:inherit;" @click="comment_button_options">\n                      'Fix Enter' Options\n                    </a>\n                    &nbsp;&nbsp;\n                    <a class="sfx_link" style="color:inherit;" @click="comment_button_hint_off">\n                      Don't show this\n                    </a>\n                  </span>\n                </div>\n              `);c.remove_callback=()=>setTimeout((()=>g(l)),.2*X.seconds),f.bind("focusout",c.remove_callback),t(f[0],i,c,v)}}),.05*X.seconds)}else"message"==a&&c.comment_button_msgs;13!=e.keyCode||"message"!=a&&!c.comment_button||"message"==a&&!c.comment_button_msgs||r(e,c.Xtarget,!(c.comment_button_ctrl&&(e.ctrlKey||e.metaKey)))}}))}))})),X.ready("comment_navigator_nl",(function(){const t="Comment Navigator";FX.add_option("navigator_order",{title:t,description:"Try to set comment order to (e.g. 'All' or 'New')",type:"text",default:""}),FX.add_option("navigator_watch",{title:t,description:"Follow Comment Navigator while expanding",default:!1}),FX.add_option("navigator_avoid",{title:t,description:"Words to avoid clicking",type:"text",default:"\\bhide\\b"}),FX.add_option("navigator_close_wait",{hidden:!0,default:15}),X.publish("post/action/add",{section:"wrench",label:"Expand Comments",order:10,message:"post/action/expand"}),X.subscribe("post/action/expand",((t,e)=>k(e.id)));const n=["[role=button][aria-expanded=false] > .S2F_font_400","[role=button][id] > .S2F_font_400"].join(","),o=["[role=button].S2F_disp_inl .S2F_alini_cent.S2F_va_mid"].join(","),s=["[role=button]"].join(","),r=["[role=menu] [role=menuitem] .S2F_col_tx1"].join(","),a=["[role=article]"].join(","),l=["[dir=auto] .S2F_col_tx1.S2F_font_600.S2F_touch_man[role=button]:not(.S2F_alini_stre)",":not(.S2F_left_0)+[role=button].S2F_col_tx2 > span > [dir]"].join(","),c=["h2 *","h3 *","h4 *","h5 *","strong *"].join(","),d=[".S2F_bg_bt2.S2F_bbl_rad50[role=button]"].join(","),u=["[aria-label][role=button]"].join(",");var f=1;const p={};e.pose({expand_comments_data:p});const h=function(t){"FINISH"!=t.state&&(t.state="FINISH",t.$note.remove(),t.$post.click(),delete p[t.serial])};X.subscribe("esc/pressed",(function(){Object.values(p).forEach((t=>{X.publish("esc/prevent"),"EXPAND"==t.state?(b(t,"TIMER","red"),g(t,"ESC pressed, stopping comment expansion")):h(t)}))}));X.subscribe_backlog("post/add",(function(t,e){e&&e.$post&&e.$post[0].getRootNode()==document&&Object.values(p).forEach((t=>{if(t.$post.attr("sfx_id")==e.sfx_id){if(t.popup_seen){var n=e.$post.find(d);return n.length||(n=e.$post.find(u)),void(n.length?(g(t,"Closing excess popup"),n.first().click()):(g(t,"CANNOT FIND CLOSE BOX of excess popup"),g(t,"You will have to close it manually")))}t.popup_seen=!0,t.popup_popped=!0,g(t,"Moving expansion to comments popup"),t.$orig_post=t.$post,t.$post=e.$post,t.dom_id=e.id,t.patience+=2,g(t,"Now expanding in the comments popup")}}))}));const _=t=>((performance.now()-t.start)/X.seconds).toFixed(3),g=function(t,e){e=e.replace(/[ ><\s]+/g," "),t.$log.scrollingAppend(`<br><span style="color:${t.color}">${_(t)} ${e}</span>`),X.publish("log/postdata",{id:t.dom_id,message:e})},b=function(t,e,n){e&&(t.state=e),n&&(t.color=n),t.comments=t.$post.find(a).length;const i=`${_(t)}s, ${t.clicks} clicks, ${t.comments} comments -- ${t.state}`;return t.$stats.text(i).css("color",t.color),i},m=function(t,e,n){const i=e.innerText,o=X(e);return FX.option("navigator_avoid")&&RegExp(FX.option("navigator_avoid"),"i").test(i)?(o.hasClass("sfx_click_avoided")||(o.addClass("sfx_click_avoided"),g(t,`Avoiding '${i}' as directed`)),!1):(!n&&i&&(n=`Clicking '${i}'`),g(t,n),o.click(),++t.clicks,b(t),!0)},v=async function(t,e,n,i){var o;do{if("EXPAND"!=t.state)return-1;if(o=n())return o;await X.sleep(.2),e-=.201}while(e>0);return!(o=n())&&i?(g(t,i),-1):o},x=async function(t){const e=t.$post.find(n);!t.comments&&e.length?(m(t,e[0],`Clicking '${e[0].innerText}' to expose post comments`),t.patience=1):g(t,"Comments are already visible")},y=async function(t){const e=t.patience+.1,n=FX.option("navigator_order").trim();if(!n)return g(t,"No specific comment order is requested");const i=new RegExp(n,"i");var a=[];if(t.patience=0,-1!=await v(t,e,(()=>(a=t.$post.find(o).closest(s)).length),"No comment order menu found"))if(a[0].innerText.match(i))g(t,`Order '${a[0].innerText}' already matches '${n}'`);else if(m(t,a[0],`Clicking order menu (currently '${a[0].innerText}')`)){var l=X([]);if(-1!=await v(t,.5,(()=>(l=X(r)).length))){var c=!1;l.each((function(){const e=this.innerText;if(e.match(i)){if(m(t,this,`Menu item '${e}' matches '${n}', clicking`))return c=!0,t.patience=2,!1}else g(t,`Menu item '${e}' does not match '${n}', skipping`);return!0})),c||m(t,a[0],"Clicking order menu to put it away")}}},w=async function(t){var e=1,n=0,i=!0;const o=[];for(var s,r=[];i&&"EXPAND"==t.state&&!t.popup_popped;){var a=t.patience;if(t.patience=0,i=0,-1==await v(t,e+a,(function(){return a=0,0==(s=t.$post.find(l).not(c)).length&&n>2?-1:s.length==r.length&&s.toArray().every(((t,e)=>t==r[e]))?0:(r=s,s.length)})))break;++n,b(t),g(t,`Cycle ${n+t.saved_cycles}, expanding: ${s.length} (${t.comments} comments visible)`);for(const e of s.toArray())if("EXPAND"==t.state&&e.getRootNode()==document&&m(t,e,"")){if(++i,X(e).addClass("sfx_clicked"),FX.option("navigator_watch")&&e.scrollIntoView(!1),t.popup_popped)return g(t,"Popup popped up, restarting expansion"),n;await X.sleep(.1)}b(t),o[n]=t.comments+i,o[n-1]==o[n]&&(e=Math.min(e+.5,8)),o[n-5]==o[n]&&(b(t,"FB STALL","red"),g(t,`cycle ${n}, no activity in 5 cycles, stopping`),t.color="green",g(t,"(you can use Expand Comments again to keep trying)"))}return n},k=async function(t){var e={dom_id:t,start:performance.now(),$post:X("#"+t),state:"EXPAND",serial:f,patience:0,clicks:0,comments:0,color:"black",saved_cycles:0};p[f++]=e,function(t){const e=X(FX.oneLineLtrim(`\n            <label>\n                <h2 style="position:absolute;top:calc(2.1rem * var(--sfx_ui_scale));right:calc(0.5rem * var(--sfx_ui_scale))">\n                    Close after&nbsp;\n                    <input class="sfx_input" type="number" min="0" value="${FX.option("navigator_close_wait")}" style="width: calc(1.75rem * var(--sfx_ui_scale));" sfx-option="navigator_close_wait">\n                    s\n                </h2>\n            </label>\n            <label>\n                <h2 style="position:absolute;top:calc(2.8rem * var(--sfx_ui_scale));right:calc(0.7rem * var(--sfx_ui_scale));">\n                    Follow expansion\n                    <input class="sfx_input" type="checkbox" value="${FX.option("navigator_watch")}" sfx-option="navigator_watch">\n                </h2>\n            </label>\n            <div class='sfx_expander_stats'></div>\n            <div class='sfx_expander_ui'></div>\n        `)),n=`Social Fixer: Expanding post ${t.dom_id}`;t.$note=i(e,{title:n,position:"top_right",no_esc:!0,close:!0,callback:function(){h(t)}}),t.$note.find(".sfx_sticky_note_close").css({width:"auto",height:"auto"}).addClass("sfx_button").text("ESC to stop"),FX.attach_options(t.$note),t.$log=t.$note.find(".sfx_expander_ui"),t.$stats=t.$note.find(".sfx_expander_stats"),g(t,`Begin expanding post ${t.dom_id}`),b(t)}(e);do{e.popup_popped=!1,await x(e),await y(e),e.saved_cycles+=await w(e)}while(e.popup_popped);"EXPAND"==e.state&&g(e,b(e,"DONE","green")),e.$note.find(".sfx_sticky_note_close").text("ESC to close"),g(e,`ESC to close, or auto-close in ${FX.option("navigator_close_wait")} seconds`),e.$post.find(".sfx_clicked").removeClass("sfx_clicked"),e.$orig_post&&e.$orig_post.find(".sfx_clicked").removeClass("sfx_clicked"),FX.option("navigator_watch")&&(e.$post[0].scrollIntoView(!0),setTimeout((()=>window.scrollBy(0,-150)))),X.sleep(FX.option("navigator_close_wait")||.5).then((function(){e.$note.probe(":hover,:active,:focus").length?(b(e,"WAIT","red"),g(e,"Wait for user interaction -- ESC to close")):h(e)}))}})),X.ready("control_panel",(function(){FX.add_option("control_panel_x",{hidden:!0,default:0}),FX.add_option("control_panel_y",{hidden:!0,default:50}),FX.add_option("control_panel_right",{hidden:!0,default:!1}),FX.add_option("control_panel_bottom",{hidden:!0,default:!1}),FX.add_option("reset_control_panel_position",{title:" Control Panel",section:"Advanced",description:"Reset the position of the Control Panel to the upper left",type:"action",action_text:"Find Control Panel",action_message:"cp/reset_position"});var n,o,s,r=!1;e.cp_selector=`[id=sfx_control_panel].${e.instance}`;var a=function(){X(e.cp_selector).remove(),s={sections:[]},n=!1,o=!1,e.pose({cp_sections:s.sections,cp_created:n,cp_displayed:o,cp_always:r})};a();const l=function(){r=!1,X.publish("cp/hide")};X.subscribe("cp/reset_position",(function(){o?s.sections.length?(FX.option("control_panel_x",null,!1),FX.option("control_panel_y",null,!1),FX.option("control_panel_right",null,!1),FX.option("control_panel_bottom",null,!1),X.storage.save("options"),d(null,null,!1)):i(FX.oneLineLtrim("\n                    No posts have yet been filtered to a Social Fixer tab.<br>\n                    The Control Panel will appear if a post is filtered.<br><br>\n                    The following options turn on the CP permanently:<br><br>\n                    - General > Mark All Read / Undo<br>\n                    - Advanced > Always Show Tab List\n                "),{title:"No posts filtered yet",close:!0}):X.publish("cp/show")})),X.subscribe("cp/section/add",(function(t,e){s.sections.some((t=>t.id==e.id))||(c(),e.order=e.order||999,s.sections.push(e))})),X.subscribe("cp/hide",(()=>(o=!1,X(e.cp_selector).hide()))),X.subscribe("cp/show",(()=>(o=!0,X(e.cp_selector).show()))),X.subscribe("cp/always_show",(()=>(r=!0,X.publish("cp/show"))));var c=function(){if(!(n||X.find(e.cp_selector)||/\/memories\//.test(location.href)||/\/messages\//.test(location.href))){n=!0;var i=FX.oneLineLtrim(`<div id="sfx_control_panel" class="${e.instance}" style="display:none">\n                <div class="sfx_cp_header" v-tooltip="{icon:false,content:'The Social Fixer Control Panel (CP) may contain filter tabs and controls such as Mark All Read &amp; Undo. Click X to disable associated features and hide it. Drag to move.',delay:750}"><span @click="close_cp" class='sfx_cp_close_button'>X</span>SFX Control Panel</div>\n                <div class="sfx_cp_data">\n                    <div class="sfx_cp_section" v-for="section in sections | orderBy 'order'">\n                        <div class="sfx_cp_section_label" v-tooltip="{content:section.help,position:'right',delay:300}">{{{section.name}}}</div>\n                        <div class="sfx_cp_section_content" id="{{section.id}}"></div>\n                    </div>\n                </div>\n            </div>\n            `),o={close_cp:l};t(document.body,i,s,o).ready((function(){d(null,null,!1),X.draggable(e.cp_selector,(function(t,e,n){d(e,n,!0)}))})),r&&X.publish("cp/show")}},d=function(t,n,i){var o=X(e.cp_selector);if(o.length){var s=FX.option("control_panel_right"),r=FX.option("control_panel_bottom"),a=!1;void 0!==t&&null!=t&&void 0!==n&&null!=n||(t=+FX.option("control_panel_x"),n=+FX.option("control_panel_y"),a=!0);var l=o[0].offsetHeight,c=o[0].offsetWidth;t<1&&(t=1),a||(s=window.innerWidth&&t+c>window.innerWidth-15),n<40&&(n=40),a||(r=window.innerHeight&&n+l>window.innerHeight-15),s?o.css({right:0,left:""}):o.css({left:t,right:""}),r?o.css({bottom:0,top:""}):o.css({top:n,bottom:""}),!1!==i&&(FX.option("control_panel_x",t,!1),FX.option("control_panel_y",n,!1),FX.option("control_panel_right",s,!1),FX.option("control_panel_bottom",r,!1),X.storage.save("options"))}};X(window).resize((function(){d()})),X.subscribe_backlog("posts/reset",a)})),X.ready("debug_insertion_order",(function(){FX.add_option("debug_show_insertion_order",{section:"Debug",title:"Show Insertion Order",description:"Highlight portions of posts that are lazily inserted after the post appears on the page.",default:!1}),FX.on_option("debug_show_insertion_order",(function(){FX.on_content_inserted((function(t){var e=t.closest(".sfx_inserted").attr("sfx_step")||0;e++,t.attr("sfx_step",e),t.addClass("sfx_insert_step_"+e),t.addClass("sfx_inserted")}))}))})),X.ready("debug_post_html",(function(){X.publish("post/action/add",{section:"wrench",label:"Show Post HTML",order:30,message:"post/action/post_html"}),X.subscribe("post/action/post_html",(function(t,n){const o=X.htmlEncode(document.getElementById(n.id).outerHTML);var s=FX.oneLineLtrim(`\n        <div draggable="false">Click in the box, press ${e.Ctrl}+a to select all, then ${e.Ctrl}+c to copy.</div>\n        <div draggable="false">\n            <textarea style="white-space:pre-wrap;width:500px;height:250px;overflow:auto;background-color:white;">${o}</textarea>\n        </div>\n        `);i(s,{position:"top_right",title:"Post Debug HTML",close:!0})}))})),X.ready("debug_post_update_tracking",(function(){FX.add_option("debug_post_update_tracking",{section:"Debug",title:"Track Post Updates",description:"Track how often a post receives DOM updates and display the timing",default:!1}),FX.on_option("debug_post_update_tracking",(function(){X.subscribe_backlog("post/add",(function(t,e){var n=performance.now();const i=e.$post;var o=i.innerText().length;i.attr("sfx_update_count","0"),i.attr("sfx_update_start",n),i.attr("sfx_update_size",o),i.attr("sfx_update_tracking","")}))}))})),X.ready("debugger",(function(){var t=X.logger("debugger"),e=null,n=null,i=null,o=null,s=0;X.publish("menu/add",{section:"other",item:{html:"Debugger",message:"debugger/open"}}),X.subscribe("debugger/open",(function(){t("Debugger opened"),r()})),FX.on_content_loaded((function(){var e=!1,n=null;if(/sfx_debugger_query=([^&]+)/.test(location.href)&&(n=function(t){return t.replace(/[^\w\d -.#():^~*$"=[\]|]/g,"")}(n=decodeURIComponent(RegExp.$1)),t("Debugger Query set through url: "+n),l(n),e=!0),/sfx_debugger_property=([^&]+)/.test(location.href)&&(n=(n=decodeURIComponent(RegExp.$1)).replace(/[^\w\d-]/g,""),t("Debugger Property set through url: "+n),c(n),e=!0),/sfx_debugger_delay=([^&]+)/.test(location.href)){var i=+decodeURIComponent(RegExp.$1);t("Debugger delay set through url: "+n),s=i}e&&setTimeout((function(){r(),d()}),s)}));var r=function(){a(),e.show()},a=function(){e||(e=X(FX.oneLineLtrim('\n      <div id="sfx_debugger">\n        <div class="sfx_dialog_title_bar" style="margin:0;">\n          <div class="sfx_debugger_button" id="sfx_debugger_close">X</div>\n          Social Fixer Debugger\n        </div>\n        <div id="sfx_debugger_controls">\n          <div>CSS Query: <input id="sfx_debugger_query" value=""></div>\n          <div>Computed CSS Property: <input id="sfx_debugger_property" value=""></div>\n          <div>\n            <input type="button" class="sfx_button" value="Run" id="sfx_debugger_run">\n            <span id="sfx_debugger_url"></span>\n          </div>\n        </div>\n        <div id="sfx_debugger_results"></div>\n      </div>\n    ')),X("body").append(e),o=X("#sfx_debugger_results"),X("#sfx_debugger_run").click((function(){d()})),X("#sfx_debugger_close").click((function(){e.hide()})),X("#sfx_debugger_query").val(n).change((function(t){l(X.target(t).value)})),X("#sfx_debugger_property").val(i).change((function(t){c(X.target(t).value)})))},l=function(t){n=(t||"").trim()},c=function(t){i=(t||"").trim()},d=function(){o.html("");var t=null;if(!n)return o.html("No query");try{t=X.query(n)}catch(t){return o.html("Query error: "+t.message)}if(!t.length)return o.html("No results found");var s=location.href.replace(/&.*/,"");s+=/\?/.test(s)?"&":"?",s+="sfx_debugger_query="+encodeURIComponent(n),i&&(s+="&sfx_debugger_property="+encodeURIComponent(i)),X("#sfx_debugger_url").html(`<a href="${s}">${s}</a>`);var r,a,l=0,c=100,d=!1,u=null,f=null,p=null,h=function(t){var e=X('<div class="sfx_debugger_text_header"></div>');e.text(t);var n=X('<span class="sfx_debugger_action">Copy</span>');return n.on("click",(function(t){return X(t.target.parentNode.nextSibling).select(!0),!1})),e.append(n),e};for(r=0;r<t.length&&l<c;r++){if(d=!0,u=X('<div class="sfx_debugger_result sfx_clearfix">'),"string"==typeof t[r])++l<c&&((p=X('<div class="sfx_debugger_content sfx_debugger_text_content">')).text(t[r]),u.append(h("[Text]")),u.append(p),d=!1);else{var _=t[r];for(a=0;a<_.length;a++)++l<c&&(d=!1,f=X('<div class="sfx_debugger_subresult sfx_clearfix">'),(p=X('<div class="sfx_debugger_content sfx_debugger_node_content">')).text(X(_[a]).tagHTML()),f.append(h("[Node]")),f.append(p),function(t){f.on("mouseover",(function(){t.style.outline="3px solid blue"})),f.on("mouseout",(function(){t.style.outline=""})),f.on("click",(function(){e.hide(),t.scrollIntoView(!1),setTimeout((function(){t.style.outline="10px solid blue"}),500),setTimeout((function(){t.style.outline=""}),3e3)}))}(_[a]),u.append(f))}d||o.append(u)}l>=c&&o.prepend('<div class="sfx_debugger_warning">Result count exceeds limit. Showing the first 100.</div>')}})),X.ready("disable_tooltips",(function(){FX.add_option("disable_tooltips",{title:"Disable Tooltips",section:"Advanced",description:"If you are an Advanced user and no longer need to see the helpful tooltips that pop up when hovering over some things, you can entirely disable them here.",default:!1}),FX.on_options_load((function(){FX.option("disable_tooltips")&&Vue.directive("tooltip",(function(){}))}))})),X.ready("display_tweaks",(function(){FX.add_option("tweaks_enabled",{section:"Display Tweaks",hidden:!0,default:!0}),FX.on_options_load((function(){var t=FX.storage("tweaks");if(t&&t.length&&FX.option("tweaks_enabled"))for(var e=0;e<t.length;e++)X.isObject(t[e])&&t[e].enabled&&!t[e].disabled&&X.css(t[e].css,"sfx_tweak_style_"+e)}))})),X.ready("donate",(function(){FX.add_option("sfx_option_show_donate2",{section:"Advanced",title:"Show Donate Message",description:"Show a reminder every so often to support Social Fixer development through donations.",default:!0}),FX.on_options_load((function(){X.storage.get("stats",{},(function(t){t&&t.installed_on&&X.now()-t.installed_on>5*X.days&&"anonymous"!=X.userid&&X.task("sfx_option_show_donate",30*X.days,(function(){FX.option("sfx_option_show_donate2")&&X.when(e.badge_sel,(function(){X.publish("menu/options",{section:"Donate",data:{sfx_option_show_donate:!0}})}))}))}),!0)}))})),X.ready("edit_buffer",(function(){FX.add_option("edit_buffer",{section:"Experiments",title:"Find Edit",description:"Find unsaved post / comment / reply edits.",type:"action",action_message:"options/close,edit_buffer/find",action_text:"Find Edit In Progress"});const n=["[data-pagelet*=FeedUnit]","[role=feed]",'[id^="substream"]',"[sfx_post]"].join(","),i=["[contenteditable=true]","[role=region] [aria-label] ~ [role=button].S2F_bg_cbg .S2F_col_tx1"].join(","),o=["[contenteditable=false]"].join(",");X.subscribe("edit_buffer/find",(function(){var s=-1;const r={},a="sfx_edit_buf_post_show sfx_show_read sfx_filter_hidden_show",l=function(t,e){if(t[0]){const n=t[0].id;e&&!r[n]?(r[n]=a.split(" ").filter((e=>t.hasClass(e))).join(" "),t.addClass(a)):e||(t.removeClass(a),n in r&&(t.addClass(r[n]),delete r[n]))}};var c=function(t,e){-1!=t?(X(`#sfx_find_edit_dialog [_option_="${t}"]`).toggleClass("sfx_edit_buf_selected",e),l(X(d[t]).closest("[sfx_post]"),e)):X(".sfx_edit_buf_post_show").forEach((t=>l(X(t),!1)))},d=X(i).filter((function(){return this.innerText.length>0&&"\n"!=this.innerText&&!X(this).probe(o).length}));e.pose({active_buffers:d});var u=d.length,f=0==u?"No edits in progress":1==u?"Click to show this edit":"Click to show one of these edits",p=FX.oneLineLtrim(`\n            <div class="sfx_bubble_note sfx_bubble_note_top_right" draggable="true" id="sfx_find_edit_dialog">\n                <div class="sfx_bubble_note_title">\n                    Find Edit In Progress\n                </div>\n                <div>\n                    ${f}\n                </div>\n                <br>\n                <template v-for="db in dirty_buffers">\n                    <template v-if="db.innerText">\n                        <div @click="select_buf" draggable="false" _option_="{{$index}}" class="sfx_edit_buf_button">\n                            {{{row_content(db)}}}\n                        </div>\n                        <br>\n                    </template>\n                </template>\n                <span draggable="false">\n                    <input type="button" class="sfx_button" value="Done" @click="close_dialog">\n                </span>\n                <label class="sfx_edit_buf_toggle" @click="leave_visible = !leave_visible"\n                       title="Show editing post even if 'Read' / hidden / in other tab">\n                    <input type="checkbox" class="sfx_button">\n                    Leave post highlighted\n                </label>\n            </div>\n        `),h={dirty_buffers:d,leave_visible:!1},_={row_content:function(t){var e=X(t).innerText();return 0==e.length?"&middot;":e.length<80?X.htmlEncode(e):X.htmlEncode(e.slice(0,76))+"..."},select_buf:function(t){var e,i,o=X(t.target).attr("_option_");c(s,!1),c(o,!0),e=d[o],(i=X(e)).parents(n).toArray().reverse().forEach((t=>t.scrollIntoView())),setTimeout((()=>window.scrollTo(0,i.offset().top-window.innerHeight/2)),10),s=o},close_dialog:function(){h.leave_visible||c(-1,!1),X("#sfx_find_edit_dialog").remove()}};t(document.body,p,h,_).ready((function(){X.draggable("#sfx_find_edit_dialog")}))}))})),window.addEventListener("keydown",(t=>{27==t.keyCode&&(e.prevent_esc=!1,X.publish("esc/pressed"),e.prevent_esc&&(t.preventDefault(),t.stopPropagation()))}),{capture:!0}),X.subscribe("esc/prevent",(()=>e.prevent_esc=!0)),X.ready("external_css",(function(){FX.add_option("external_css_url",{section:"Advanced",type:"text",title:"External CSS url",description:"URL of external CSS to be included in the page.  NOTE: browser may require HTTPS, and that server presents MIME type text/css.",default:""}),FX.on_options_load((function(){var t=X.sanitize(FX.option("external_css_url"));t&&X.when("head",(function(e){e.append(`<link id="sfx_external_css" rel="stylesheet" type="text/css" href="${t}">`)}))}))}));const s=function(t,e,n){return!(FX.dtsg||!t)&&(FX.dtsg=t,X.publish("fb_dtsg/ready",{fb_dtsg:t,technique:e,count:n}),!0)};FX.dtsg||setTimeout((function(){const t=[{how:"script:initd3",re:RegExp('DTSGInitData",.{0,150}async_get_token":"([A-Z][-_a-z0-9A-Z]{11,65}:[\\d:]{11,19})"')}];Array.from(X("script")).find((e=>/dtsg/i.test(e.textContent)&&t.some((t=>e.textContent.match(t.re)&&s(RegExp.$1,t.how))))),FX.dtsg||(X.subscribe("fb_dtsg/eject",((t,e)=>s(e.fb_dtsg,e.technique,e.count))),X.inject((function(){const t=function(t,e,n){return!!t&&(window.postMessage({sfx:!0,pagecontext:!0,message:{event:"fb_dtsg/eject",data:{fb_dtsg:t,technique:e,count:n}}},"*"),!0)};var e=!1,n=!1;const i=window.clearInterval;var o=1;const s=function(){!n&&window.requireLazy&&(n=!0,window.requireLazy(["invariant","DTSGInitData"],(function(n,i){i&&i.async_get_token&&(e=t(i.async_get_token,"requireLazy()",o))}))),(e||++o>20)&&(i(s.interval),e||t("failed","All techniques"))};s.interval=setInterval(s,500)})))}),1e3),X.css("html { --sfx_ui_scale:1.2; }","sfx_body_font_css"),X.ready("font_family",(function(){FX.add_option("font_family",{section:"General",title:"Font: Custom Font",description:"Set a custom font name using CSS syntax to override the default Facebook fonts. You may add multiple fonts, separated by comma.",type:"text",default:""}),FX.add_option("font_mult",{section:"General",title:"Font: Custom Size",description:"Set a custom text size multiplier from 0.5 to 2.5 (default 1.0).",type:"text",default:""}),FX.add_option("font_ui_mult",{section:"General",title:"Font: Social Fixer Size",description:"Set a custom font size multiplier for Social Fixer interface, from 0.5 to 2.5 (default 1.0).",type:"text",default:""});FX.on_option_live(["font_family","font_mult","font_ui_mult"],(function(){const t=(t,e)=>(Number(t)||0).toFixed(e||4).replace(/(.)\.?0*$/,"$1"),n=FX.option("font_family"),i=e.bound(FX.option("font_mult"),.5,2.5,1),o=e.bound(FX.option("font_ui_mult"),.5,2.5,1),s=[];if(n&&s.push(`body, body *, #facebook body, #facebook body._-kb { font-family:${n} !important; }`),1!=i){X.css("","sfx_body_font_css");const e=(getComputedStyle(document.documentElement)["font-size"]||"16px").replace(/px/,"");s.push(`html { font-size:${t(i*e)}px; }`)}s.push(`html { --sfx_ui_scale:${t(1.2*o)}; }`),X.css(s.join("\n"),"sfx_body_font_css")}))})),X.ready("friend_manager",(function(){FX.add_option("friend_tracker",{title:"Friend Manager",description:"Enable Friend Manager (Friends List Tracker)",default:!0}),FX.add_option("friend_tracker_alert_unfriend",{hidden:!0,default:!0}),FX.add_option("friend_tracker_alert_unfriend_count",{hidden:!0,default:3}),FX.add_option("friend_tracker_alert_refriend",{hidden:!0,default:!0}),FX.add_option("friend_tracker_alert_name_change",{hidden:!0,default:!0}),FX.add_option("friend_tracker_update_frequency",{hidden:!0,default:1});var n,i=X.logger("friend_manager"),o=X.clone(FX.storage("friends")),s=[],r=FX.option("friend_custom_fields");X.subscribe("friends/options",(function(n,i){var a=FX.oneLineLtrim(`<div id="sfx_friend_dialog" class="sfx_dialog sfx-flex-column" style="transition: height .01s;">\n\t<div id="sfx_options_dialog_header" class="sfx_dialog_title_bar" style="cursor:move;" @click="collapse" v-tooltip="{content:'Click to window-shade, drag to move',position:'below'}">\n\t\tFriend Manager - Social Fixer ${e.version}\n\t\t<div id="sfx_options_dialog_actions" draggable="false" >\n\t\t\t<input draggable="false" type="button" class="sfx_button secondary" @click.stop="close" value="Close">\n\t\t</div>\n\t</div>\n\t<div id="sfx_options_dialog_body" class="sfx-flex-row" draggable="false">\n\t\t<div id="sfx_options_dialog_sections">\n\t\t\t<div v-for="section in sections" @click="select_section(section.key)" class="sfx_options_dialog_section {{selected_section==section.key?'selected':''}}">{{section.name}}</div>\n\t\t</div>\n\t\t<div id="sfx_options_dialog_content">\n\t\t\t<div class="sfx_options_dialog_content_section">\n\t\t\t\t<div v-show="selected_section=='options'" style="line-height:32px;">\n\t\t\t\t\t<div><sfx-checkbox key="friend_tracker_alert_unfriend"></sfx-checkbox> Track and alert when someone is not present on my Facebook Friends List</div>\n\t\t\t\t\t<div>Alert about absent friends after this many absences: <input class="sfx_input" type="number" min="1" max="99" v-model="uf_count" @change="update_uf_count()"/></div>\n\t\t\t\t\t<div><sfx-checkbox key="friend_tracker_alert_refriend"></sfx-checkbox> Track and alert when someone reappears on my Facebook Friends List</div>\n\t\t\t\t\t<div><sfx-checkbox key="friend_tracker_alert_name_change"></sfx-checkbox> Track and alert when a friend changes their name</div>\n\t\t\t\t\t<div>Check for Friends List changes after this many hours: <input class="sfx_input" type="number" min="1" max="999" v-model="frequency" @change="update_frequency()"/></div>\n\t\t\t\t\t<div>Update my Friends List and check for changes immediately: <input type="button" @click="check_now()" class="sfx_button" value="Check Now"></div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show="selected_section=='alerts'" id="sfx_friend_alerts"></div>\n\t\t\t\t<div v-show="selected_section=='list'">\n\t\t\t\t\t<div v-if="!list_loaded">Loading...</div>\n\t\t\t\t\t<div v-if="list_loaded">\n\t\t\t\t\t\t<div style="margin-bottom:3px;">\n                            <b>Filter: </b><input class="sfx_input" type="text" v-model="filter">\n                            <br>\n                            <span v-if="limit < 9999 && nfriends > nlimit">\n                                <b>Page: </b>\n                                <a @click.prevent="set_page(-1)" class="sfx_link">&lt;&lt;</a>\n                                &nbsp;{{page+1}} of {{Math.trunc((nfriends + nlimit - 1) / nlimit)}}&nbsp;\n                                <a @click.prevent="set_page(1)" class="sfx_link">&gt;&gt;</a>\n                            </span>\n                            <span v-else>\n                                Showing all {{nfriends}} friends.\n                            </span>\n                            <b>&nbsp; Friends per page: </b>\n                            &middot;&nbsp;\n                            <template v-for="value in ['10','50','100','250','500','1000','all']">\n                                <a @click.prevent="set_limit(value)" class="sfx_link" v-bind:class="{'sfx_button':(value==limit)}">{{value}}</a> &middot;&nbsp;\n                            </template>\n                        </div>\n\t\t\t\t\t\t<table class="sfx_data_table">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>&nbsp;</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('name')">Name</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('first')">First</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('last')">Last</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('id')">ID</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('tracker.status')">Status</th>\n\t\t\t\t\t\t\t\t\t<th v-for="field in custom_fields">{{field}}</th>\n\t\t\t\t\t\t\t\t\t<th class="sortable" @click="order('tracker.added_on')">Added</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr v-for="f in fm_friends | filterBy filter | orderBy orderkey sortorder | limitBy nlimit (page*nlimit)">\n\t\t\t\t\t\t\t\t\t<td @click="select_user(f.id)"><img src="{{f.photo}}" style="height:48px;width:48px;"></td>\n\t\t\t\t\t\t\t\t\t<td class="sfx_hover_link" style="font-weight:bold;" @click="select_user(f.id)">{{f.name}}</td>\n\t\t\t\t\t\t\t\t\t<td>{{f.first}}</td>\n\t\t\t\t\t\t\t\t\t<td>{{f.last}}</td>\n\t\t\t\t\t\t\t\t\t<td><a href="https://www.facebook.com/{{f.id}}">{{f.id}}</a></td>\n\t\t\t\t\t\t\t\t\t<td>{{f.tracker.status}}</td>\n\t\t\t\t\t\t\t\t\t<td v-for="field in custom_fields">{{f.data[field]}}</td>\n\t\t\t\t\t\t\t\t\t<td>{{f.tracker.added_on | date}}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show="selected_section=='details'">\n\t\t\t\t\t<div v-if="!selected_user">\n\t\t\t\t\t\tClick on a friend in the "List" section.\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<a href="https://www.facebook.com/{{selected_user.id}}"><img src="{{selected_user.photo}}" style="float:left;margin-right:20px;"><span style="font-size:calc(0.72rem * var(--sfx_ui_scale));font-weight:bold;">{{selected_user.name}}</span></a>\n\t\t\t\t\t\t<br style="clear:both;">\n\n\t\t\t\t\t\tThis section will be used for future functionality that will enhance your Friends List even more!\n\n\t\t\t\t\t\t\x3c!--\n\t\t\t\t\t\t<b>Custom Fields</b> : Fields below are created by you and maintained in the Options tab. You can define any fields, and any value in those fields per user.\n\t\t\t\t\t\t<div v-for="field in custom_fields" style="margin:10px;border:1px solid #ccc;padding:10px;">\n\t\t\t\t\t\t\t<b>{{field}}</b>: <input v-model="selected_user.data[field]">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t--\x3e\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show="selected_section=='data'" style="white-space:pre;font-family:monospace;">{{fm_friends | json}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n`),c={sections:[{key:"alerts",name:"Alerts"},{key:"options",name:"Options"},{key:"list",name:"Friends List"},{key:"details",name:"Friend Details"},{key:"data",name:"Raw Data"}],selected_section:"alerts",fm_friends:o,nfriends:Object.keys(o).length,list_loaded:!1,orderkey:"name",sortorder:1,filter:"",selected_user:null,custom_fields:X.clone(r),frequency:FX.option("friend_tracker_update_frequency"),uf_count:FX.option("friend_tracker_alert_unfriend_count"),limit:50,nlimit:50,page:0};i&&i.selected&&(c.selected_section=i.selected);var d={select_section:function(t){this.selected_section=t;var e=this;"list"==t&&setTimeout((function(){Vue.nextTick((function(){e.list_loaded=!0}))}),100)},select_user:function(t){this.selected_user=o[t],this.select_section("details")},order:function(t){this.sortorder=this.orderkey==t?-1*this.sortorder:1,this.orderkey=t},close:function(){X("#sfx_friend_dialog").remove()},check_now:function(){X.publish("friends/update")},update_frequency:function(){FX.option("friend_tracker_update_frequency",c.frequency,!0)},update_uf_count:function(){FX.option("friend_tracker_alert_unfriend_count",c.uf_count,!0)},set_limit:function(t){this.limit=t,this.nlimit="all"==t?9999:Number(t),this.page=0},set_page:function(t){this.page+=t,this.page<0&&(this.page=0)},collapse:function(){X("#sfx_options_dialog_body").toggle()}};t(document.body,a,c,d).ready((function(){X.draggable("#sfx_friend_dialog"),Vue.nextTick((function(){l(),u("just now",!0,"#sfx_friend_alerts","sfx_friend_changes_fm"),0==s.length&&d.select_section("list")}))}))})),X.subscribe_backlog("fb_dtsg/ready",((t,e)=>{var i="succeeded";"failed"===(n=e.fb_dtsg)&&(i="failed"),X.support_note("fb_dtsg",`${e.technique} ${i} after ${(performance.now()/X.seconds).toFixed(6)} seconds`)}));const a=function(t){var e=X.now(),s=0,r=0;!function(t){if(!n)return i("retrieve_friends 0: no fb_dtsg"),X.support_note("retrieve_friends:0",`fb_dtsg not found: [${n}]`),t(null);var e=FX.oneLineLtrim(`\n            https://www.facebook.com/ajax/typeahead/first_degree.php\n            ?viewer=${X.userid}\n            &__user=${X.userid}\n            &filter[0]=user\n            &options[0]=friends_only\n            &__a=1\n            &lazy=0\n            &t=${X.now()}\n            &fb_dtsg_ag=${n}\n        `);X.ajax(e,(function(e){if("string"!=typeof e)return console.log("retrieve_friends:1: unexpected content type:",typeof e,[{content:e}]),X.support_note("retrieve_friends:1",`unexpected content type '${typeof e}' (see browser console)`),t(null);try{var n=JSON.parse(e.replace(/^[^{}]*/,""));return n&&n.payload&&n.payload.entries?t(n.payload.entries):(console.log("retrieve_friends:2: unexpected JSON content:",[{content:e,json:n}]),X.support_note("retrieve_friends:2","unexpected JSON content (see browser console)"),t(null))}catch(i){return console.log("retrieve_friends:3: JSON.parse failed:",[{error:i,content:e,json:n}]),X.support_note("retrieve_friends:3",`JSON.parse failed: ${i} (see browser console)`),t(null)}}))}((function(n){if(null==n)return t(null);var i,a,l;for(i of n)a=i.uid,Number(a)?(void 0!==(l=o[a])&&void 0!==l.tracker||(l={id:i.uid,name:i.text,first:i.firstname,last:i.lastname,photo:i.photo,tracker:{added_on:e,status:"friend",updated_on:e,acknowledged_on:null}},o[a]=l),i.text!=l.name&&(l.old_name=l.name,l.name=i.text,l.first=i.firstname,l.last=i.lastname,l.dirty=!0),l.photo!=i.photo&&(l.photo_dirty=!0,l.photo=i.photo),l.checked_on=e,l.tracker.missing_count=0):X.support_note("update_friends:1","non-numeric UID in FB data");for(a in o)if(Number(a)){(i=o[a]).id&&i.tracker||(++s,i.id=a,i.tracker=i.tracker||{added_on:e,status:"record missing",updated_on:e,acknowledged_on:null},i.dirty=!0);var c=i.tracker;c.added_on==e?i.dirty=!0:e==i.checked_on&&"friend"!=c.status?(c.status="refriend",c.updated_on=e,c.acknowledged_on=null,i.dirty=!0):e===i.checked_on||"friend"!=c.status&&"refriend"!=c.status||(c.missing_count=c.missing_count?c.missing_count+1:1,c.missing_count>=FX.option("friend_tracker_alert_unfriend_count")&&(c.status="unfriended",c.updated_on=e,c.acknowledged_on=null,c.blocked=null),i.dirty=!0),(i.dirty||i.photo_dirty)&&(i.dirty&&r++,delete i.dirty,delete i.photo_dirty,X.storage.set("friends",a,i,null,!1))}else X.support_note("update_friends:2","non-numeric UID in FT data"),delete o[a],X.storage.set("friends",a,void 0,null,!1);r&&X.storage.save("friends"),"function"==typeof t&&t({total:Object.keys(o).length,changes:r}),X.support_note("update_friends:3",`fr:${Object.keys(o).length} ls:${n.length} ch:${r} em:${s}`)}))},l=function(){for(var t in s.splice(0),o){var e=X.clone(o[t]);if(e&&e.tracker){var n=e.tracker,i=n.updated_on,r=n.acknowledged_on;"unfriended"==n.status&&(!r||r<i)&&FX.option("friend_tracker_alert_unfriend")&&s.push({type:"unfriend",friend:e}),"refriend"==n.status&&FX.option("friend_tracker_alert_refriend")&&s.push({type:"refriend",friend:e}),e.old_name&&FX.option("friend_tracker_alert_name_change")&&s.push({type:"name_change",friend:e})}}},c=function(){X.publish("notify/set",{target:`.${e.instance} [id=sfx_friend_jewel_count]`,parent_target:e.badge_sel,count:s.length})},d=function(){l(),c()},u=function(e,n,i,r){try{X(`[id=${r}]`).remove();const a={fm_alerts:s,ago:e,show_header:n},l=function(t){const e=o[t.friend.id];"unfriend"==t.type?e.tracker.acknowledged_on=X.now():"refriend"==t.type?e.tracker.status="friend":"name_change"==t.type&&(e.old_names||(e.old_names=[]),e.old_names.push(e.old_name),delete e.old_name),X.storage.set("friends",e.id,e,null,!1)},d=function(){c(),X.storage.save("friends")},u={ok:function(t){l(t),a.fm_alerts.splice(a.fm_alerts.indexOf(t),1),d()},ok_all:function(){for(const t of a.fm_alerts)l(t);a.fm_alerts.splice(0),d()},settings:function(){X.publish("friends/options",{selected:"options"})}},f=FX.oneLineLtrim(`<div id="${r}">\n    <div style="max-height:300px;overflow:auto;border-bottom:1px solid rgb(221,223,226);">\n\t<div v-if="show_header" style="padding:8px 12px 6px 12px;border-bottom:1px solid rgb(221,223,226);">\n\t\t<div style="float:right">\n\t\t\t<a @click.prevent="settings">Settings</a>\n\t\t\t<span v-if="fm_alerts.length" role="presentation"> &middot; </span>\n\t\t\t<a v-if="fm_alerts.length" @click.prevent="ok_all" style="font-weight:bold;">Okay All</a>\n\t\t</div>\n\t\t<div><span style="font-size:calc(0.6rem * var(--sfx_ui_scale));font-weight:bold;">Friend Changes</span> <span style="font-size:calc(0.55rem * var(--sfx_ui_scale));font-style:italic;">(via Social Fixer, updated {{ago}})</span></div>\n\t</div>\n\t<div v-for="a in fm_alerts | orderBy 'friend.tracker.updated_on' -1" style="padding:6px 12px;border-bottom:1px solid rgb(221,223,226);">\n\t\t<div style="float:right;height:50px;vertical-align:middle;line-height:50px;">\n\t\t\t<span @click="ok(a)" class="sfx_button light">Okay</span>\n\t\t</div>\n\t\t<img src="{{a.friend.photo}}" style="height:48px;margin-right:10px;display:inline-block;">\n\t\t<div style="display:inline-block;height:50px;overflow:hidden;">\n\t\t\t<template v-if="a.type=='name_change'">\n\t\t\t\t{{a.friend.old_name}}<br>\n\t\t\t\tis now known as<br>\n\t\t\t\t<a href="/{{a.friend.id}}" style="font-weight:bold;">{{a.friend.name}}</a><br>\n\t\t\t</template>\n\t\t\t<template v-if="a.type=='unfriend'">\n\t\t\t\t<a href="/{{a.friend.id}}" style="font-weight:bold;">{{a.friend.name}}</a><br>\n\t\t\t\tno longer appears on your Facebook Friends List. <span v-show="a.friend.removed" style="color:red;text-decoration:underline;cursor:help;" v-tooltip="This account is not available. This person has either disabled or removed their account, blocked you, or this is a result of a Facebook glitch (which is not uncommon). If they are still your friend but their profile is temporarily unavailable, they will appear as re-friended when it returns.">Account Not Found!</span><br>\n\t\t\t\t<i>{{a.friend.tracker.updated_on | ago}}</i>\n\t\t\t</template>\n\t\t\t<template v-if="a.type=='refriend'">\n\t\t\t\t<a href="/{{a.friend.id}}" style="font-weight:bold;">{{a.friend.name}}</a><br>\n\t\t\t\tis now on your Facebook Friends List again! <br>\n\t\t\t\t<i>{{a.friend.tracker.updated_on | ago}}</i>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n\t<div v-if="fm_alerts.length==0" style="line-height:50px;vertical-align:middle;color:rgb(117,117,117);background-color:rgb(246,247,249);text-align:center;">\n\t\tNo changes\n\t</div>\n    </div>\n</div>\n`);t(i,f,a,u)}catch(t){alert(t)}};FX.on_options_load((function(){FX.option("friend_tracker")&&(X.publish("menu/add",{section:"options",item:{html:'<span class="count" id="sfx_friend_jewel_count"></span>Friend Manager',message:"friends/options",tooltip:"Track changes to your Facebook friends list"}}),X.task("friend_update",FX.option("friend_tracker_update_frequency")*X.hours,(function(){i("Time to check for Friends List changes"),X.subscribe_backlog("fb_dtsg/ready",(function(){a(d)}))}),d),X.subscribe("friends/update",(function(){a((function(t){null===t?alert("Error retrieving or updating friends list"):(d(),alert(`Update Complete.\n${t.total} friends and ${t.changes} changes.`))}))})))}))})),X.ready("hide",(function(){FX.add_option("hide_parts_of_page",{section:"General",title:"Hide Things",description:'Under the Wrench menu you will find an item to "Hide/Show Parts of the Page". Use this to hide or show different parts of the page that Social Fixer knows how to process. You can also access this functionality using the button to the right.',type:"action",action_message:"options/close,hide/on",action_text:"Hide Things"}),FX.add_option("hide_parts_of_page_custom",{section:"Debug",title:"Custom Hideables",description:"Define a custom JSON structure to be used instead of the server-side JSON for hideables.",type:"textarea",default:""}),FX.add_option("hide_parts_custom_merge",{section:"Debug",title:"Merge Custom & Standard Hideables",description:"Use both the server-side and custom hideables JSON.",default:!0}),FX.on_options_load((function(){X.publish("menu/add",{section:"actions",item:{html:"Hide/Show Parts of the Page",message:"hide/on",tooltip:"Select which parts of the page you want to hide so they never show up."}});var t=FX.storage("hiddens");X.isObject(t)||X.isArray(t)||(t={});var n=function(t){var e=X(t.selector);return e.length&&t.parent?e.nearby(t.parent):e};var o,s,r=function(){var e=[];for(var n in o=[],s=[],t){var i=t[n];i.parent?(o.push(i),s.push(i.selector)):i.selector.split(",").forEach((t=>t.length&&e.push(`html:not(.sfx_hide_show_all) ${t} /* sfx_hider_${i.id} */`)))}e.length>0&&X.css(`${e.join(",\n")} { display:none !important; }`,"sfx_hideables"),s=s.join(",")};r(),FX.on_content((function(t){X(s,t).length&&o.forEach((function(e){X(e.selector,t).nearby(e.parent).addClass(`sfx_hide_hidden sfx_hider_${e.id}`)}))}));const a=function(){const t=X("#sfx_hide_show_ui");t.length&&(X.publish("hide/off"),X.publish("esc/prevent"),t.remove())};X.subscribe("esc/pressed",a),X.subscribe("hide/on",(function(){var o=X(FX.oneLineLtrim('\n                    <div class="sfx_hide_bubble">\n                        <span id="sfx_hide_bubble_TL" style="position:absolute; top:0; left:5px; font-size:calc(0.75rem * var(--sfx_ui_scale));" data-hover="hider-tooltip" data-hider-title="Move to top left" data-hider-delay="650">&#x25E4;</span>\n                        <span id="sfx_hide_bubble_TR" style="position:absolute; top:0; right:5px; font-size:calc(0.75rem * var(--sfx_ui_scale));" data-hover="hider-tooltip" data-hider-title="Move to top right" data-hider-delay="650">&#x25E5;</span>\n                        <span id="sfx_hide_bubble_BL" style="position:absolute; bottom:0; left:5px; font-size:calc(0.75rem * var(--sfx_ui_scale));" data-hover="hider-tooltip" data-hider-title="Move to bottom left" data-hider-delay="650">&#x25E3;</span>\n                        <span id="sfx_hide_bubble_BR" style="position:absolute; bottom:0; right:5px; font-size:calc(0.75rem * var(--sfx_ui_scale));" data-hover="hider-tooltip" data-hider-title="Move to bottom right" data-hider-delay="650">&#x25E2;</span>\n                        <div class="sfx_hide_bubble_instructions">Mouse over <span style="background-color:#CFC">green shaded</span> areas to see their names; click to hide them.  (Shaded area may be offset from the item it will hide.)</div>\n                        <div class="sfx_hide_bubble_instructions">To unhide items, click <span class="mark_read_markit sfx_hide_checkmark">&nbsp;&nbsp;&nbsp;</span><b>Show Hidden Items</b>, then click <span style="background-color:#FCC">red shaded</span> areas.</div>\n                        <div class="sfx_hide_bubble_instructions">We update Social Fixer with new hideable areas as Facebook changes. To report new items, post a screenshot (with <span class="mark_read_markit sfx_hide_checkmark">&nbsp;&nbsp;&nbsp;</span><b>Show Hidden Items)</b> onto the <a href="https://SocialFixer.com/support/" target="_blank">Support Group</a>. We need to see <b><i>where</i></b> on the page.</div>\n                        <span><input type="button" class="sfx_button sfx_button_done" style="margin:4px" value="Done Hiding"></span>\n                        <span style="float:right">\n                            <label data-hover="hider-tooltip" data-hider-title="So you can unhide them" data-hider-delay="1000"><input type="checkbox" class="sfx_button sfx_button_show">Show Hidden Items</label>\n                            <br><label data-hover="hider-tooltip" data-hider-title="Shrink this box" data-hider-delay="1000"><input type="checkbox" class="sfx_button sfx_button_inst">Hide Instructions</label>\n                        </span>\n                    </div>\n                ')),s=i(o,{position:"top_right",style:"min-height:0",title:"Hide/Show Parts of the Page",id:"sfx_hide_show_ui",no_esc:!0});s.find(".sfx_button_done").click(a),s.find(".sfx_button_show").click((function(){X("html").toggleClass("sfx_hide_show_all")})),s.find(".sfx_button_inst").click((function(){s.find(".sfx_hide_bubble_instructions,.sfx_bubble_note_title").toggle()})),s.find("#sfx_hide_bubble_TL").click((function(){s.css({top:0,bottom:"auto",left:0,right:"auto"})})),s.find("#sfx_hide_bubble_TR").click((function(){s.css({top:0,bottom:"auto",left:"auto",right:0})})),s.find("#sfx_hide_bubble_BL").click((function(){s.css({top:"auto",bottom:0,left:0,right:"auto"})})),s.find("#sfx_hide_bubble_BR").click((function(){s.css({top:"auto",bottom:0,left:"auto",right:0})}));var l=function(e){return`Click to ${!!t[p[e].id]?"Unhide":"Hide"}:\n\n'${X.sanitize(p[e].name)}'`},c=function(e,i){if(i){var o="https://matt-kruse.github.io/socialfixerdata/hideable.json";s.find(".sfx_bubble_note_title").append(FX.oneLineLtrim(`\n                        <div style="color:red; outline: 2px solid red; margin: 2px; padding: 3px;">\n                            Can't access Hide/Show data on:<br>\n                            <a href="${o}">${o}</a><br>\n                            Is it blocked by the browser, an extension, or your firewall?\n                        </div>`))}e&&0!=e.length&&(X("html").addClass("sfx_hide_show_all"),e.forEach((function(e,i){n(e).forEach((o=>{const s=X(o);s.addClass("sfx_hide_show_overflow");var a=o.getBoundingClientRect();s.removeClass("sfx_hide_show_overflow");var c=a.height,d=a.width;if(c&&d){e.filled=!0,c=Math.max(c,20),d=Math.max(d,20);var u="absolute"==s.css("position")&&"relative"==s.parent().css("position")?"position:relative;":"",f=`data-hover="hider-tooltip" data-hider-title="${l(i)}"`;c>500&&(f+=` data-tooltip-position="${a.left>200?"left":"right"}";`);var p="sfx_hide_frame"+(t[e.id]?" sfx_hide_frame_hidden sfx_hide_hidden":""),h=`width:${d}px;height:${c}px;font-size:${Math.min(c,window.innerHeight)/1.5}px;line-height:${c}px;display:${s.css("display")};${u}`,_=X(`<span ${f} class="${p}" style="${h}" sfx_hider_id="${e.id}">X</span>`);_.click((function(o){o.preventDefault(),o.stopPropagation();var s=!t[e.id];n(e).toggleClass("sfx_hide_hidden",s),s?t[e.id]=e:delete t[e.id],X(`[sfx_hider_id="${e.id}"]`).toggleClass("sfx_hide_frame_hidden sfx_hide_hidden",s).attr("data-hider-title",l(i)),r()})),s.before(_)}else e.hollow=!0}))})),X("html").removeClass("sfx_hide_show_all"),X.support_note("Hide/Show old layout hideables",e.filter((t=>t.filled&&t.id<1e4)).map((t=>t.id)).join(", ")),X.support_note("Hide/Show hollow hideables",e.filter((t=>t.hollow&&!t.filled)).map((t=>t.id)).join(", ")))},u=FX.option("hide_parts_of_page_custom"),f=FX.option("hide_parts_custom_merge"),p=[];if(u)try{var h=JSON.parse(u);if(h&&h.hideables&&h.hideables.length&&(p=h.hideables,!f))return c(p,!1)}catch(t){alert("ERROR Parsing custom JSON: "+t.toString())}d(["hideable","hideables","hiddens"],t,(function(i){var o=!0;(Object.values(i)||[]).forEach((function(t){if(X.isObject(t)){o=!1;var e=!1;p.forEach((function(n){n.id==t.id&&(e=!0)})),e||p.push(t)}})),e.pose({hiddens:t,hideables:p,resolve_hideable:n}),c(p,o)}))})),X.subscribe("hide/off",(function(){X("html").removeClass("sfx_hide_show_all"),X(".sfx_hide_frame").remove(),X.storage.save("hiddens",t,(function(){r()}))})),X.task("update_hider_subscriptions",4*X.hours,(function(){d(["hideable","hideables","hiddens"],t,(function(t,e){e&&r()}))}))}))})),X.ready("logging",(function(){var t=X.logger("logging",{color:"#666"}),e=null,n=null,i=0,o=null;X.publish("menu/add",{section:"other",item:{html:"View Log",message:"log/view"}}),X.subscribe("log/view",(function(){t("View Log Clicked in Menu"),s()})),X.subscribe("log/entry",(function(){e&&l(!0)})),FX.on_content_loaded((function(){if(/sfx_log_filter=([^&]+)/.test(location.href)){var e=RegExp.$1.replace(/[^\w\d -.]/g,"");t("Log Viewer Filter set through url: "+e),a(e)}/sfx_log=true/.test(location.href)&&(t("Log viewer launched via url"),s())}));var s=function(){r(),l(!1),e.show()},r=function(){e||(e=X(FX.oneLineLtrim(`\n      <div id="sfx_log_viewer">\n        <div class="sfx_dialog_title_bar" style="margin:0;">\n          <div class="sfx_log_button" id="sfx_log_close" title="Close">X</div>\n          Social Fixer Console\n        </div>\n        <div id="sfx_log_controls">\n          Filter: <input id="sfx_log_filter" value="${o?o.source:""}">\n        </div>\n        <div id="sfx_log_viewer_entries"></div>\n      </div>\n    `)),X("body").append(e),n=X("#sfx_log_viewer_entries"),X("#sfx_log_close").click((function(){e.hide()})),X("#sfx_log_filter").keyup((function(t){a(X.target(t).value),l(!1)})))},a=function(t){t=(t||"").trim(),o=t?new RegExp(t,"i"):null},l=function(t){var e=X.logs,s=[];for(t||(i=0,n.html(""));i<e.length;i++){var r=e[i];r.html||(r.html=d(r)),(!o||o.test(r.module)||o.test(r.html))&&s.push(r.html)}n.append(s.join(""))},c=function(t){return t.toString().replace(/^(\d)$/,"0$1")},d=function(t){var e=t.log.join(","),n=new Date(t.timestamp),i=`${n.getHours()}:${c(n.getMinutes())}:${c(n.getSeconds())} ${(t.uptime/X.seconds).toFixed(4)}`;return`<div class="sfx_log_entry" style="${t.color?`color:${t.color};`:""}">${i} ${t.module?"["+t.module+"]":""} ${e}</div>`}})),X.beforeReady((function(){const t=["body[class*=LoggedOut]","form#login_form",'form[data-testid*=login][action*="/login/"]',"input[name=login_source]","button[name=login][data-testid*=login]","button[id*=login][data-testid*=login]"].join(",");FX.isNonLoginPage=X(t).length<2,X.publish("login_page/ready")})),X.ready("mark_read",(function(){FX.add_option("post_actions",{title:"Post Actions",description:"Add actions to individual posts to Mark them as 'Read', etc.",default:!0}),FX.add_option("show_mark_all_read",{title:"Mark All Read/Undo",description:"Add a Mark All Read button and Undo button to the control panel to Mark all visible posts as 'Read' or undo Marking posts as 'Read'.",default:!1}),FX.add_option("mark_all_read_next",{section:"Advanced",title:"Mark All Read - Next",description:"When Mark All Read is clicked and filter tabs are visible, automatically jump to the next tab with unread stories.",default:!0}),FX.add_option("clear_cache",{title:'Clear "Mark Read" Story Data',section:"Advanced",description:"Clear all cached data about posts' 'Read' status. This will un-Mark all 'Read' posts!",type:"action",action_text:"Clear Data Now",action_message:"cache/clear"}),FX.add_option("clean_cache_frequency",{title:'"Mark Read" Cache Cleaning Frequency',section:"Advanced",description:"Clean the cache of old story data every how many hours?",type:"number",default:24}),FX.add_option("clean_cache_age",{title:'"Mark Read" Cache Cleaning Age',section:"Advanced",description:"When cleaning cached story data, clean post data that is this many days old.",type:"number",default:28}),FX.add_option("hide_mark_read_groups",{title:"Mark Read",description:"Hide posts Marked as 'Read' when viewing Groups.",default:!0}),FX.add_option("hide_mark_read_pages",{title:"Mark Read",description:"Hide posts Marked as 'Read' when viewing a Page or Timeline.",default:!0}),FX.add_option("mark_read_display_message",{title:"Mark Read",description:"Show a note in place of posts hidden because they were Marked as 'Read'.",default:!0}),FX.add_option("mark_read_style",{section:"Advanced",title:"Mark Read Style",description:"CSS style to be applied to posts that are Marked as 'Read'.",type:"text",default:"outline:2px dashed red;",live:t=>X.css(`.sfx_post_read > :not(.sfx_read_note) { ${t} }`,"sfx_mark_read_css")}),function(){var t={};e.pose({postdata_log:t});var n=performance.now();const i=X.logger("postdata"),o=function(e,i){const s=performance.now();var r=t[e]?t[e][0]:s;(!t[e]||r<n)&&(r=s,t[e]=[r],o(e,`Post log starts at page time ${(r/X.seconds).toFixed(6)}`)),t[e].push(((s-r)/X.seconds).toFixed(6)+" "+i)};X.subscribe("log/postdata",(function(t,e){const n=e.id||(e.$post?`sfx_post_${e.$post.attr("sfx_post")}`:null);n?o(n,e.message):i(`log from unknown post: '${e.message}'`)})),X.subscribe("log/postdata/get",(function(e,n){"function"==typeof n.callback&&n.callback(t[n.id])})),X.subscribe_backlog("posts/reset",(()=>n=performance.now()))}(),X.subscribe("cache/clear",(function(){X.storage.save("postdata",{},(function(){alert("Social Fixer: the list of 'Read' posts has been cleared")}))})),FX.on_options_load((function(){if(!FX.option("post_actions"))return;const n={html:"Show posts Marked as 'Read'",message:"post/toggle_read_posts",tooltip:"Make posts which are Marked as 'Read' temporarily visible."};X.publish("menu/add",{section:"actions",item:n});var o=!1;X.subscribe("post/toggle_read_posts",(function(){o=!o,n.html=o?"Hide posts Marked as 'Read'":"Show posts Marked as 'Read'",X(".sfx_show_read").removeClass("sfx_show_read"),FX.option("mark_read_display_message")||X(".sfx_read_note").remove(),X("html").toggleClass("sfx_hide_read",!o),FX.reflow()})),X.subscribe_backlog("posts/reset",(()=>X("html").addClass("sfx_hide_read")));var s=FX.storage("postdata")||{};e.pose({postdata:s});var r=t=>/^-?[1-9][0-9]*$|^pfbid0[1-9A-HJ-NP-Za-km-z]{20,75}l$/.test(t),a=t=>/^[0-9]+$/.test(t);X.task("clean_postdata_cache",FX.option("clean_cache_frequency")*X.hours,(function(){var t,e=0;if(s){for(t in s){var n=s[t],i=n.read_on,o=0;X.now()-i>FX.option("clean_cache_age")*X.days&&(o=1),r(t)||(o=1),a(n.read_on)||(o=1),n.last_updated&&(delete s[t].last_updated,e++),o&&(delete s[t],e++)}e>0&&X.storage.save("postdata",s)}}));var l=!1;FX.on_content_loaded((function(){var n={id:null,sfx_id:"no-ID",$post:null,show:"mark",filters_enabled:FX.option("filters_enabled"),wrench_items:[],filter_items:[]},a={mark_unmark:function(t){var e={sfx_id:n.sfx_id};e.dir=t.shiftKey?"above":t.ctrlKey||t.altKey||t.metaKey?"below":"post",X.publish("post/mark_unmark",e)},action_menu_click:function(t){var e,i={id:n.id,sfx_id:n.sfx_id};if(t.data)for(e in t.data)i[e]=t.data[e];X.publish(t.message,i)}},c=FX.oneLineLtrim(`\n            <div id="sfx_post_action_tray_container" class="${e.instance}" sfx_pai="pai_counter">\n                <div id="sfx_post_action_tray">\n                    <div v-if="show == 'mark'"   @click="mark_unmark($event)" class="mark_read_markit" v-tooltip="Social Fixer: Mark this post as 'Read', so it doesn't appear in your feed anymore. Shift+Click Marks as 'Read' all posts above here; ${e.Ctrl}+Click Marks here and below"></div>\n                    <div v-if="show == 'temp'"   @click="mark_unmark($event)" class="mark_read_nomark" v-tooltip="Social Fixer: Temporarily hide this post (it may return on reload, as its Facebook post ID was not found)"></div>\n                    <div v-if="show == 'unmark'" @click="mark_unmark($event)" class="mark_read_unmark" v-tooltip="Social Fixer: Un-Mark this post as 'Read', so it may show up in your feed again">X</div>\n                    <div v-if="show == 'utmark'" @click="mark_unmark($event)" class="mark_read_unmark" v-tooltip="Social Fixer: Unhide this temporarily hidden post">X</div>\n                    <div v-if="wrench_items.length>0" id="sfx_mark_read_wrench" class="mark_read_wrench" v-tooltip="Social Fixer: Post Actions"></div>\n                    <div v-if="filter_items.length>0" id="sfx_mark_read_filter" class="mark_read_filter" v-tooltip="Social Fixer: Filtering"></div>\n                </div>\n                <div v-if="wrench_items.length>0" id="sfx_post_wrench_menu" class="sfx_post_action_menu">\n                    <div v-for="item in wrench_items | orderBy 'order'" @click="action_menu_click(item)">{{item.label}}</div>\n                </div>\n                <div v-if="filter_items.length>0" id="sfx_post_filter_menu" class="sfx_post_action_menu">\n                    <div v-for="item in filter_items | orderBy 'order'" @click="action_menu_click(item)">{{item.label}}</div>\n                </div>\n            </div>\n            `),d={posts_marked_read:[]},u=function(t,n){if(!t.hasClass("sfx_post_read")){if("groups"==FX.context.type&&!FX.option("hide_mark_read_groups")||"profile"==FX.context.type&&!FX.option("hide_mark_read_pages"))return;const o=FX.option("mark_read_display_message"),s=!o&&t.is(".sfx_once");if(o||s){const n=e.filter_extract_field.author(t,{})||"<unknown>";var i="";if(!FX.option("disable_tooltips")){i=` title="This post may be hidden because it is Marked as 'Read'. Click to toggle visibility. (${s?"It is visible here because this page's address mentions it":"To remove these Read-post notes, see Options > General > Mark Read"})"`}const o=X(FX.oneLineLtrim(`\n                            <div class='sfx_read_note'${i}>\n                                <span class='sfx_read_show'>Click to view 'Read' post by ${n}</span>\n                                <span class='sfx_read_hide'>Click to hide 'Read' post by ${n}</span>\n                            </div>\n                        `));o.click((function(){t.toggleClass("sfx_show_read"),s&&o.remove()})),t.removeClass("sfx_once").prepend(o)}t.addClass("sfx_post_read"),X.publish("post/hide_read",{id:t[0].id,$post:t,actor:n})}},f=function(t,e){const n=t.attr("sfx_id");r(n)?t.hasClass("sfx_post_read")||X(`[sfx_id="${t.attr("sfx_id")}"]`).forEach((t=>{u(X(t),e)})):u(t,e)},p=function(t,e){t.hasClass("sfx_post_read")&&(t.removeClass("sfx_post_read sfx_show_read"),t.find(".sfx_read_note").remove(),X.publish("post/unhide_read",{id:t[0].id,$post:t,actor:e}))},h=function(t,e){const n=t.attr("sfx_id");r(n)?t.hasClass("sfx_post_read")&&X(`[sfx_id="${t.attr("sfx_id")}"]`).forEach((t=>{p(X(t),e)})):p(t,e)};const _={post:"user click",all:"Mark All Read",above:"Mark All Read Above (Shift+Click)",below:`Mark All Read Below (${e.Ctrl}+Click)`,undo:"Undo"};X.subscribe(["post/mark_read","post/mark_unread"],(function(t,e){const i="post/mark_read"==t,o=e.post||n.$post;if(i==o.hasClass("sfx_post_read"))return;const a=e.sfx_id,l=r(a);if(e.filter||(d.posts_marked_read=[o],d.mark=!i),l){var c=(void 0===s[u=a]&&(s[u]={}),s[u]);i?(c.read_on=X.now(),s[a]=c):delete c.read_on,X.storage.set("postdata",a,c,null,!1!==e.save)}else i&&X.publish("log/postdata",{$post:o,message:`Marking [${o[0].id}] temporarily read`});var u;_[e.actor||"post"]&&(e.actor=_[e.actor||"post"]),(i?f:h)(o,e.actor),v(o),FX.reflow()})),X.subscribe(["post/mark_all_read","post/mark_unmark"],(function(t,i){void 0===i.dir&&(i.dir="all");var a=i.post||n.$post,l="all"==i.dir||!a||!a.hasClass("sfx_post_read");if(i.actor=i.dir,"post"!=i.dir){var c=0,u=0,f="all"==i.dir||"above"==i.dir,p=!1,h=[],_=a?+a.attr("sfx_post"):null;a&&"above"==i.dir&&(window.getSelection().removeAllRanges(),setTimeout((function(){a[0].scrollIntoView()}),.15*X.seconds)),X(e.selected_tab_selector).each((function(){var t=X(this);if(+t.attr("sfx_post")==_&&("above"==i.dir?(f=!1,l||(p=!0)):"below"==i.dir&&(f=!0)),f||p){if(p=!1,l!=t.hasClass("sfx_post_read")){h.push(t);var e=l?"post/mark_read":"post/mark_unread",n={sfx_id:t.attr("sfx_id"),save:!1,post:t,actor:i.actor};X.publish(e,n),c++}}else u++})),c>0&&(X.storage.save("postdata"),d.posts_marked_read=h,d.mark=!l,"above"!=i.dir||o||X.publish("filter/tab/scroll_to_top")),l&&0==u&&FX.option("mark_all_read_next")&&X.publish("filter/tab/next")}else{const t=a.attr("sfx_id"),e=r(t),n=e&&s[t]&&s[t].read_on||!e&&a.hasClass("sfx_post_read");X.publish(n?"post/mark_unread":"post/mark_read",i)}})),X.subscribe("post/undo_mark_read",(function(){if(d.posts_marked_read.length>0){var t=d.mark?"post/mark_read":"post/mark_unread";d.posts_marked_read.forEach((function(e){var n=e.attr("sfx_id");X.publish(t,{sfx_id:n,save:!1,post:e,actor:"undo"})})),X.storage.save("postdata"),d.posts_marked_read=[],FX.reflow()}else alert("Nothing to Undo!")}));const g=[{name:"filter"},{name:"wrench"}],b=()=>g.forEach((t=>t.shown&&X(`.${e.instance} [id=sfx_post_${t.name}_menu]`).hide(t.shown=!1)));e.pai_counter=0;X(window).click(b);var m=function(i){n.$post=i,n.id=i[0].id;const o=i.attr("sfx_id");n.sfx_id=o;const l=r(o),d=l&&s[o]&&s[o].read_on||!l&&i.hasClass("sfx_post_read");n.show=d&&l?"unmark":d?"utmark":l?"mark":"temp";const u=function(i){var o;return(o=i.find(`[id=sfx_post_action_tray_container].${e.instance}`)).length?o:(t(document.body,c.replace(/pai_counter/,++e.pai_counter),n,a),X(`[id=sfx_post_action_tray_container].${e.instance}:not([sfx_pai="${e.pai_counter}"])`).remove(),g.forEach((function(t){X(`#sfx_mark_read_${t.name}`).click((function(n){n.stopPropagation(),b(),X(`.${e.instance} [id=sfx_post_${t.name}_menu]`).css("right",50-n.offsetX+"px").css("top",5+n.offsetY+"px").show(t.shown=!0)}))})),X(`[id=sfx_post_action_tray_container].${e.instance}`))}(i);if(b(),"marketplace"==FX.context.type)i.prepend(u);else{var f=i.children().filter((function(){return!e.is_sfx_element(this)}));f.length||(f=i.children()),f.first().append(u)}};e.pose({move_action_tray_to_post:m});var v=function(t){null!=n.id&&n.id!=t[0].id||m(t)},x=[],y=!1;const w=/(?:fbid|permalink|multi_permalinks|posts|video|stories|marketplace\/item|view=permalink.*&id)[=/]([\d,]{6,})/,k=function(){const t=decodeURIComponent(window.location.href).match(w);x=(t?t[1]:"").split(","),y=/\/pfbid0/.test(window.location.pathname),e.pose({page_permalinks:x,permalink_regex:w,detect_permalinks:k})};X.subscribe_backlog("posts/reset",k),X.subscribe("post/permalink",(function(t,e){e.$post.hasClass("sfx_permalink_post")||(e.$post.addClass("sfx_permalink_post"),X.publish("log/postdata",{id:e.id,$post:e.$post,message:`Marked as permalink by ${e.actor}`}),x.includes(e.sfx_id)||x.push(e.sfx_id)),FX.context.permalink||(FX.context.permalink=!0,X.publish("context/changed"))})),X.subscribe_backlog("post/add",(function(t,e){const i=e.$post,o=e.sfx_id;var a="sfx_mr_checked";if((y||x.includes(o))&&X.publish("post/permalink",{$post:i,id:"",sfx_id:o,actor:"mark_read"}),r(o)&&s[o]&&s[o].read_on){const t=i.hasClass("sfx_popup_post");X.publish("log/postdata",{$post:i,message:`Post ID=${o} was read on ${s[o].read_on}`}),(t||y||x.includes(o))&&(X.publish("log/postdata",{$post:i,message:t?"Post is in comment viewer popup":"Post named in permalink: make initially visible"}),a+=" sfx_once sfx_show_read"),f(i,"previous user action")}i.addClass(a),v(i),i.on("mouseenter",(function(t){t.altKey||t.metaKey||t.sfx_event||n.$post[0]==i[0]||m(i)}))}));const F=function(){!l&&FX.option("show_mark_all_read")&&(X.publish("cp/always_show"),l=!0,X.publish("cp/section/add",{name:"Post Controller",order:10,id:"sfx_cp_post_controller",help:"Act on all visible posts at once"}),Vue.nextTick((function(){if(X.find(`.${e.instance} [id=sfx_cp_post_controller]`)){var n=FX.oneLineLtrim('\n                            <div class="sfx_cp_mark_all_read" style="text-align:center;">\n                                <input type="button" class="sfx_button" value="Mark All Read" @click="mark_all_read">\n                                <input type="button" class="sfx_button" v-bind:disabled="!undo.posts_marked_read" value="Undo ({{posts_marked_read.length}})" @click="undo_mark_read">\n                            </div>'),i={mark_all_read:()=>X.publish("post/mark_all_read"),undo_mark_read:()=>X.publish("post/undo_mark_read")};t(`.${e.instance} [id=sfx_cp_post_controller]`,n,d,i)}else l=!1})))};X.subscribe_backlog("posts/reset",(()=>(l=!1,F()))),F(),X.subscribe_backlog("post/action/add",(function(t,e){"wrench"==e.section?n.wrench_items.push(e):"filter"==e.section&&n.filter_items.push(e)})),X.publish("post/action/add",{section:"wrench",label:"Post Data",order:40,message:"post/action/postdata"}),X.subscribe("post/action/postdata",(function(t,e){var n=[];X.publish("log/postdata/get",{id:e.id,callback:function(t){n=t}}),n=n.slice(1).map((t=>X.htmlEncode(t))).join("<br>");const o=r(e.sfx_id)&&s[e.sfx_id]?JSON.stringify(s[e.sfx_id],null,3):"{}",a=FX.oneLineLtrim(`\n                    <div>This popup shows what Social Fixer remembers about this post.</div>\n                    <div class="sfx_bubble_note_data">Post ID: ${e.sfx_id}<br>DOM ID: ${e.id}</div>\n                    <div>Data stored for this post:</div>\n                    <div class="sfx_bubble_note_data">${o}</div>\n                    <div>Processing Log:</div>\n                    <div class="sfx_bubble_note_data">${n}</div>\n                `);X("[id=sfx_post_data_bubble]").remove(),i(a,{position:"top_right",title:"Post Data",id:"sfx_post_data_bubble",close:!0})}))}))}))})),FX.add_option("disabled",{hidden:!0,default:!1}),X.beforeReady((function(t){return!!t&&(X.css(sfx_menu_style,"sfx_menu_style"),FX.option("disabled")?(e.buildstr+=" (DISABLED)",init_wrench(!0),X.when(e.badge_sel,(t=>t.attr("sfx_notification_count","X"))),FX.fire_content_loaded(),!1):void X.css(sfx_style,"sfx_style"))})),X.ready("menu",(function(){init_wrench(!1)}));var init_wrench=function(n){FX.add_option("badge_x",{hidden:!0,default:-64}),FX.add_option("badge_y",{hidden:!0,default:5}),FX.add_option("reset_wrench_position",{title:"  Wrench Menu",section:"Advanced",description:"If your wrench menu badge somehow gets positioned so you can't see it, click here to reset its position to the upper right corner.",type:"action",action_text:"Find Wrench Menu",action_message:"menu/reset_position"}),FX.add_option("news_alerts",{title:"Social Fixer News",section:"Advanced",description:"Check for official news or blog posts from the Social Fixer team so you don't miss out on updates, updated filters, important news, etc. (Estimated frequency is one post a week)",default:!0});var i={add:function(t,e){s.sections[t].items.push(e)},remove:function(t,e){for(var n=s.sections[t].items,i=0;i<n.length;i++){var o=n[i];e.message===o.message&&(n.splice(i,1),i--)}},click:function(t){t&&X.publish(t)},toggle:function(){var t=X(e.badge_sel),n=t.find("[id=sfx_badge_menu]");if("none"==n.css("display")){n.css("visibility","hidden"),n.show();var i=document.body.clientWidth||window.innerWidth,o=window.innerHeight,s=t[0].offsetLeft,r=t[0].offsetTop;s<=i/2?n.addClass("right").removeClass("left"):n.addClass("left").removeClass("right"),r<=o/2?n.addClass("down").removeClass("up"):n.addClass("up").removeClass("down"),n.css("visibility","")}else n.hide()},hide:function(){let t=X(`${e.badge_sel} [id=sfx_badge_menu]`);"none"!==t[0].style.display&&(X.publish("esc/prevent"),t.hide())}};const o=function(t){X.publish("notify/set",{target:`.${e.instance} [id=sfx_unread_blog_count]`,parent_target:e.badge_sel,count:t})};var s={sections:{options:{title:"Options",items:[],order:1},actions:{title:"Actions",items:[],order:2},links:{title:"Links",items:[],order:3},debug:{title:"Debug",items:[],order:4},other:{title:"Other",items:[],order:5}},tips:!FX.option("disable_tooltips")},a=FX.oneLineLtrim(`\n\t\t<div id="sfx_badge" class="${e.instance}" @click.stop="toggle" v-tooltip="{content:'Drag to move Social Fixer wrench menu badge - ${e.buildstr}',delay:1500}">\n\t\t\t<div id="sfx_badge_menu">\n\t\t\t\t<div id="sfx_badge_menu_wrap">\n\t\t\t\t\t<div v-for="section in sections | orderBy 'order'" class="sfx_menu_section" id="sfx_menu_section_{{$key}}">\n\t\t\t\t\t\t<div v-if="section.items.length" class="sfx_menu_section_title">{{section.title}}</div>\n\t\t\t\t\t\t<div v-for="item in section.items" id="{{item.id}}" class="sfx_menu_item" @click="click(item.message);" title="{{tips ? item.tooltip : ''}}">\n\t\t\t\t\t\t\t<a v-if="item.url" href="{{item.url}}" target="{{item.target}}" class="sfx_menu_item_content" style="display:block;">{{{item.html}}}</a>\n\t\t\t\t\t\t\t<div v-else class="sfx_menu_item_content">{{{item.html}}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id="sfx_badge_logo"></div>\n\t\t</div>\n\t`),l=!1,c=function(){if(!X.find("body")||!FX.isNonLoginPage)return null;var n=X("[id=sfx_badge]"),o=null;n.length&&(o=n.attr("sfx_buildstr")||"old"),t("body",a,s,i).ready((function(){f("saved",null,!1),X.draggable(e.badge_sel,(function(t,e,n){f(e,n,!0)}))}));var c,d=X(e.badge_sel);return d.attr("sfx_buildstr",e.buildstr).attr("old_buildstr",o),c=d,FX.on_options_load((function(){if(!FX.storage("stats").installed_on){const t=FX.option("badge_x")<0?"left":"right",n="right"===t?"&larr; ":"",i="left"===t?" &rarr;":"",o=r(e.badge_sel,t,n+"Social Fixer is installed! Start here"+i);X.storage.set("stats","installed_on",X.now()),c[0].addEventListener("mouseover",(()=>o.remove()),{once:!0})}})),l=!0,d},d=function(){!l&&d.tries-- >0&&(FX.isNonLoginPage&&c(),setTimeout(d,d.cadence*X.seconds))};d.cadence=.5,d.tries=10/d.cadence,setTimeout(d,d.cadence*X.seconds),FX.on_content_loaded((()=>l||c()));const u=X.logger("position_wrench"),f=function(t,n,i,o=!1){if(!X("#sfx_style").length){if(!o)return u("sfx_style     ","not ready: retry"),setTimeout((()=>f(t,n,i,!0)),.2*X.seconds);u("sfx_style     ","missing, giving up"),X.support_note("position_badge","sfx_style was missing")}var s=X(e.badge_sel);if(!s.length&&!(s=c()))return u("make_badge()  ","didn't work"),void X.support_note("position_badge","make_badge() didn't work");const r=document.body.clientWidth||window.innerWidth,a=window.innerHeight;u("document.body ",document.body.clientWidth,document.body.clientHeight),u("window.inner  ",window.innerWidth,window.innerHeight),u("window_size   ",r,a),"saved"==t&&(t=FX.option("badge_x"),n=FX.option("badge_y"),u("previous saved",t,n)),Number.isInteger(t)&&Number.isInteger(n)||(t=FX.option_default("badge_x"),n=FX.option_default("badge_y")),u("integer check ",t,n),u("reconstituted ",t=t<-r?0:t<0?t+r:t,n=n<-a?0:n<0?n+a:n);const l=s.offset();u("badge_size    ",l.width,l.height),(l.width<5||l.width>100||l.height<5||l.height>100)&&(l.width=l.height=34,u("override size ",l.width,l.height)),t=Math.max(4,Math.min(t,r-l.width)),n=Math.max(4,Math.min(n,a-l.height)),u("kept on-screen",t,n),s.css({left:t,top:n}),i&&(u("values to save",t=t>r/2?t-r:t,n=n>a/2?n-a:n),FX.option("badge_x",t,!1),FX.option("badge_y",n,!1),X.storage.save("options"))};i.add("links",{id:"sfx_badge_menu_item_page",html:'<span id="sfx_unread_blog_count"></span>Social Fixer News/Blog',url:"https://www.facebook.com/socialfixer",message:"menu/news_clicked"}),i.add("links",{html:"Support Group",url:"https://socialfixer.com/support/"}),n?(i.add("options",{html:'Social Fixer is <span style="color:red;font-weight:bold;">Disabled</span>.<br>Click here to Enable.</span>',message:"menu/enable"}),i.add("other",{html:"Version "+e.buildstr,message:"menu/about_clicked"})):(i.add("options",{html:'Social Fixer Options <span style="font-size:calc(0.5rem * var(--sfx_ui_scale));color:#aaa;">(Ctrl+Shift+X)</span>',message:"menu/options"}),i.add("links",{html:"Donate To Support Development",url:"https://socialfixer.com/donate.html"}),i.add("other",{html:"Version "+e.buildstr,message:"menu/about_clicked"}),i.add("other",{html:"Disable Social Fixer",message:"menu/disable"}));const p=function(){return X.publish("menu/reset_position"),X.when(e.badge_sel,(t=>t.click()))};if(X(window).keyup((function(t){if(t.ctrlKey&&t.shiftKey&&("x"==t.key||"X"==t.key)){if(t.preventDefault(),t.stopPropagation(),n)return p();f("saved",null,!1),X.publish("menu/options")}})),X.subscribe("menu/disable",(function(){confirm("This will disable all Social Fixer functionality, but the wrench will still appear so you can re-enable.\n\nThe page will be automatically refreshed after disabling.\n\nAre you sure you want to disable?")&&X.storage.set("options","disabled",!0,(function(){window.location.reload()}))})),X.subscribe("menu/enable",(function(){X.storage.set("options","disabled",!1,(function(){window.location.reload()}))})),X.subscribe_backlog("menu/add",(function(t,e){i.add(e.section,e.item)})),X.subscribe("menu/remove",(function(t,e){i.remove(e.section,e.item)})),X(window).click(i.hide),X.subscribe("esc/pressed",i.hide),window.addEventListener("resize",(function(){f("saved",null,!0)})),X.subscribe("menu/reset_position",(function(){var t;X.storage.set("options",{badge_x:t,badge_y:t},(function(){f("saved",null,!0)}))})),X.subscribe("menu/about_clicked",(function(){X.publish("menu/options",{section:"About"})})),n)/sfx_options=true/.test(location.href)&&p();else{FX.on_options_load((function(){X.task("news_alerts",1*X.seconds,(function(){FX.option("news_alerts")&&X.when(`.${e.instance} [id=sfx_badge_menu_item_page]`,(function(t){var e=X.now();X.storage.get("stats",{},(function(n){n&&n.sfx_news_checked_on?X.ajax("https://matt-kruse.github.io/socialfixerdata/news.json",(function(e){if(!e||!e.news)return;var i=0,s=null,r=null;const a=t.find("a");if(e.news.reverse().forEach((function(t){t.time>n.sfx_news_checked_on&&(r=a.attr("href"),a.attr("href",t.href),s=t.title,i++)})),o(i),i>0){var l=X('<div style="text-align:right;font-size:calc(0.55rem * var(--sfx_ui_scale));color:#777;" class="sfx_link sfx_clear_notification_link">clear notification</div>');l.click((function(){a.attr("href",r),h()})),t.before(l)}1==i&&s&&t.find(".sfx_menu_item_content").append('<div class="sfx_news_title">'+X.sanitize(s)+"</div>")})):X.storage.set("stats","sfx_news_checked_on",e,(function(){}))}))}))}))}));var h=function(){X.storage.set("stats","sfx_news_checked_on",X.now(),(function(){o(0),X(".sfx_news_title,.sfx_clear_notification_link").remove()}))};X.subscribe("menu/news_clicked",(function(){h()}))}};X.ready("message_links_to_messenger",(function(){FX.add_option("messages_open_in_full_window",{title:"Open Messages In Full Tab",description:"Open Facebook chat conversations in their own full browser tabs instead of chat boxes at the bottom.",default:!1});var t=null;const e=function(t){if(!/\/messages($|\/)/.test(window.location.href)&&!/(^|\.)messenger\.com$/.test(window.location.hostname)){var e=X.target(t,!0).closest('[role=button],[href*="/messages/t/"]').attr("href");e&&!/#$/.test(e)&&(window.open(e),t.stopPropagation(),t.preventDefault())}};FX.on_option_live("messages_open_in_full_window",(function(n){t=X.uncapture(t,"click",e),n&&(t=X.capture(document.documentElement,"click",e))}))})),X.ready("most_recent",(function(){FX.add_option("auto_switch_to_recent_stories",{title:"Automatically Switch to Most Recent view of the main Newsfeed",description:"Facebook defaults to Top Posts. This option detects this view and automatically switches you to the chronological Most Recent view.",default:!1}),FX.add_option("auto_switch_hide_message",{section:"Advanced",title:"Hide Most Recent switch messages",description:"When automatically switched to the Most Recent news feed, hide the message that appears to inform you of the switch.",default:!1}),FX.add_option("redirect_home_links",{section:"Advanced",title:"Redirect Home Links",description:"Try to keep links to the Home Page in your current view - Most Recent or Top Posts.",default:!0});const t=(t=location.host)=>/(?:^|\.)facebook\.com$/.test(t)&&!/^(?:m|mbasic|apps)\./.test(t);FX.on_options_load((function(){FX.option("redirect_home_links")&&FX.on_content_loaded((function(){X.capture(document.body,"mousedown",(function(e){if(e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;var n=X.target(e,!0);n.is("a")||(n=n.closest("a"));const i=n.attr("href"),o=new URL(i,location);t(o.host)&&"/"==o.pathname&&"#"!=i&&!o.search&&(n.closest('*[role="main"]').length?(e.preventDefault(),e.stopPropagation(),location="https://www.facebook.com/?sk=h_nor&sfx_switch=true"):FX.option("auto_switch_to_recent_stories")&&(e.preventDefault(),e.stopPropagation(),location="https://www.facebook.com/?sk=h_chr&sfx_switch=true"))}))})),FX.on_content_loaded((function(){if(t()&&FX.option("auto_switch_to_recent_stories")){if(/[?&]sfx_switch=true/.test(location.search)&&/sk=h_chr/.test(location.search)){if(!FX.option("auto_switch_hide_message")){const t=FX.option("badge_x")<0?"left":"right",n=r(e.badge_sel,t,"Auto-switched to Most Recent");setTimeout((function(){n.remove()}),3*X.seconds)}return}if(/[?&](?:sfx_options=true|sk=)/.test(location.search))return;if("/"!=location.pathname)return;setTimeout((function(){X(document.body).css("opacity","1")}),2*X.seconds),X(document.body).css("opacity",".2"),location.href="/?sk=h_chr&sfx_switch=true"}}))}))})),X.ready("notify",(function(){X.subscribe("notify/set",((t,e)=>X.when(e.target,(function(t){var n=t.attr("sfx_notification_count")||0,i=+("count"in e?e.count:n||0)+ +("increment"in e?e.increment:0);t.attr("sfx_notification_count",i),e.parent_target&&(0==n&&i>0&&X.publish("notify/increment",{target:e.parent_target}),n>0&&0==i&&X.publish("notify/decrement",{target:e.parent_target}))}),200,100))),X.subscribe(["notify/increment","notify/decrement","notify/clear"],(function(t,e){const n=e.parent_target,i=e.target;X.publish("notify/set","notify/increment"===t?{parent_target:n,target:i,increment:1}:"notify/decrement"===t?{parent_target:n,target:i,increment:-1}:"notify/clear"===t?{parent_target:n,target:i,count:0}:{})}))})),X.ready("options",(function(){FX.add_option("show_filtering_tooltips",{hidden:!0,default:!0}),FX.on_options_load((function(){X.task("update_filter_subscriptions",4*X.hours,(function(){d("filters",FX.storage("filters"))})),X.task("update_tweak_subscriptions",4*X.hours,(function(){d("tweaks",FX.storage("tweaks"))}));var n=[{name:"Search",description:"Options with a title or description matching your search text (at least 3 characters) will appear below."},{name:"General",description:""},{name:"Hide Posts",description:""},{name:"Filters",description:""},{name:"Display Tweaks",description:""},{name:"Advanced",description:""},{name:"Experiments",description:"These features are a work in progress, not fully functional, or possibly confusing to users."},{name:"Data",description:""},{name:"Support",url:"https://matt-kruse.github.io/socialfixerdata/support.html",property:"content_support"},{name:"Donate",url:"https://matt-kruse.github.io/socialfixerdata/donate.html",property:"content_donate"},{name:"About",url:"https://matt-kruse.github.io/socialfixerdata/about.html",property:"content_about"},{name:"Debug",className:"sfx_debug_tab",description:"These are debugging tools to help developers and those needing support. These are not normal features. Play with them if you wish, or visit them if asked to by the Support Team."}],i={action_button:null,show_action_buttons:!0,sections:n,filters:null,show_filtering_tooltips:FX.option("show_filtering_tooltips"),editing_meta:{},editing_filter:null,filter_subscriptions:null,tweak_subscriptions:null,tweaks:null,editing_tweak:null,show_advanced:!1,options:FX.options,user_options:"",user_options_message:null,storage_size:JSON.stringify(X.storage.data).length,supports_download_attribute:"download"in document.createElement("a"),content_about:"Loading...",content_donate:"Loading...",sfx_option_show_donate:!1,content_support:"Loading...",support_notes:null,searchtext:null};X.subscribe("menu/options",(function(o,s){s||(s={});try{if(X("#sfx_options_dialog").length)return;n.forEach((function(t){var e=t.name;for(var n in t.options=[],s.section?t.selected=s.section==e:t.selected="General"==e,FX.options){var i=FX.options[n];("General"==e&&!i.section||e==i.section)&&(i.newValue=i.value=FX.option(i.key),t.options.push(i)),i.title&&i.title==s.highlight_title&&(i.highlighted=!0)}t.options=t.options.sort((function(t,e){var n=(t.title||"")+" "+(t.order||"")+" "+(t.description||""),i=(e.title||"")+" "+(e.order||"")+" "+(e.description||"");return n<i?-1:n>i?1:0}))}));const o=Object.values(X.clone(X.storage.data.filters||[])).filter((t=>!!t));i.filters=o;const h=Object.values(X.clone(X.storage.data.tweaks||[])).filter((t=>!!t));i.tweaks=h,X.support_notes&&(i.support_notes=X.support_notes);var a=FX.oneLineLtrim(`<div id="sfx_options_dialog" class="sfx_dialog sfx-flex-column" style="transition: height .01s;">\n\t<div id="sfx_options_dialog_header" class="sfx_dialog_title_bar" style="cursor:move;" @click="collapse" v-tooltip="{content:'Click to window-shade, drag to move',position:'below'}">\n\t\tSocial Fixer ${e.version}\n\t\t<div id="sfx_options_dialog_actions" v-if="show_action_buttons" draggable="false" >\n\t\t\t<input draggable="false" v-if="action_button=='done_editing_filter'" class="sfx_options_dialog_panel_button sfx_button" type="button" value="Done Editing Filter" @click.stop="close_filter">\n\t\t\t<input draggable="false" v-if="action_button=='done_editing_tweak'" class="sfx_options_dialog_panel_button sfx_button" type="button" value="Done Editing Tweak" @click.stop="close_tweak">\n\t\t\t<input draggable="false" v-if="!action_button" class="sfx_button" type="button" @click.stop="save" value="Save Changes">\n\t\t\t<input draggable="false" type="button" class="sfx_button secondary" @click.stop="cancel" value="Cancel">\n\t\t</div>\n\t</div>\n\t<div id="sfx_options_dialog_body" class="sfx-flex-row" draggable="false">\n\t\t<div id="sfx_options_dialog_sections">\n\t\t\t<template v-for="section in sections">\n\t\t\t\t<template v-if="section.name=='Search'">\n\t\t\t\t\t<div @click="select_section(section)" class="sfx_options_dialog_section {{section.selected?'selected':''}} {{section.className}}"><input class="sfx_input" style="width:90%;" placeholder="Search..." @keyup="search" v-model="searchtext"></div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div @click="select_section(section)" class="sfx_options_dialog_section {{section.selected?'selected':''}} {{section.className}}">{{section.name}}</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t\t<div id="sfx_options_dialog_content">\n\t\t\t<div v-if="section.selected" v-for="section in sections" class="sfx_options_dialog_content_section">\n\t\t\t\t<template v-if="section.name=='Filters'">\n\t\t\t\t\t<div id="sfx_options_dialog_filters">\n\t\t\t\t\t    <div v-if="!editing_filter" class="sfx_options_dialog_filter_list">\n\t\t\t\t\t        <div class="">\n\t\t\t\t\t            <span class="sfx_button" style="float:right;background-color:green;" onclick="window.open('https://github.com/matt-kruse/SocialFixer/wiki/Post-Filtering#filter-list','SFX_FILTER_HELP','width=1024,height=600');"><b>[?]</b> Open Filter Help</span>\n\t\t\t\t\t            Post Filters let you hide posts, put them in tabs, or change their appearance based on their content. They execute in the order below for each post.\n\t\t\t\t\t            <br style="clear:both;">\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_option" style="margin:10px 10px;font-size:calc(0.7rem * var(--sfx_ui_scale));float:left;">\n\t\t\t\t\t            <input id="filters_enabled" type="checkbox" v-model="options.filters_enabled.newValue"/><label for="filters_enabled"></label> Post Filtering enabled\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_option" style="margin:10px 10px;font-size:calc(0.7rem * var(--sfx_ui_scale));float:left;">\n\t\t\t\t\t            <input id="filters_enabled_pages" type="checkbox" v-model="options.filters_enabled_pages.newValue"/><label for="filters_enabled_pages"></label> Filter on Pages/Timelines\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_option" style="margin:10px 10px;font-size:calc(0.7rem * var(--sfx_ui_scale));float:left;">\n\t\t\t\t\t            <input id="filters_enabled_groups" type="checkbox" v-model="options.filters_enabled_groups.newValue"/><label for="filters_enabled_groups"></label> Filter in Groups\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_options_dialog_panel_header" style="clear:both;">Active Filters</div>\n\t\t\t\t\t        <div>\n\t\t\t\t\t            <input type="button" class="sfx_button" value="Create A New Filter" @click="add_filter">\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <table class="sfx_options_dialog_table">\n\t\t\t\t\t            <thead>\n\t\t\t\t\t            <tr>\n\t\t\t\t\t                <th>#</th>\n\t\t\t\t\t                <th>Title</th>\n\t\t\t\t\t                <th>Description</th>\n\t\t\t\t\t                <th style="text-align:center;">Actions</th>\n\t\t\t\t\t                <th style="text-align:center;">Stop On<br>Match</th>\n\t\t\t\t\t                <th style="text-align:center;">Enabled</th>\n\t\t\t\t\t            </tr>\n\t\t\t\t\t            </thead>\n\t\t\t\t\t            <tbody>\n\t\t\t\t\t            <tr v-for="filter in filters" v-bind:class="{'sfx_options_dialog_option_disabled':!filter.enabled}">\n\t\t\t\t\t                <td>{{$index + 1}}</td>\n\t\t\t\t\t                <td class="sfx_options_dialog_option_title">{{filter.title}}<span v-if="filter.id" style="font-weight:normal;font-style:italic;color:green;margin-top:5px;" v-tooltip="{content:'Click \\'x\\' to unsubscribe',delay:250}"> (Subscribed)</span></td>\n\t\t\t\t\t                <td class="sfx_options_dialog_option_description">\n\t\t\t\t\t                    {{filter.description}}\n\t\t\t\t\t                    <div v-if="filter.id && filter.subscription_last_updated_on" style="font-style:italic;color:#999;margin-top:5px;">Subscription last updated: {{ago(filter.subscription_last_updated_on)}}</div>\n\t\t\t\t\t                </td>\n\t\t\t\t\t                <td class="sfx_options_dialog_option_action" style="white-space:nowrap;">\n\t\t\t\t\t                    <span class="sfx_square_control" v-tooltip="Edit" @click="edit_filter(filter,$index)">&#9998;</span>\n\t\t\t\t\t                    <span class="sfx_square_control sfx_square_delete"  v-tooltip="Delete" @click="delete_filter(filter)">&times;</span>\n\t\t\t\t\t                    <span class="sfx_square_control" v-tooltip="Move Up (Hold Ctrl to move to top)" @click="up(filter, $event, $index)">&utrif;</span>\n\t\t\t\t\t                    <span v-if="$index<filters.length-1" class="sfx_square_control" v-tooltip="Move Down (Hold Ctrl to move to bottom)" @click="down(filter, $event, $index)">&dtrif;</span>\n\t\t\t\t\t                </td>\n\t\t\t\t\t                <td style="text-align:center;">\n\t\t\t\t\t                    <input id="sfx_stop_{{$index}}" type="checkbox" v-model="filter.stop_on_match"/><label for="sfx_stop_{{$index}}" data-tooltip-delay="100" v-tooltip="If a post matches this filter, don't process the filters that follow, to prevent it from being double-processed. For most situations, this should remain checked."></label>\n\t\t\t\t\t                </td>\n\t\t\t\t\t                <td style="text-align:center;">\n\t\t\t\t\t                    <input id="sfx_filter_{{$index}}" type="checkbox" v-model="filter.enabled"/><label for="sfx_filter_{{$index}}"></label>\n\t\t\t\t\t                </td>\n\t\t\t\t\t            </tr>\n\t\t\t\t\t            </tbody>\n\t\t\t\t\t        </table>\n\n\t\t\t\t\t        <div v-if="filter_subscriptions">\n\t\t\t\t\t            <div class="sfx_options_dialog_panel_header">Filter Subscriptions</div>\n\t\t\t\t\t            <div>The pre-defined filters below are available for you to use. These "Filter Subscriptions" will be automatically maintained for you, so as Facebook changes or more keywords are needed to match a specific topic, your filters will be updated without you needing to do anything!</div>\n\t\t\t\t\t            <table class="sfx_options_dialog_table">\n\t\t\t\t\t                <thead>\n\t\t\t\t\t                <tr>\n\t\t\t\t\t                    <th>Title</th>\n\t\t\t\t\t                    <th>Description</th>\n\t\t\t\t\t                    <th>Actions</th>\n\t\t\t\t\t                </tr>\n\t\t\t\t\t                </thead>\n\t\t\t\t\t                <tbody>\n\t\t\t\t\t                <tr v-for="filter in filter_subscriptions" v-bind:class="{'sfx_filter_subscribed':filter.subscribed}">\n\t\t\t\t\t                    <template v-if="version_check(filter)">\n\t\t\t\t\t                    <td class="sfx_options_dialog_option_title">{{filter.title}}<span v-if="filter.subscribed" style="font-weight:900;font-style:italic;color:green;margin-top:5px;" v-tooltip="{content:'To unsubscribe, click \\'x\\' in the Active Filters table above',delay:250}"> (Subscribed)</span></td>\n\t\t\t\t\t                    <td class="sfx_options_dialog_option_description">{{filter.description}}</td>\n\t\t\t\t\t                    <td class="sfx_options_dialog_option_action">\n\t\t\t\t\t                        <span class="sfx_square_add" v-tooltip="Add To My Filters" @click="add_subscription(filter)">+</span>\n\t\t\t\t\t                    </td>\n\t\t\t\t\t                    </template>\n\t\t\t\t\t                </tr>\n\t\t\t\t\t                </tbody>\n\t\t\t\t\t            </table>\n\t\t\t\t\t        </div>\n\t\t\t\t\t    </div>\n\n\t\t\t\t\t    <div v-if="editing_filter" class="sfx_options_dialog_panel">\n\t\t\t\t\t        <div style="float:right;">\n\t\t\t\t\t            <span class="sfx_button" style="background-color:green;" onclick="window.open('https://github.com/matt-kruse/SocialFixer/wiki/Post-Filtering#edit-filter','SFX_FILTER_HELP','width=1024,height=600');"><b>[?]</b> Open Filter Help</span>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_panel_title_bar">\n\t\t\t\t\t            Edit Filter\n\t\t\t\t\t            <br style="clear:both;">\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_info" v-if="editing_filter.id">\n\t\t\t\t\t            This filter is a subscription, so its definition is stored on the SocialFixer.com server and updated automatically for you. If you wish to edit this filter, you can do so but it will "break" the subscription and your copy will be local and no longer updated automatically as Facebook changes.\n\t\t\t\t\t            <br><input type="button" class="sfx_button" value="Convert to local filter" @click="editing_filter.id=null"/>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_label_value">\n\t\t\t\t\t            <div>Title:</div>\n\t\t\t\t\t            <div><input class="sfx_wide sfx_input" v-model="editing_filter.title" v-bind:disabled="editing_filter.id"/></div>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_label_value">\n\t\t\t\t\t            <div>Description:</div>\n\t\t\t\t\t            <div><input class="sfx_wide sfx_input" v-model="editing_filter.description" v-bind:disabled="editing_filter.id"></div>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_options_dialog_filter_conditions sfx_options_dialog_panel">\n\t\t\t\t\t            <div class="sfx_panel_title_bar">\n\t\t\t\t\t                IF ...\n\t\t\t\t\t                <br style="clear:both;">\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div v-for="rule in editing_filter.rules">\n\t\t\t\t\t                <div class="sfx-flex-row-container">\n\t\t\t\t\t                    <div><select v-if="$index>0" v-model="editing_filter.match" v-bind:disabled="editing_filter.id"><option value="ALL" data-tooltip-delay="100" v-tooltip="Choose whether all conditions must be met (AND) or if any of the conditions must be met (OR)">AND<option value="ANY">OR</select></div>\n\t\t\t\t\t                    <div><select v-model="rule.target" v-bind:disabled="editing_filter.id" data-tooltip-delay="100" v-tooltip="Which attribute of the post do you want to match on?\nSee the Filter Help for a full explanation of each type">\n\t\t\t\t\t                        <option value="any">Any Post Content</option>\n\t\t\t\t\t                        <option value="any+image">Post Text + Caption</option>\n\t\t\t\t\t                        <option value="content">Post Text Content</option>\n\t\t\t\t\t                        <option value="action">Post Action</option>\n\t\t\t\t\t                        <option value="author">Author</option>\n\t\t\t\t\t                        <option value="group">Group Posted In</option>\n\t\t\t\t\t                        <option value="page">Page Posted By</option>\n\t\t\t\t\t                        <option value="app">App/Game Name</option>\n\t\t\t\t\t                        <option value="link_url">Link URL</option>\n\t\t\t\t\t                        <option value="link_text">Link Text</option>\n\t\t\t\t\t                        \x3c!--\n\t\t\t\t\t                        <option value="day">Day of the Week</option>\n\t\t\t\t\t                        <option value="age">Post Age</option>\n\t\t\t\t\t                        --\x3e\n\t\t\t\t\t                        <option value="image">Photo Caption</option>\n\t\t\t\t\t                        <option value="hashtag">Any Hashtag</option>\n\t\t\t\t\t                    </select></div>\n\t\t\t\t\t                    <template v-if="rule.target=='day'">\n\t\t\t\t\t                        <div style="padding-left:10px;" data-tooltip-delay="100" v-tooltip="Choose which days of the week this filter should be active">\n\t\t\t\t\t                            is\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_0" v-bind:disabled="editing_filter.id"> Sun\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_1" v-bind:disabled="editing_filter.id"> Mon\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_2" v-bind:disabled="editing_filter.id"> Tue\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_3" v-bind:disabled="editing_filter.id"> Wed\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_4" v-bind:disabled="editing_filter.id"> Thu\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_5" v-bind:disabled="editing_filter.id"> Fri\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.condition.day_6" v-bind:disabled="editing_filter.id"> Sat\n\t\t\t\t\t                        </div>\n\t\t\t\t\t                    </template>\n\t\t\t\t\t                    <template v-if="rule.target=='age'">\n\t\t\t\t\t                        <div style="padding-left:10px;">\n\t\t\t\t\t                            is\n\t\t\t\t\t                            <select v-model="rule.operator" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                                <option value="gt">Greater Than</option>\n\t\t\t\t\t                                <option value="lt">Less Than</option>\n\t\t\t\t\t                            </select>\n\t\t\t\t\t                            <input class="sfx_input" type="number" min="1" style="width:40px;" v-model="rule.condition.value" size="3" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                            <select v-model="rule.condition.units" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                                <option value="h">Hours</option>\n\t\t\t\t\t                                <option value="d">Days</option>\n\t\t\t\t\t                            </select>\n\t\t\t\t\t                        </div>\n\t\t\t\t\t                    </template>\n\t\t\t\t\t                    <template v-if="rule.target!='day' && rule.target!='age'">\n\t\t\t\t\t                        <div>\n\t\t\t\t\t                            <input type="checkbox" class="normal" v-model="rule.not" v-bind:disabled="editing_filter.id"> NOT\n\t\t\t\t\t                        </div>\n\t\t\t\t\t                        <div>\n\t\t\t\t\t                            <select v-model="rule.operator" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                                <option value="contains">Contains</option>\n\t\t\t\t\t                                <option value="equals">Equals Exactly</option>\n\t\t\t\t\t                                <option value="startswith">Starts With</option>\n\t\t\t\t\t                                <option value="endswith">Ends With</option>\n\t\t\t\t\t                                <option value="matches">Matches Regex</option>\n\t\t\t\t\t                                <option v-if="rule.target=='any'" value="contains_selector">Matches CSS Selector</option>\n\t\t\t\t\t                            </select>\n\t\t\t\t\t                        </div>\n\t\t\t\t\t                        <div class="stretch" style="white-space:nowrap;">\n\t\t\t\t\t                            <span v-if="['matches',].includes(rule.operator)" style="margin-left:10px;font-weight:bold;">/</span>\n\t\t\t\t\t                            <input v-if="['contains','equals','startswith','endswith',].includes(rule.operator)" class="stretch sfx_input" v-on:focus="clear_test_regex" v-on:blur="test_regex" v-model="rule.condition.text" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                            <input v-if="['contains_selector',].includes(rule.operator)" class="stretch sfx_input" v-model="rule.condition.text" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                            <input v-if="['matches',].includes(rule.operator)" class="stretch sfx_input" v-model="rule.condition.text" style="max-width:70%;" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                            <div>\n\t\t\t\t\t                                <span style="white-space:normal;" v-if="'re'==rule.matcher && ['equals','contains',].includes(rule.operator)">word|or phrase|more of either|...</span>\n\t\t\t\t\t                            </div>\n\t\t\t\t\t                            <span v-if="['matches',].includes(rule.operator)" style="font-weight:bold;">/</span>\n\t\t\t\t\t                            <input class="sfx_input" v-if="['matches',].includes(rule.operator)" v-model="rule.condition.modifier" size="2" v-bind:disabled="editing_filter.id" data-tooltip-delay="100" v-tooltip="Regular Expression modifier, such as 'i' for case-insensitive">\n\t\t\t\t\t                            <template v-if="!['matches','contains_selector',].includes(rule.operator)">\n\t\t\t\t\t                                <select v-model="rule.condition.modifier" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                                    <option value="i">ignore case</option>\n\t\t\t\t\t                                    <option value="I">Match Case</option>\n\t\t\t\t\t                                </select>\n\t\t\t\t\t                                <select v-model="rule.matcher" v-bind:disabled="editing_filter.id">\n\t\t\t\t\t                                    <option value="re">Regular Expression</option>\n\t\t\t\t\t                                    <option value="str">Simple String Match</option>\n\t\t\t\t\t                                </select>\n\t\t\t\t\t                            </template>\n\t\t\t\t\t                            <span v-if="['contains',].includes(rule.operator)" style="white-space:nowrap;padding-left:5px;">\n\t\t\t\t\t                                <input type="checkbox" class="normal" v-model="rule.match_partial_words" v-bind:disabled="editing_filter.id" data-tooltip-delay="100" v-tooltip="Check this if you want the text to be a partial match. For example, if 'book' should also match 'Facebook'. If unchecked, only whole words will be matched.">\n\t\t\t\t\t                                <span v-if="(!editing_filter.id || rule.match_partial_words)"> Match partial words</span>\n\t\t\t\t\t                            </span>\n\t\t\t\t\t                            <span v-if="['matches',].includes(rule.operator)" class="sfx_link" @click="regex_test(rule.condition)" data-tooltip-delay="100" v-tooltip="Test your regular expression against text to make sure it matches as you expect."> [test]</span>\n\t\t\t\t\t                        </div>\n\t\t\t\t\t                    </template>\n\t\t\t\t\t                    <span v-if="editing_filter.rules.length>1" class="sfx_square_control sfx_square_delete" style="margin:0 10px;" v-tooltip="Delete" @click="delete_rule(rule)">&times;</span>\n\t\t\t\t\t                </div>\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div v-if="!editing_filter.id">\n\t\t\t\t\t                <input type="button" class="sfx_button" value="Add A Condition" @click="add_condition">\n\t\t\t\t\t            </div>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div class="sfx_options_dialog_filter_actions sfx_options_dialog_panel">\n\t\t\t\t\t            <div class="sfx_panel_title_bar">... THEN</div>\n\t\t\t\t\t            <div class="sfx_info" v-if="editing_filter.id && editing_filter.configurable_actions && editing_filter.actions[0].action==''">\n\t\t\t\t\t                This Filter Subscription defines the rules above, but the action to take is up to you to define. When updated automatically, the rules above will be updated but your selected actions are personal to you.\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div class="sfx_info" v-if="editing_filter.id && editing_filter.configurable_actions && editing_filter.actions[0].action!=''">\n\t\t\t\t\t                The Actions to take when this filter subscription matches may be changed. If you change the actions, the criteria above will continue to be updated but your customized actions will not be over-written when the filter updates itself.\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div class="sfx-flex-row-container" v-for="action in editing_filter.actions">\n\t\t\t\t\t                <select v-model="action.action" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions" data-tooltip-delay="100" v-tooltip="If the conditions match, what action should be taken on the post?">\n\t\t\t\t\t                    <option value=""></option>\n\t\t\t\t\t                    <option value="hide">Hide post</option>\n\t\t\t\t\t                    <option value="unhide">Unhide post</option>\n\t\t\t\t\t                    <option value="read">Mark post 'Read'</option>\n\t\t\t\t\t                    <option value="unread">Unmark post 'Read'</option>\n\t\t\t\t\t                    <option value="css">Add CSS</option>\n\t\t\t\t\t                    <option value="class">Add CSS Class</option>\n\t\t\t\t\t                    <option value="replace">Replace text</option>\n\t\t\t\t\t                    <option value="move-to-tab">Move post to tab</option>\n\t\t\t\t\t                    <option value="copy-to-tab">Copy post to tab</option>\n\t\t\t\t\t                </select>\n\t\t\t\t\t                <span v-if="action.action=='hide'">\n\t\t\t\t\t                    <input type="checkbox" class="normal" v-model="action.show_note"  data-tooltip-delay="100" v-tooltip="This will leave a small note in your feed to let you know that a post was hidden." v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions"> Show a note where the post would have been.\n\t\t\t\t\t                    <div v-if="action.show_note"> Optional Custom Reveal Note: <input class="sfx_input" v-model="action.custom_note" size="70" data-tooltip-delay="100" v-tooltip="Customize the click-to-reveal note text." style="margin-bottom:3px"></div>\n\t\t\t\t\t                    <div v-if="action.show_note"> Optional Custom Rehide Note: <input class="sfx_input" v-model="action.custom_nyet" size="70" data-tooltip-delay="100" v-tooltip="Customize the click-to-rehide note text."></div>\n\t\t\t\t\t                </span>\n\t\t\t\t\t                <span v-if="action.action=='css'">\n\t\t\t\t\t                    CSS: <input class="sfx_input" v-model="action.content" size="45" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                    To Selector: <input class="sfx_input" v-model="action.selector" size="25" data-tooltip-delay="100" v-tooltip="Apply the CSS to the element(s) specified by the selector. To target the whole post container, leave blank." v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                </span>\n\t\t\t\t\t                <span class="stretch" v-if="action.action=='class'">\n\t\t\t\t\t                    Class: <input class="sfx_input" v-model="action.content" size="45" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions" data-tooltip-delay="100" v-tooltip="Add a class name. This is useful in conjunction with a Display Tweak to customize CSS">\n\t\t\t\t\t                    To Selector: <input class="sfx_input" v-model="action.selector" size="25" data-tooltip-delay="100" v-tooltip="Apply the class to the element(s) specified by the selector. To target the whole post container, leave blank." v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                </span>\n\t\t\t\t\t                <span v-if="action.action=='replace'">\n\t\t\t\t\t                    Find: <input class="sfx_input" v-model="action.find" size="25" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                    Replace With: <input class="sfx_input" v-model="action.replace" size="25" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                </span>\n\t\t\t\t\t                <span v-if="action.action=='move-to-tab' || action.action=='copy-to-tab'">\n\t\t\t\t\t                    Tab Name: <input class="sfx_input" v-model="action.tab" size="45" v-bind:disabled="editing_filter.id && !editing_filter.configurable_actions">\n\t\t\t\t\t                </span>\n\t\t\t\t\t                <span v-if="editing_filter.actions.length>1" class="sfx_square_control sfx_square_delete" style="margin:0 10px;" v-tooltip="Delete" @click="delete_action(action)">&times;</span>\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div v-if="!editing_filter.id || editing_filter.configurable_actions">\n\t\t\t\t\t                <input type="button" class="sfx_button" value="Add An Action" @click="add_action">\n\t\t\t\t\t            </div>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <span data-tooltip-delay="100" v-tooltip="Directly move this filter to the given position number">\n\t\t\t\t\t            <input type="number" class="sfx_input" min="1" max="{{filters.length}}" v-model="editing_meta.new_number">Filter Order\n\t\t\t\t\t        </span>\n\t\t\t\t\t        <span data-tooltip-delay="100" v-tooltip="If a post matches this filter, don't process the filters that follow, to prevent it from being double-processed. For most situations, this should remain checked.">\n\t\t\t\t\t            <input type="checkbox" class="normal" v-model="editing_filter.stop_on_match">Stop On Match\n\t\t\t\t\t        </span>\n\t\t\t\t\t        <span data-tooltip-delay="100" v-tooltip="Should this filter be processed at all?">\n\t\t\t\t\t            <input type="checkbox" class="normal" v-model="editing_filter.enabled">Enabled\n\t\t\t\t\t        </span>\n\t\t\t\t\t        <div class="sfx_link" @click="show_advanced=!show_advanced" v-tooltip="{position:'above',content:'View the underlying JSON data structure for this filter. The filter can be edited manually here, or you can paste in filter code from someone else to copy their filter exactly.',delay:500}">{{show_advanced?"Hide Advanced Code &utrif;":"Show Advanced Code &dtrif;"}}</div>\n\t\t\t\t\t        <textarea v-if="show_advanced" style="width:90%;height:150px;font-size:calc(0.55rem * var(--sfx_ui_scale));font-family:monospace;" v-model="editing_filter | json+" v-bind:disabled="editing_filter.id"></textarea>\n\t\t\t\t\t    </div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</template>\n\t\t\t\t<template v-if="section.name=='Data'">\n\t\t\t\t\t<div class="sfx_info">Here you can export all of Social Fixer's stored data, including options, filters, and which stories have been read. WARNING: Importing will overwrite your existing settings!</div>\n\t\t\t\t\tTotal storage space used: {{storage_size | currency '' 0}} bytes<br><br>\n\t\t\t\t\t<input type="button" class="sfx_button" value="Save To File" @click="save_to_file()" v-if="supports_download_attribute"> <input type="button" class="sfx_button" value="Load From File" @click="load_from_file()"> <input type="button" class="sfx_button" value="Reset All Data" @click="reset_data()"><br><br>\n\t\t\t\t\t<input type="button" class="sfx_button" value="Export To Textbox" @click="populate_user_options()"> <input type="button" class="sfx_button" value="Import From Textbox" @click="import_data_from_textbox()">\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<div v-if="user_options_message" class="sfx_info">{{user_options_message}}</div>\n\t\t\t\t\t<textarea id="sfx_user_data" v-model="user_options|json" style="width:95%;height:50vh;font-family:courier new,monospace;font-size:calc(0.55rem * var(--sfx_ui_scale));"></textarea>\n\t\t\t\t</template>\n\t\t\t\t<template v-if="section.name!='Filters'">\n\t\t\t\t\t<div v-if="section.description" style="margin-bottom:15px;">{{section.description}}</div>\n\t\t\t\t\t<table class="sfx_options_dialog_table">\n\t\t\t\t\t\t<tr v-for="opt in section.options | filterBy !opt.hidden" v-if="!opt.hidden" class="{{opt.highlighted?'sfx_options_dialog_option_highlighted':''}}">\n\t\t\t\t\t\t\t<td class="sfx_options_dialog_option_title {{($index==0 || section.options[$index-1].title!=opt.title)?'':'repeat'}}">{{{opt.title | highlight searchtext}}}</td>\n\t\t\t\t\t\t\t<td class="sfx_options_dialog_option_description">{{{opt.description | highlight searchtext}}}\n\t\t\t\t\t\t\t\t<input class="sfx_input" v-if="opt.type=='text'" v-model="opt.newValue" style="display:block;width:{{opt.width || '50%'}};"/>\n\t\t\t\t\t\t\t\t<input class="sfx_input" v-if="opt.type=='number'" type="number" min="{{opt.min||1}}" max="{{opt.max||999}}" v-model="opt.newValue"/>\n\t\t\t\t\t\t\t\t<textarea v-if="opt.type=='textarea'" v-model="opt.newValue" style="display:block;width:95%;height:100px;"></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="sfx_options_dialog_option_action">\n\t\t\t\t\t\t\t\t<template v-if="opt.type=='checkbox'">\n\t\t\t\t\t\t\t\t\t<input id="sfx_option_{{opt.key}}" class="sfx_input" type="checkbox" v-model="opt.newValue"/><label for="sfx_option_{{opt.key}}"></label>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-if="opt.type=='link'">\n\t\t\t\t\t\t\t\t\t<input type="button" data-href="{{opt.url}}" onclick="window.open(this.getAttribute('data-href'));" class="sfx_button" value="GO!">\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-if="opt.type=='action'">\n\t\t\t\t\t\t\t\t\t<input type="button" @click="message(opt.action_message)" class="sfx_button" value="{{opt.action_text}}">\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t\x3c!-- Custom Section Displays --\x3e\n\t\t\t\t\t<template v-if="section.name=='Hide Posts'">\n\t\t\t\t\t\t<b>Easily hide posts from your feed by keyword or phrase.</b>\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\tJust enter each keyword or phrase you want to hide on a separate line in the text box. Any post containing one of those words will be hidden, and a small note will be shown in its place. To have more control over filtering, advanced post filtering can be setup in the "Filters" tab.\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t<input type="checkbox" class="normal" v-model="options.hide_posts_show_hidden_message.newValue"> Show a note in place of hidden posts in the news feed\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<input type="checkbox" class="normal" v-model="options.hide_posts_show_match.newValue"> Show the word or phrase that matched in the hidden-post note\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<input type="checkbox" class="normal" v-model="options.hide_posts_partial.newValue"> Match partial words (example: "the" will also match "them")\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<input type="checkbox" class="normal" v-model="options.hide_posts_case_sensitive.newValue"> Match Case\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<input type="checkbox" class="normal" v-model="options.hide_posts_caption.newValue"> Also match photo captions\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\tHide posts with these keywords or phrases (each on its own line):<br>\n\t\t\t\t\t\t<textarea v-model="options.hide_posts_text.newValue" style="width:80%;height:150px;"></textarea>\n\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="section.name=='Display Tweaks'">\n\t\t\t\t\t\t<div v-if="!editing_tweak">\n\t\t\t\t\t\t    <div class="">\n\t\t\t\t\t\t        Display Tweaks are small snippets of CSS which change the appearance of the page. They can do anything from changing colors and fonts to hiding parts of the page or completely changing the layout. Advanced users can add their own tweaks, but most users will want to select some from the list of available Tweaks.\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    <div class="sfx_option" style="margin:10px 0;font-size:calc(0.7rem * var(--sfx_ui_scale));"><input id="tweaks_enabled" type="checkbox" v-model="options.tweaks_enabled.newValue" @change="show_current_tweaks()"/><label for="tweaks_enabled"></label> Tweaks enabled</div>\n\t\t\t\t\t\t    <div>\n\t\t\t\t\t\t        <input type="button" class="sfx_button" value="Create A New Tweak" @click="add_tweak">\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    <div v-if="tweaks.length" class="sfx_options_dialog_panel_header">Active Tweaks</div>\n\t\t\t\t\t\t    <table v-if="tweaks.length" class="sfx_options_dialog_table">\n\t\t\t\t\t\t        <thead>\n\t\t\t\t\t\t        <tr>\n\t\t\t\t\t\t            <th>#</th>\n\t\t\t\t\t\t            <th>Title</th>\n\t\t\t\t\t\t            <th>Description</th>\n\t\t\t\t\t\t            <th style="text-align:center;">Actions</th>\n\t\t\t\t\t\t            <th style="text-align:center;">Enabled</th>\n\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t        </thead>\n\t\t\t\t\t\t        <tbody>\n\t\t\t\t\t\t        <tr v-for="tweak in tweaks" v-if="isObject(tweak)" v-bind:class="{'sfx_options_dialog_option_disabled':!tweak.enabled}">\n\t\t\t\t\t\t            <td>{{$index + 1}}</td>\n\t\t\t\t\t\t            <td class="sfx_options_dialog_option_title">{{tweak.title}}<span v-if="tweak.id" style="font-weight:normal;font-style:italic;color:green;margin-top:5px;" v-tooltip="{content:'Click \\'x\\' to unsubscribe',delay:250}"> (Subscribed)</span></td>\n\t\t\t\t\t\t            <td class="sfx_options_dialog_option_description">\n\t\t\t\t\t\t                {{tweak.description}}\n\t\t\t\t\t\t                <div v-if="tweak.id && tweak.subscription_last_updated_on" style="font-style:italic;color:#999;margin-top:5px;">Subscription last updated: {{ago(tweak.subscription_last_updated_on)}}</div>\n\t\t\t\t\t\t            </td>\n\t\t\t\t\t\t            <td class="sfx_options_dialog_option_action" style="white-space:nowrap;">\n\t\t\t\t\t\t                <span class="sfx_square_control" v-tooltip="Edit" @click="edit_tweak(tweak,$index)">&#9998;</span>\n\t\t\t\t\t\t                <span class="sfx_square_control sfx_square_delete" v-tooltip="Delete" @click="delete_tweak(tweak)">&times;</span>\n\t\t\t\t\t\t            </td>\n\t\t\t\t\t\t            <td>\n\t\t\t\t\t\t                <input id="sfx_tweak_{{$index}}" type="checkbox" @change="toggle_tweak(tweak,$index)" v-model="tweak.enabled"/><label for="sfx_tweak_{{$index}}"></label>\n\t\t\t\t\t\t            </td>\n\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t        </tbody>\n\t\t\t\t\t\t    </table>\n\n\t\t\t\t\t\t    <div v-if="tweak_subscriptions">\n\t\t\t\t\t\t        <div class="sfx_options_dialog_panel_header">Available Display Tweaks (Snippets)</div>\n\t\t\t\t\t\t        <div>\n\t\t\t\t\t\t            Below is a list of display tweaks maintained by the Social Fixer team which you may find useful. When you add them to your list, they will be automatically updated to continue functioning if Facebook changes its layout or code.\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        <table class="sfx_options_dialog_table">\n\t\t\t\t\t\t            <thead>\n\t\t\t\t\t\t            <tr>\n\t\t\t\t\t\t                <th>Title</th>\n\t\t\t\t\t\t                <th>Description</th>\n\t\t\t\t\t\t                <th>Add</th>\n\t\t\t\t\t\t            </tr>\n\t\t\t\t\t\t            </thead>\n\t\t\t\t\t\t            <tbody>\n\t\t\t\t\t\t            <tr v-for="tweak in tweak_subscriptions" v-if="isObject(tweak)" v-bind:class="{'sfx_tweak_subscribed':tweak.subscribed}">\n\t\t\t\t\t\t                <template v-if="version_check(tweak)">\n\t\t\t\t\t\t                <td class="sfx_options_dialog_option_title">{{tweak.title}}<span v-if="tweak.subscribed" style="font-weight:900;font-style:italic;color:green;margin-top:5px;" v-tooltip="{content:'To unsubscribe, click \\'x\\' in the Active Tweaks table above',delay:250}"> (Subscribed)</span></td>\n\t\t\t\t\t\t                <td class="sfx_options_dialog_option_description">{{tweak.description}}</td>\n\t\t\t\t\t\t                <td class="sfx_options_dialog_option_action">\n\t\t\t\t\t\t                    <span class="sfx_square_add" v-tooltip="Add To My Tweaks" @click="add_tweak_subscription(tweak)">+</span>\n\t\t\t\t\t\t                </td>\n\t\t\t\t\t\t                </template>\n\t\t\t\t\t\t            </tr>\n\t\t\t\t\t\t            </tbody>\n\t\t\t\t\t\t        </table>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    <div v-else>\n\t\t\t\t\t\t        Loading Available Tweaks...\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if="editing_tweak" class="sfx_options_dialog_panel">\n\t\t\t\t\t\t    <div class="sfx_panel_title_bar">Edit Tweak</div>\n\t\t\t\t\t\t    <div class="sfx_label_value">\n\t\t\t\t\t\t        <div>Title:</div>\n\t\t\t\t\t\t        <div><input class="sfx_wide" v-model="editing_tweak.title"></div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    <div class="sfx_label_value">\n\t\t\t\t\t\t        <div>Description: </div>\n\t\t\t\t\t\t        <div><input class="sfx_wide" v-model="editing_tweak.description"></div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    <span data-tooltip-delay="100" v-tooltip="Directly move this tweak to the given position number">\n\t\t\t\t\t\t        <input type="number" class="sfx_input" min="1" max="{{tweaks.length}}" v-model="editing_meta.new_number">Tweak Order\n\t\t\t\t\t\t    </span>\n\t\t\t\t\t\t    <span data-tooltip-delay="100" v-tooltip="Should this tweak be processed at all?">\n\t\t\t\t\t\t        <input type="checkbox" class="normal" v-model="editing_tweak.enabled">Enabled\n\t\t\t\t\t\t    </span>\n\t\t\t\t\t\t    <div>CSS:<br/>\n\t\t\t\t\t\t        <textarea style="width:90%;height:250px;font-size:calc(0.55rem * var(--sfx_ui_scale));font-family:monospace;" v-model="editing_tweak.css"></textarea>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="section.name=='About'"><div id="sfx_options_content_about">{{{content_about}}}</div></template>\n\t\t\t\t\t<template v-if="section.name=='Donate'">\n\t\t\t\t\t\t<div v-if="sfx_option_show_donate" style="margin-bottom:10px;">\n\t\t\t\t\t\t\t<input id="sfx_option_show_donate" type="checkbox" v-model="options.sfx_option_show_donate.newValue"/><label for="sfx_option_show_donate"></label> Remind me every so often to help support Social Fixer through donations.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="sfx_options_content_donate">{{{content_donate}}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="section.name=='Support'">\n\t\t\t\t\t\t<div style="font-family:monospace;font-size:calc(0.55rem * var(--sfx_ui_scale));border:1px solid #ccc;margin-bottom:5px;padding:7px;">${e.user_agent}<br>Social Fixer ${e.buildstr}\n\t\t\t\t\t\t\t<br><span>Extension build target: ${e.extension_build_target}</span>\n\t\t\t\t\t\t\t<br><span>Extension store name: ${e.extension_store_name}</span>\n\t\t\t\t\t\t\t<br><span>Extension ID: ${e.extension_id}</span>\n\t\t\t\t\t\t\t<br><span v-if="support_notes"><br>Support Notes:<br>\n\t\t\t\t\t\t\t\t<span v-for="note in support_notes">{{note.who}}: {{note.what}}<br></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="sfx_options_content_support">{{{content_support}}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n`),c=function(){X("#sfx_options_dialog").remove()};X.subscribe("options/close",(function(){c()}));const _=function(){X.storage.set("stats","support",{user_agent:e.user_agent,extension_id:e.extension_id,buildstr:e.buildstr,context:FX.context,support_notes:X.support_notes})};var d,u=function(t){var e=`<div>${t}<br><br><span class="sfx_button">REFRESH THE PAGE</span> immediately to activate the changes!`;i.show_action_buttons=!1,X("#sfx_options_dialog_body").css("padding","50px").html(e),X("#sfx_options_dialog_body .sfx_button").click((()=>window.location.reload()))},f=function(t){var e,n,i=[];this.user_options_message=null;try{for(e in n=JSON.parse(t)){var o=X.clone(n[e]);X.storage.data[e]=o,X.storage.save(e,null,(function(){})),i.push(e)}u(`Successfully imported keys: ${i.join(", ")}.`)}catch(t){this.user_options_message="Error importing data: "+t.toString()}};if(s&&s.data)for(d in s.data)i[d]=s.data[d];var p={save:function(){var t,n,i={};for(n in FX.options)(t=FX.options[n]).newValue!=t.value&&(t.newValue==t.default?i[n]=undefined:i[n]=t.newValue);X.storage.data.filters=X.clone(o||[]),X.storage.data.tweaks=X.clone(h||[]),_(),X.storage.set("options",i,(function(){X.storage.save("filters",null,(function(){X.storage.save("tweaks",null,(function(){Object.keys(i).forEach((t=>FX.fire_option_update(t,FX.option(t)))),c();const t=FX.option("badge_x")<0?"left":"right";var n=r(e.badge_sel,t,' Saved!  <b style="color:red;">Reload all Facebook tabs</b> for changes to take effect! ');setTimeout((function(){n.remove()}),6*X.seconds)}))}))}))},cancel:function(){this.editing_filter?(this.editing_meta.new&&this.filters.length--,this.action_button=null,this.editing_filter=null,this.editing_meta={}):this.editing_tweak?(this.editing_meta.new&&this.tweaks.length--,this.action_button=null,this.editing_tweak=null,this.editing_meta={}):c()},collapse:function(){X("#sfx_options_dialog_body").toggle()},message:function(t){if(t){var e=t.split(/\s*,\s*/);e&&e.length>0&&e.forEach((function(t){X.publish(t,{})}))}},search:function(){var t=this.sections[0];if(t.options.splice(0,t.options.length),this.searchtext&&this.searchtext.length>2){var e=new RegExp(this.searchtext,"i");for(var n in FX.options){var i=FX.options[n];(e.test(i.title)||e.test(i.description))&&t.options.push(i)}}},select_section:function(t){this.editing_filter=null,this.action_button=null,n.forEach((function(t){t.selected=!1})),t.selected=!0,X.publish("menu/options/section",t.name)},ago:X.ago,isObject:X.isObject,version_check:function(t){return(!t.min_version||X.semver_compare(e.version,t.min_version)>=0)&&(!t.max_version||X.semver_compare(e.version,t.max_version)<=0)},clear_test_regex:function(t){X(t.target).attr("title",null).css("background-color","")},test_regex:function(t){var e=X(t.target);try{new RegExp(e.val()),e.css("background-color","")}catch(t){e.css("background-color","#e00"),e.attr("title",t.message)}},save_to_file:function(){_();var t=X('<a style="position:absolute;top:0;left:-10px;visibility:hidden;" aria-hidden="true" tabindex="-1"></a>');t.attr("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(X.storage.data,null,"  "))),t.attr("download",`Social_Fixer_Settings_${X.today()}.txt`),X(document.body).append(t),X.ui.click(t,!1),t.remove()},load_from_file:function(){var t=X('<input type="file" accept="text/*">');t.change(function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=function(t){f.call(this,t.target.result)}.bind(this),e.onerror=function(t){this.user_options_message="Error importing data: "+t.toString()}.bind(this),e.readAsText(t.target.files[0])}}.bind(this)),X.ui.click(t,!1)},populate_user_options:function(){_(),this.user_options=X.clone(X.storage.data),this.user_options_message=null},import_data_from_textbox:function(){f.call(this,X("#sfx_user_data").val())},reset_data:function(){confirm('Are you sure?\n\nResetting your data will ERASE all user preferences, "read" story data, installed filters, etc.')&&(X.storage.save("options",{}),X.storage.save("filters",[]),X.storage.save("tweaks",[]),X.storage.save("hiddens",{}),X.storage.save("postdata",{}),X.storage.save("friends",{}),X.storage.save("stats",{}),X.storage.save("messages",{}),X.storage.save("tasks",{}),u("All data has been reset."))},shuffle_entry:function(t,n,i,o){if(o="function"==typeof o?o:()=>null,n!=(i=e.bound(i,0,t.length-1,-1))&&t[n]&&t[i]){const e=X.clone(t[n]),r=i>n?1:-1;for(var s=n;s!=i;s+=r)t.$set(s,t[s+r]),o(s);t.$set(i,e)}},edit_filter:function(t,e){this.editing_filter=X.clone(t),this.editing_meta.number=e+1,this.editing_meta.new_number=e+1,this.editing_meta=X.clone(this.editing_meta),this.action_button="done_editing_filter"},delete_filter:function(t){confirm("Are you sure you want to remove this filter?")&&(this.filters.$remove(t),l(i.filter_subscriptions,o))},up:function(t,e,n){this.shuffle_entry(this.filters,n,e.ctrlKey?0:n-1)},down:function(t,e,n){this.shuffle_entry(this.filters,n,e.ctrlKey?this.filters.length-1:n+1)},close_filter:function(){this.editing_filter.updated_on=X.time();var t=this.filters[this.editing_meta.number-1];t.id&&t.configurable_actions&&!t.custom_actions&&(e.data_equals(t.actions,this.editing_filter.actions)||(this.editing_filter.custom_actions=!0));var n=this.editing_meta.number-1,s=this.editing_meta.new_number-1;this.filters.$set(n,this.editing_filter),s!=n&&this.shuffle_entry(this.filters,n,s),this.editing_filter=null,this.action_button=null,this.editing_meta={},l(i.filter_subscriptions,o)},add_filter:function(){var t={match:"ALL",enabled:!0,stop_on_match:!0,rules:[{target:"any",operator:"contains",matcher:"re",condition:{modifier:"i"}}],actions:[{action:"hide"}]};t.added_on=X.time(),this.filters.push(t),this.editing_meta.new=!0,this.edit_filter(this.filters[this.filters.length-1],this.filters.length-1)},add_subscription:function(t){var e=X.clone(t);e.enabled=!0,e.actions&&e.actions.length||(e.actions=[{action:""}],e.configurable_actions=!0),this.filters.push(e),l(i.filter_subscriptions,o)},add_condition:function(){this.editing_filter.rules.push({target:"any",operator:"contains",matcher:"re",condition:{modifier:"i"}})},delete_rule:function(t){this.editing_filter.rules.$remove(t)},add_action:function(){let t=this.editing_filter.actions;t.push(X.clone(t[t.length-1])),delete t[t.length-1].action},delete_action:function(t){this.editing_filter.actions.$remove(t)},regex_test:function(t){var e=t.text,n=t.modifier;X.publish("test/regex",{text:e,modifier:n})},edit_tweak:function(t,e){this.editing_tweak=X.clone(t),this.editing_meta.number=e+1,this.editing_meta.new_number=e+1,this.editing_meta=X.clone(this.editing_meta),this.action_button="done_editing_tweak"},tweak_css_on_off:function(t,e){e=e&&this.options.tweaks_enabled.newValue,X.css(e?this.tweaks[t].css:null,"sfx_tweak_style_"+t)},delete_tweak:function(t){confirm("Are you sure you want to remove this tweak?")&&(this.tweaks.$remove(t),this.show_current_tweaks(),l(i.tweak_subscriptions,h))},close_tweak:function(){this.editing_tweak.updated_on=X.time();var t=this.editing_meta.number-1,e=this.editing_meta.new_number-1;this.tweaks.$set(t,this.editing_tweak),e!=t&&this.shuffle_entry(this.tweaks,t,e,(t=>this.tweak_css_on_off(t,X.isObject(this.tweaks[t])&&this.tweaks[t].enabled))),this.tweak_css_on_off(e,this.editing_tweak.enabled),this.editing_tweak=null,this.action_button=null,this.editing_meta={},l(i.tweak_subscriptions,h)},add_tweak:function(){var t={title:"",description:"",enabled:!0};t.added_on=X.time();var e=this.tweaks.push(t)-1;this.editing_meta.new=!0,this.edit_tweak(this.tweaks[e],e)},add_tweak_subscription:function(t){var e=X.clone(t);e.enabled=!0;var n=this.tweaks.push(e)-1;l(i.tweak_subscriptions,h),this.tweak_css_on_off(n,!0)},toggle_tweak:function(t,e){this.tweak_css_on_off(e,X.isObject(t)&&t.enabled)},show_current_tweaks:function(){for(var t=0;t<this.tweaks.length;t++)this.tweak_css_on_off(t,X.isObject(this.tweaks[t])&&this.tweaks[t].enabled);this.tweak_css_on_off(this.tweaks.length,!1)}};t(document.body,a,i,p).ready((function(){X.draggable("#sfx_options_dialog"),s.section&&X.publish("menu/options/section",s.section)}))}catch(t){alert(t)}})),X.subscribe("menu/options/section",(function(t,e){n.forEach((function(t){t.name==e&&t.property&&t.url&&X.ajax(t.url,(function(e){i[t.property]=X.sanitize(e)}))})),"Filters"==e&&c("filters",i.filters,(function(t){i.filter_subscriptions=t,d("filters",i.filters)})),"Display Tweaks"==e&&c("tweaks",i.tweaks,(function(t){i.tweak_subscriptions=t,d("tweaks",i.tweaks)}))})),FX.on_content_loaded((function(){/sfx_options=true/.test(location.href)&&X.publish("menu/options")}))}))})),X.ready("permalink_target",(function(){var t="",e="";const n=function(){X(".sfx_permalink_target").removeClass("sfx_permalink_target")},i=function(){const t=X(e).first().closest("[role=article]");t.length&&(n(),t.addClass("sfx_permalink_target"),setTimeout((()=>{t[0].scrollIntoView();const e=t.offset().top-window.innerHeight/2;window.scrollTo(0,e<0?0:e)}),.75*X.seconds))},o=function(){setTimeout(i,1*X.seconds)},s=function(){FX.option("permalink_target")&&"visible"==document.visibilityState&&function(){var n=location.search.replace(/^\?/,"").split("&"),i=n.find((t=>/^reply_comment_id=/.test(t)))||n.find((t=>/^comment_id=/.test(t)))||n.find((t=>/^ctoken=/.test(t)));if(!i)return t="",!1;var o=i.replace(/.*[=_]/,"");return t!=o&&(t=o,e=`[role=article] a[href*="${i}"]`,!0)}()&&X.when(e,o,500,100)};document.addEventListener("visibilitychange",s);const r=function(t){t=FX.option("permalink_target")&&"string"==typeof t&&/[\S]/.test(t)?`.sfx_permalink_target { ${t} }`:"",X.css(t,"sfx_permalink_target_css")},a=function(e){e?(t="",s()):n(),r(FX.option("permalink_target_css"))};X.subscribe("post/action/permalink_target/scroll_to",i),X.publish("post/action/add",{section:"wrench",label:"Scroll To Comment",order:20,message:"post/action/permalink_target/scroll_to"});FX.add_option("permalink_target",{section:"Advanced",title:"Scroll To Comment",description:"Scroll into view the comment / reply target of a clicked notification or permalink",order:10,default:!0,live:a}),FX.add_option("permalink_target_css",{section:"Advanced",title:"Scroll To Comment",description:'CSS style to apply to that comment / reply ("this:that;other:etc"; blank for none)',type:"text",order:20,default:"border:3px dashed #4c4;background-color:var(--progress-ring-disabled-foreground);",live:r}),FX.on_page_load((function(){t="",s()}))})),X.ready("photo_tags",(function(){FX.add_option("photo_tags",{section:"General",title:"Show Photo Tags",description:"When hovering over a photo, display caption text or tags added by Facebook",default:!1}),FX.on_option("photo_tags",(function(){FX.on_selector('img[alt]:not([alt=""]',(function(t){setTimeout((()=>{if(t.is("[sfx_post] *")){const e=t.attr("alt");t.closest("a,.S2F_pos_rel,.S2F_disp_infl").attr("sfx_photo_tags",e)}}),.5*X.seconds)}))}))})),X.ready("post_filters",(function(){FX.add_option("filters_enabled",{section:"Filters",hidden:!0,default:!0}),FX.add_option("filters_enabled_pages",{section:"Filters",hidden:!0,default:!1}),FX.add_option("filters_enabled_groups",{section:"Filters",hidden:!0,default:!1}),FX.add_option("filters_forced_processing_delay",{type:"number",section:"Advanced",title:"Post Filter Force Delay",description:"The time in ms after which post filtering will be forced even if all the content is not yet available",default:1*X.seconds}),FX.add_option("filter_forced_visible_style",{section:"Advanced",title:"Post Filter Visible Style",description:"CSS style to be applied to filtered posts which have been clicked visible",type:"text",default:"border:2px dashed blue;",live:t=>X.css(`.sfx_filter_hidden > :not(.sfx_filter_hidden_note) { ${t} }`,"sfx_filter_visible_css")}),FX.add_option("hide_posts_text",{hidden:!0,type:"textarea",section:"Hide Posts",title:"Hide Posts Keywords",default:""}),FX.add_option("hide_posts_show_hidden_message",{hidden:!0,section:"Hide Posts",title:"Show hidden post message",default:!0}),FX.add_option("hide_posts_show_match",{hidden:!0,section:"Hide Posts",title:"Show Matching Text",default:!0}),FX.add_option("hide_posts_partial",{hidden:!0,section:"Hide Posts",title:"Match Partial Words",default:!0}),FX.add_option("hide_posts_case_sensitive",{hidden:!0,section:"Hide Posts",title:"Case Sensitive",default:!1}),FX.add_option("hide_posts_caption",{hidden:!0,section:"Hide Posts",title:"Caption",default:!0});const t=" -- Click to reveal post",n=" -- Click to rehide post",s={},r={};e.pose({sfx_post_data:s,sfx_filter_trace:r});var a=performance.now();const l=function(t,e){const n=performance.now();var i=r[t]?r[t][0]:n;(!r[t]||i<a)&&(i=n,r[t]=[i],l(t,`Filter log for ID ${t} starts at page time ${(i/X.seconds).toFixed(6)}`)),r[t].push(((n-i)/X.seconds).toFixed(6)+" "+e)};function c(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}X.subscribe("log/filter",(function(t,e){l(e.id,e.message)})),X.subscribe_backlog("posts/reset",(()=>a=performance.now()));const d=function(){FX.on_options_load((function(){X.unsubscribe(d);var e=+FX.option("filters_forced_processing_delay"),i=!1,r=function(){if(!i){i=!0;o("filter_disabled_message","By default, post filtering only affects the main Newsfeed.<br>You can change this in Options if you wish.",{title:"Post Filtering Disabled"})}};FX.on_page_unload((function(){i=!1}));var a=X.clone(FX.storage("filters")),u=(FX.option("hide_posts_text")||"").trim();if(u){var f="("+c(u).split(/\s*\n\s*/).join("|")+")";FX.option("hide_posts_partial")||(f="(?:^|\\b|\\W)"+f+"(?:\\W|\\b|$)");var p=FX.option("hide_posts_case_sensitive")?"I":"i",h=FX.option("hide_posts_show_hidden_message");const e="Post Hidden by keyword"+(FX.option("hide_posts_show_match")?": $1":"");var _={match:"ALL",enabled:!0,stop_on_match:!0,rules:[{target:FX.option("hide_posts_caption")?"any+image":"any",operator:"matches",condition:{text:f,modifier:p}}],actions:[{action:"hide",show_note:h,custom_note:e+t,custom_nyet:e+n}],title:"Hide Posts"};a.unshift(_)}const g=function(t){t.attr("sfx_filtered","true"),X.publish("post/filtered",{$post:t})},b=function(t,e,n){const i=function(t,e){const n=(t,n)=>(l(e,"Not filtering post because "+t),n||!1);if(t.attr("sfx_filtered"))return s[e].already_msgd||(n("it was already filtered"),s[e].already_msgd=!0),"already";if(!t||!t[0])return n("it apparently doesn't exist");if(!t[0].childNodes||0==t[0].childNodes.length||!t.innerText())return n("it is still being downloaded","notyet");if("permalink"==FX.context.type&&!t.hasClass("sfx_mr_checked"))return n("it is not yet checked for permalink status","notyet");if(!t.hasClass("sfx_filter_tab_0"))return n("it is not yet added to initial tabs","notyet");if("groups"!=FX.context.type||"feed"==FX.context.id){var i=(t.find("h4 a[href*='/groups/']").last().attr("href")||"").replace(/.*\/groups\/([^/]*).*/,"$1");FX.sfx_support_groups.includes(i)&&t.addClass("sfx_support_post")}return"groups"==FX.context.type&&FX.sfx_support_groups.includes(FX.context.id)&&(t.addClass("sfx_support_post"),FX.option("filters_enabled_groups")&&!FX.option("support_groups_allow_filters"))?(o("filter_disabled_in_support_message",FX.oneLineLtrim("\n                        Social Fixer automatically disables filtering in its<br>\n                        Support Groups because the problem you're trying to<br>\n                        solve might hide the solution you're looking for."),{title:"Post Filtering Disabled"}),n("filtering is automatically disabled in Social Fixer Support Groups")):FX.option("filters_enabled")?a&&a.length?"profile"!=FX.context.type||FX.option("filters_enabled_pages")?"groups"!=FX.context.type||FX.option("filters_enabled_groups")?(l(e,"decide_filter_post() says to filter"),!0):(r(),n("<b>Options &gt; Filters &gt; Filter in Groups</b> is OFF")):(r(),n("<b>Options &gt; Filters &gt; Filter on Pages/Timelines</b> is OFF")):n("there are no filters"):n("<b>Options &gt; Filters &gt; Post Filtering</b> is OFF")}(t,e);return 1==i||("notyet"==i?n>0?"notyet":"forced":(0!=i||t.attr("sfx_filtered")||(l(e,"Not filtering because decide_filter_post() says not to"),g(t)),!1))};var m=function(t,n,i){void 0===i&&(i=5);const o=n.$post;var r=n.id,c=n.sfx_id,d=s[r]={sfx_id:c,dom_id:r,id:r,next_filter:0};const u=b(o,r,i);if(0==u)return!1;void 0!==("notyet"==u?void 0:T(o,d,a,"forced"==u))?g(o):(l(r,"apply_filters() says to try again later"),setTimeout((function(){l(r,"filter_post() ready to try again"),o.attr("sfx_filtered")?l(r,"Nevermind, it got sfx_filtered in the meantime"):m(t,n,i-1)}),e))};X.subscribe_backlog("post/add",m)}))};X.subscribe_backlog("context/ready",d);var u=function(){return!X(this).is("[sfx_post] [role=article] *")};const f={P:{count:0,msg:"page-wide group insignia"},A:{count:0,msg:"group self-link aria-label"},T:{count:0,msg:"group name text in post"}};function p(t,e,n){return n&&(f[t].count++,X.support_note("group name methods",Object.entries(f).map((t=>t[0]+":"+t[1].count)).join(", ")),l(e,`Group name '${n}' found by ${f[t].msg}`)),n||null}const h=["[role=main] h1 a.S2F_font_700[href*='/groups/']:not([href*='/user/'])","[role=main] h2 a.S2F_font_700[href*='/groups/']:not([href*='/user/'])"].join(","),_=["a.S2F_col_tx1[aria-label][href*='/groups/']:not([href*='/user/'])"].join(","),g=[".S2F_bb_1pxdiv"].join(","),b=["h3 a.S2F_col_tx1.S2F_font_600[href*='/groups/']:not([href*='/user/'])","h4 a.S2F_col_tx1.S2F_font_600[href*='/groups/']:not([href*='/user/'])"].join(","),m={G:{count:0,msg:"general Hx B/STRONG element"},L:{count:0,msg:"first viable link"}};function v(t,e,n){return n&&(m[t].count++,X.support_note("author name methods",Object.entries(m).map((t=>t[0]+":"+t[1].count)).join(", ")),l(e,`Author name '${n}' found by ${m[t].msg}`)),n||null}const x=["a.S2F_disp_inl:not([aria-hidden])","img"].join(","),y=["h2","h3","h4"].join(","),w=["b","strong"].join(","),k=["a[href*='/groups/'][href*='/user/']"].join(","),F=[".S2F_font_400.S2F_col_tx1 > .S2F_mb_0.S2F_ow_bw"].join(","),$=['[style*="text-align"]'].join(","),A=["a[data-appname]"].join(","),C=["a.S2F_col_tx2.S2F_font_400[href*='/games/']",".S2F_ch1_none ~ a.S2F_col_tx2"].join(",");var S={author:function(t,e){return e.authorContent=[],e.author=null,e.author||t.find(y).find(w).each((function(){if(!X(this).is(k)&&(e.author=v("G",t[0].id,this.innerText)))return e.authorContent=[this],!1})),e.author||t.find(x).each((function(){return!X(this).is("img")&&(!(this.innerText&&/www\.facebook\.com\//.test(this.href)&&!/\/(?:help|reel|media|photo|album|video|posts|hashtag|marketplace)\//.test(this.href)&&(!/\/groups\//.test(this.href)||/\/user\//.test(this.href)))||((e.author=v("L",t[0].id,this.innerText))?(e.authorContent=[this],!1):void 0))})),e.author},group:function(t,e){return e.group=null,e.group||X(h).each((function(){if(e.group=p("P",t[0].id,this.innerText))return!1})),e.group||t.find(_).each((function(){if(!X(this).parents(g).length&&(e.group=p("A",t[0].id,this.getAttribute("aria-label"))))return!1})),e.group||t.find(b).each((function(){if(e.group=p("T",t[0].id,this.innerText))return!1})),e.group},page:function(t,n){if(n.page=null,void 0===n.author&&N(t,n,"author"),n.authorContent&&n.authorContent[0]){X(n.authorContent[0].childNodes[0]).closest("h2,h4").find("*").each((function(){if("Page"==e.frefpath(this,/eac.*rop/,"children","props","children","props","entity","__typename"))return n.page=n.author,!1}))}return n.page},link_url:function(t,n){return n.link_url=[],t.find('a[href*="facebook.com/l.php?u="]').filter(u).forEach((function(t){var i=X(t).attr("href").match(/facebook.com.l.php.u=([^&]*)/);i&&i.length>1&&e.pushy(n.link_url,decodeURIComponent(i[1]))})),n.link_url.length||(n.link_url=null),n.link_url},link_text:function(t,n){return n.link_text=[],t.find('a[href*="facebook.com/l.php?u="]').filter(u).forEach((function(t){e.pushy(n.link_text,X(t).text())})),n.link_text.length||(n.link_text=null),n.link_text},all_content:function(t,e){var n={acceptNode:function(t){return"#text"==t.nodeName?NodeFilter.FILTER_ACCEPT:t.nodeType==t.ELEMENT_NODE&&("FORM"==t.tagName||X(t).is("[sfx_post] [role=article]")||/^\s*Facebook\s*$/.test(t.textContent)&&X(t).is(".S2F_disp_none"))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_SKIP}};return e.all_content=t.innerText(n),/\S/.test(e.all_content)||(e.all_content=N(t,e,"content"),/\S/.test(e.all_content)&&(e.all_content+=" [via ${content}]")),e.all_content},content:function(t,e){e.userContent=[],e.content=[];let n=t.find(F);return n.length||(n=t.find($)),n.filter(u).forEach((function(t){e.userContent.push(t),e.content.push(X(t).innerText())})),e.content=e.content.join("\n"),e.content},action:function(t,e){const n=X.getNodeVisibleText(t[0])||X.getNodeVisibleText(t[0].lastChild);return e.action=n.replace(/[\n\u00b7].*/s,""),e.actionContent=[],e.action&&X(t[0].lastChild).find("*").each((function(){const t=this.innerText||"";if(t.length<=2*e.action.length)if(0==t.indexOf(e.action))e.actionContent=[this];else if(e.actionContent)return!1})),e.action},app:function(t,e){var n;return e.app=null,n||(n=t.find(A).attr("data-appname")),n||t.find(C).each((function(){return!(n=this.innerText)})),n&&(e.app=n),e.app},image:function(t,n){return n.image=[],t.find("img[alt]").filter(u).forEach((function(t){e.pushy(n.image,X(t).attr("alt"))})),n.image.length||(n.image=null),n.image},hashtag:function(t,n){return n.hashtag=[],t.find("a[href*='/hashtag/']").filter(u).forEach((function(t){"#"==t.innerText[0]&&e.pushy(n.hashtag,t.innerText.slice(1))})),n.hashtag.length||(n.hashtag=null),n.hashtag}};function E(t,e,n){for(var i=t.childNodes,o=0;o<i.length;o++){var s=i[o];if(3==s.nodeType){var r="";s.parentNode&&(r=s.parentNode.getAttribute("sfx_node_text")||"");var a=s.nodeValue;if(a!=r){var l=a.replace(e,n);l!=a&&(s.nodeValue=l,s.parentNode.setAttribute("sfx_node_text",l))}}else E(s,e,n)}}function T(t,e,n,i){if(i&&t.attr("sfx_filtered_forced",!0),!n||0==n.length)return!1;var o=!1;for(l(e.id,`BEGIN Filtering (next_filter=${e.next_filter+1})`),i&&l(e.id,"Force filtering enabled");e.next_filter<n.length;e.next_filter++){var s=n[e.next_filter];if(!X.isObject(s)){l(e.id,`Filter #${e.next_filter+1} is empty, skipping`);continue}if(!1===s.enabled){l(e.id,`Filter #${e.next_filter+1} (${s.title}) Disabled`);continue}const a=`Filter #${e.next_filter+1} (${s.title})`;l(e.id,a);var r=O(t,e,s,a,i);if(void 0===r){l(e.id,"END Filtering because a condition could not be tested yet."),o=void 0;break}if(r&&(o=!0,s.stop_on_match)){l(e.id,'Filter processing stopped because "Stop on Match" is active');break}}return i&&void 0===o&&(o=!1),void 0!==o&&l(e.id,`END Filtering. Filtered=${o}`),o}function N(t,e,n){return void 0!==e[n]?e[n]:"function"!=typeof S[n]?e[n]=`\${${n}}`:S[n](t,e)}function O(t,n,i,o,s){if(!(i&&i.rules&&i.rules.length&&i.actions))return!1;var r=!0,a=!1,d=!1;return i.rules.forEach((function(e){var o,f,p,h,_;if(!d&&X.isObject(e)&&e.condition)try{if(a&&"ANY"===i.match)return;if(!r&&"ALL"===i.match)return;var g=!1;const E=/^not_/.test(e.operator||"")||!!e.not,T=(e.operator||"").replace(/not_/,""),O=E?"NOT ":"";if("contains_selector"==T){const i=t=>t.replace(/^(["'`])(.*)\1$/,"$2");l(n.id,` -> Looking for ${O}selector: ${e.condition.text}`);var b=null,m=null,v=null,x=e.condition.text.replace(/:contains\((.+?)\)\s*$/,(function(t,e){return b=i(e),""})).replace(/:has-visible-text\((.+?)\)\s*$/,(function(t,e){return m=i(e),""})).replace(/:hidden-within\((.+?)\)\s*$/,(function(t,e){return v=i(e)+" *",""})),y=!1,w=[];try{w=t.find(x).filter(u)}catch(t){l(n.id," -----\x3e Selector lookup failed:"),l(n.id," -----\x3e "+t)}w.length>0&&(b||m?(f=new RegExp(b||m),w.each((function(){return(p=(b?X(this).innerText():X.getNodeVisibleText(this)).match(f))&&(y=!0,l(n.id," ---\x3e Matched Text: '"+RegExp.lastMatch+"'")),n.regex_match=p,!y}))):v?(w.each((function(){return X(this).parents(v).each((function(){return"none"==X(this).css("display")&&(y=!0),!y})),!y})),l(n.id,` ---\x3e ${y?"":"not"} found hidden within`)):y=!0),(y&&!E||!y&&E)&&(g=!0),l(n.id," ---\x3e "+(g?"match!":"no match"))}else if("day"==e.target){const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var k=t.filter(((t,n)=>e.condition["day_"+n])).join(", ");l(n.id,` -> Looking for day(s) of week: ${k}`);var F=(new Date).getDay();e.condition["day_"+F]&&(g=!0),l(n.id,` ---\x3e Day of week is ${t[F]} - ${g?"match!":"no match"}`)}else if("age"==e.target){l(n.id,` -> Looking for post age ${e.operator} ${e.condition.value} ${"h"==e.condition.units?"hours":"days"}`);var $=(t.find("abbr[data-utime]").first().attr("data-utime")||0)*X.seconds;if($){var A=e.condition.value;"h"==e.condition.units&&(A*=X.hours),"d"==e.condition.units&&(A*=X.days);var C=X.now()-$;("gt"==e.operator&&C>A||"lt"==e.operator&&C<A)&&(g=!0),l(n.id,` ---\x3e Post age is ${C}ms and must be ${e.operator} ${A}ms - ${g?"match!":"no match"}`)}else l(n.id," ---\x3e Can't detect post time stamp - no match")}else{o="str"==e.matcher?`(${c(e.condition.text)})`:function(t){return t.replace(/^\s*\|/,"").replace(/\|\|+/g,"|").replace(/\|\s*$/,"")}(e.condition.text);var S="";if("any"==e.target||"any+image"==e.target){if(S=N(t,n,"all_content"),"any+image"==e.target)S=[S,N(t,n,"image")].flat().join(" ")}else S=N(t,n,e.target);if(void 0===S){if(!s)return l(n.id,` -----\x3e Rule target doesn't exist (yet): ${e.target}; defer filtering until later`),void(d=!0);l(n.id,` ---\x3e Rule target doesn't exist in post: ${e.target}; no match`),S=null}h=null,_="I"===e.condition.modifier?"":"i",null==S?(l(n.id,` -----\x3e Rule target ${e.target} is null: not trying to match`),g=!1):"equals"==T?h="^(?:"+o+")$":"contains"==T&&e.match_partial_words?h=o:"contains"==T?h="(?:^|\\b|\\W)(?:"+o+")(?:\\W|\\b|$)":"startswith"==T?h="^(?:"+o+")":"endswith"==T?h="(?:"+o+")$":"matches"==T?(h=o,_=(e.condition.modifier||"").replace(/I/,"")):(l(n.id,` -----\x3e Rule operator '${e.operator}' is invalid: no match`),g=!1),null!==h&&(f=new RegExp(h,_),l(n.id,` -> Testing ${O}\${${e.target}}.match(${f.toString()})`),Array.isArray(S)?S.every((t=>null==(p=f.exec(t)))):p=f.exec(S),E?(g=null==p,l(n.id,g?" ---\x3e NOT present (match succeeds)":` ---\x3e Found Text: '${RegExp.lastMatch}' (match fails)`)):(g=null!=p,l(n.id,g?` ---\x3e Matched Text: '${RegExp.lastMatch}'`:" ---\x3e no match")),n.regex_match=p)}g?a=!0:r&&(r=!1)}catch(t){l(n.id," -----\x3e ERROR: "+t.message)}})),d?void 0:!(!a||"ALL"==i.match&&!r)&&(i.actions.forEach((function(s){!function(t,n,i,o,s){const r="==:ACTION:==";var a;if(X.isObject(i)){if("class"==i.action)a=i.selector?t.find(i.selector):t,l(n.id,`${r} applying CSS class '${i.content}'`),a.addClass(i.content);else if("css"==i.action){a=i.selector?t.find(i.selector):t;var c=(i.content||"").split(/\s*;\s*/);l(n.id,`${r} applying CSS '${i.content}'`),c.forEach((function(t){var e=t.split(/\s*:\s*/);e&&e.length>1&&a.css(e[0],e[1])}))}else if("replace"==i.action){l(n.id,`${r} replacing '${i.find}' with '${i.replace}'`);const e=new RegExp(i.find,"gi");["author","action","content","all_content"].forEach((o=>N(t,n,o)&&(n[o]=n[o].replace(e,i.replace)))),n.authorContent.concat(n.actionContent).concat(n.userContent).forEach((t=>E(t,e,i.replace)))}else if("hide"==i.action){if(function(t){if(t.find('a[href*="/socialfixer/"]').length)return!0;return!1}(t))return;t.hasClass("sfx_filter_hidden")?l(n.id,`${r} would have hidden post (was already hidden)`):(t.addClass("sfx_filter_hidden"),X.publish("post/hide_filt",{$post:t,actor:s}),l(n.id,`${r} hiding post`),R(o,i,t,n))}else if("unhide"==i.action)t.hasClass("sfx_filter_hidden")?(t.find(".sfx_filter_hidden_note").remove(),t.removeClass("sfx_filter_hidden"),X.publish("post/unhide_filt",{$post:t,actor:s}),l(n.id,`${r} unhiding post`)):l(n.id,`${r} would have unhidden post (was not hidden)`);else if("read"==i.action)t.hasClass("sfx_post_read")?l(n.id,`${r} would have marked post 'Read' (was already 'Read')`):(X.publish("post/mark_read",{post:t,sfx_id:n.sfx_id,save:!0,filter:!0,actor:s}),l(n.id,`${r} marking post 'Read'`));else if("unread"==i.action)t.hasClass("sfx_post_read")?(X.publish("post/mark_unread",{post:t,sfx_id:n.sfx_id,save:!0,filter:!0,actor:s}),l(n.id,`${r} unmarking post 'Read'`)):l(n.id,`${r} would have unmarked post 'Read' (was not 'Read')`);else if("move-to-tab"==i.action||"copy-to-tab"==i.action){var d=e.std_tabname(j(i.tab,n.regex_match,t,n));l(n.id,`${r} ${i.action} '${d}'`),X.publish(`filter/tab/${i.action.slice(0,4)}`,{tab:d,post:t,data:n,actor:s})}}else l(n.id,`${r} action is empty, doing nothing`)}(t,n,s,i,o)})),!0)}function j(t,e,n,i){return"string"!=typeof t?"":t.replace(/\$(\d+|\{[0-9A-Za-z_]+(?::[^{}]*)?\})/g,(function(t){const o=t.replace(/\${?([^}]+)}?/,"$1");var[s,r,a,l]=o.split(":");""==a&&""==l&&(a=":");var c="";return e&&null!=e[s]?c=e[s]:e&&"any"==s?c=e.slice(1).find((t=>t)):e&&"all"==s?c=e.slice(1).join(a):(c=N(n,i,s),Array.isArray(c)&&(c=c.join(","))),c="string"==typeof c?c:"",Number.isInteger(Number(r))&&(c=c.slice(0,r)),c}))}e.port({filter_extract_field:S}),e.pose({filter_extract_field:S});const R=function(e,i,o,s){const r=o.hasClass("sfx_permalink_post"),a=o.hasClass("sfx_popup_post");if(!i.show_note&&!r&&!a)return;(r||a)&&(l(s.id,a?"Post is in popup: make initially visible":r?"Post named in permalink: make initially visible":"What a surprise"),o.addClass("sfx_filter_hidden_show"));const c=FX.option("disable_tooltips")?"":a?' title="It is visible here because it\'s in a comment viewing popup"':r?' title="It is initially visible here because this page\'s address mentions it"':' title="To remove these hidden-post notes, edit Hide Posts or per-filter settings"',d=i.css?` style="${i.css}"`:"",u=i.custom_note?j(i.custom_note,s.regex_match,o,s):`Post hidden by filter "${e.title}"${t}`,f=i.custom_nyet?j(i.custom_nyet,s.regex_match,o,s):`Post was hidden by filter "${e.title}"${n}`,p=X(FX.oneLineLtrim(`\n            <div class="sfx_filter_hidden_note"${d}${c}>\n                <span class="sfx_filter_hider_note">${u}</span>\n                <span class="sfx_filter_hider_nyet">${f}</span>\n            </div>\n        `));p.on("click",(function(){o.toggleClass("sfx_filter_hidden_show")})),1==o.attr("sfx_post")&&function(t){const e=new MutationObserver((function(n){for(const e of n||[]){for(const n of e.addedNodes||[])n.nodeType!=t.TEXT_NODE&&t.parentNode.append(n);for(const n of e.removedNodes||[])n.nodeType==t.TEXT_NODE&&t.append(n),X.support_note("hidden_note","2021-12 layout derangement bug handled")}e.disconnect()}));e.observe(t,{childList:!0})}(p[0]),o.prepend(p)};X.publish("post/action/add",{section:"filter",label:"Edit Filters",message:"menu/options",data:{section:"Filters"}}),X.publish("post/action/add",{section:"filter",label:"Filter Debugger",message:"post/action/filter/debug"}),X.subscribe("post/action/filter/debug",(function(t,e){const n=X("#"+e.id);Object.keys(S).forEach((t=>N(n,s[e.id],t)));var o,a=(o=s[e.id],"{\n    "+Object.keys(o).filter((t=>void 0!==o[t])).map((t=>`"${t}":${function(t){if("function"==typeof t)return'"[function]"';try{return JSON.stringify(t,null,3)}catch(t){return/circular/.test(t)?'"[circular]"':`"[ERR: ${t}]"`}}(o[t])}`)).join(",\n    ")+"\n}");a=a?a.replace(/\n/g,"<br>"):"No Data";var l=r[e.id],c="No Trace";l&&(c=l.slice(1).map((t=>X.htmlEncode(t))).join("<br>").replace(/&lt;b&gt;/g,"<b>").replace(/&lt;\/b&gt;/g,"</b>"));var d=FX.oneLineLtrim(`\n            <div>This popup gives details about how this post was processed for filtering.</div>\n            <div class="sfx_bubble_note_subtitle">Filtering Trace</div>\n            <div class="sfx_bubble_note_data">${c}</div>\n            <div class="sfx_bubble_note_subtitle">Raw Extracted Post Data</div>\n            <div class="sfx_bubble_note_data">${a}</div>\n        `);i(d,{position:"top_right",title:"Post Filtering Debug",close:!0})}))})),X.ready("post_tabs",(function(){var n={};FX.add_option("always_show_tabs",{section:"Advanced",title:"Always Show Tab List",description:"Always show the list of Tabs in the Control Panel, even if no posts have been moved to tabs yet.",default:!1});const i=t=>t?t.post_count-t.hide_count:0,o=t=>"All Posts"!=t&&"<Holding Tank>"!=t,s=(t,e)=>t.find((t=>o(t)&&i(n.tabs[t])>=e&&(v(n.tabs[t]),!0)));var r=!1;const a=function(){const t=null!=document.querySelector("[sfx_post]");r&&!t&&X.publish("posts/reset"),(r=t)&&n.seek_initial&&(i(n.selected_tab)?v(n.selected_tab):i(n.tabs["Filtered Feed"])?v(n.tabs["Filtered Feed"]):s(n.sorted(),3))},l=setInterval(a,.5*X.seconds);e.pose({have_posts:r,have_posts_watcher:a,post_watcher_id:l});const c=t=>"string"==typeof t&&t.length?t:"[nameless]";e.port({std_tabname:c});var d=[];const u=function(){FX.option("filters_enabled")&&FX.option("always_show_tabs")&&Object.values(FX.storage("filters")||[]).forEach((t=>X.isObject(t)&&t.enabled&&Object.values(t.actions||[]).forEach((t=>X.isObject(t)&&("copy-to-tab"==t.action||"move-to-tab"==t.action)&&t.tab&&!t.tab.match(/\$(\d+|\{[0-9a-z_:]+\})/)&&e.pushy(d,c(t.tab))))))};var f,p,h;u(),e.pose({collect_static_tabs:u,tab_staticnames:d});const _=function(){X("[class*=sfx_filter_tab_]").forEach((t=>{t.classList.forEach((function(e){/^sfx_filter_tab_(\d+)$/.test(e)&&b(RegExp.$1,X(t),1)}))}))};e.pose({repopulate_tabs:_});const g=function(){n={tab_count:0,tabs:{},selected_tab:null,seek_initial:!0,seek_permalink:!0,sorted:()=>Object.keys(n.tabs).sort(((t,e)=>n.tabs[t].order<n.tabs[e].order?-1:1)),cp_requested:!1},f=[],p=!1,h=!1,r=!1,e.pose({tab_data:n,tab_index:f}),FX.option("always_show_tabs")&&w().then((()=>X.publish("cp/always_show"))),_()},b=function(t,e,i){const o=n.tabs[f[t]];if(!o)return X.support_note("adj_counts",`post ${e[0].id} in unknown tab number ${t}`);const s=e[0].classList.contains("sfx_post_read"),r=e[0].classList.contains("sfx_filter_hidden"),a=/\d/.test(i);a&&(o.post_count+=i),a&&s&&(o.read_count+=i),a&&(s||r)&&(o.hide_count+=i),"R"==i&&(o.read_count+=s?1:-1),"R"!=i||r||(o.hide_count+=s?1:-1),"F"!=i||s||(o.hide_count+=r?1:-1)};X.subscribe(["post/hide_read","post/unhide_read"],(function(t,e){const n=e.$post,i="post/hide_read"===t,o=`${i?"M":"Unm"}arked 'Read' by: ${e.actor}`;X.publish("log/postdata",{$post:n,message:o}),i&&n.hasClass("sfx_popup_post")&&(X.publish("log/postdata",{$post:n,message:"Keep visible since post is in comment viewer popup"}),n.addClass(" sfx_show_read")),n[0].classList.forEach((function(t){/^sfx_filter_tab_(\d+)$/.test(t)&&b(RegExp.$1,n,"R")}))})),X.subscribe(["post/hide_filt","post/unhide_filt"],(function(t,e){const n=`${"post/hide_filt"==t?"H":"Unh"}idden by: ${e.actor}`;X.publish("log/postdata",{$post:e.$post,message:n}),e.$post[0].classList.forEach((function(t){/^sfx_filter_tab_(\d+)$/.test(t)&&b(RegExp.$1,e.$post,"F")}))}));const m=function(t,e={}){t[0].classList.forEach((function(n){/^sfx_filter_tab_(\d+)$/.test(n)&&(Number(RegExp.$1)||e.all_posts)&&(b(RegExp.$1,t,-1),t.removeClass(n))}))};X.subscribe("post/remove_dom",(function(t,e){X.publish("log/postdata",{$post:e.$post,message:"Removed from DOM by FB"}),m(e.$post,{all_posts:!0})})),X.subscribe("post/filtered",(function(t,e){e.$post.hasClass("sfx_filter_tab_1")&&(e.$post.removeClass("sfx_filter_tab_1"),b(1,e.$post,-1),F("Filtered Feed",e.$post,"Moved","end of filtering")),n.seek_permalink&&e.$post.hasClass("sfx_permalink_post")&&n.sorted().filter((t=>o(t))).find((t=>{if(e.$post.hasClass(`sfx_filter_tab_${n.tabs[t].number}`))return n.seek_permalink=!1,t==n.selected_tab.name||e.$post.hasClass(`sfx_filter_tab_${n.selected_tab.number}`)||(v(n.tabs[t]),X.publish("log/postdata",{$post:e.$post,message:`Switched to tab '${t}' to expose this permalink post`})),!0}))})),e.selected_tab_selector="";const v=function(t){n.seek_initial=!1,n.selected_tab!=t&&(n.selected_tab&&(n.selected_tab.selected=!1),n.selected_tab=t,t.selected=!0,e.selected_tab_selector=`.sfx_filter_tab_${t.number}`,X.css(`[sfx_post]:not(.sfx_filter_tab_${t.number}):not(.sfx_popup_post) { display: none; }`,"sfx_filter_tabselect"),X.publish("filter/tab/scroll_to_top"))};X.subscribe("filter/tab/next",(function(){const t=n.sorted(),e=t.findIndex((t=>n.tabs[t].selected));s([...t.slice(e+1),...t.slice(0,e)],1)}));var x,y;const w=async function(){if(x||(x=new Promise((t=>y=t))),p)return x;p=!0,function(){if(X.find(`.${e.instance} [id=sfx_cp_filter_tabs]`))return;X.publish("cp/section/add",{name:'Filter Tabs <span class="sfx_count">(unread / total)</span>',id:"sfx_cp_filter_tabs",order:50,help:"The Filtered Feed shows the filtered view of the feed, with posts removed that have been moved to tabs.\n\nThe All Posts view shows every post in the feed, even if it has been filtered to a tab."});const i=FX.oneLineLtrim('\n            <div class="sfx_cp_tabs" style="max-height:60vh;overflow:auto;">\n                <div v-for="tab in tabs | orderBy \'order\'" v-if="tab.name!=\'<Holding Tank>\'" class="sfx_filter_tab" v-bind:class="{\'sfx_tab_selected\':tab.selected,\'sfx_tab_occupied\':(tab.post_count>tab.read_count)}" @click="select_tab(tab)">\n                    {{tab.name}}&#32;\n                    <span class="sfx_count">\n                        (\n                        <span class="sfx_unread_count" v-if="tab.read_count>0">\n                            {{tab.post_count-tab.read_count}}/\n                        </span>\n                        {{tab.post_count}})\n                    </span>\n                </div>\n            </div>\n        '),o={select_tab:v};X.when(`.${e.instance} [id=sfx_cp_filter_tabs]`,(function(){X.find(`.${e.instance} .sfx_cp_tabs`)||t(`.${e.instance} [id=sfx_cp_filter_tabs]`,i,n,o)}))}(),X.when(`.${e.instance} [id=sfx_cp_filter_tabs]`,(function(){k("All Posts","a"),k("<Holding Tank>","b"),v(k("Filtered Feed","c")),n.seek_initial=!0,d.forEach((t=>k(t))),h=!0,y&&y(),p=x=y=null}))},k=function(t,e){if(t=c(t),!n.tabs[t]){const s=n.tab_count++,r=`${e||"z"}-${t}`;Vue.set(n.tabs,t,{name:t,order:r,number:s,selected:!1,post_count:0,read_count:0,hide_count:0}),f[s]=t,!n.cp_requested&&(o(i=t)&&"Filtered Feed"!=i)&&(n.cp_requested=!0,X.publish("cp/show"))}var i;return n.tabs[t]},F=function(t,e,n,i){if(!h)return void w().then((()=>F(t,e,n,i)));const o=k(t),s="sfx_filter_tab_"+o.number;e.hasClass(s)||(e.addClass(s),b(o.number,e,1),X.publish("log/postdata",{$post:e,message:`${n} to tab '${t}' by: ${i}`}))};X.subscribe("filter/tab/scroll_to_top",(function(){X(e.selected_tab_selector).each((function(){if(this.getBoundingClientRect().height)return this.scrollIntoView(!0),setTimeout((()=>window.scrollBy(0,-150)),.2*X.seconds),!1}))})),X.subscribe(["filter/tab/move","filter/tab/copy"],(function(t,e){var n="Copied";"filter/tab/move"==t&&(m(e.post),n="Moved"),F(e.tab,e.post,n,e.actor)})),X.subscribe_backlog("post/add",(function(t,e){const n=e.$post;F("<Holding Tank>",n,"Added","initial post processing"),F("All Posts",n,"Added","initial post processing")})),X.subscribe_backlog("posts/reset",g),g()})),X.ready("post_font",(function(){const t={},e="[sfx_post] *",n="[sfx_post] .S2F_font_400.S2F_col_tx1:not(.S2F_txal_left) *";function i(i,o){t[o]=i;var s=[];+t.post_font_size_2>=5&&s.push(`${e} { font-size: ${t.post_font_size_2}px !important; }`),t.post_font_family_2&&s.push(`${e} { font-family: "${t.post_font_family_2}" !important; }`),+t.post_comment_font_size_2>=5&&s.push(`${n} { font-size: ${t.post_comment_font_size_2}px !important; }`),t.post_comment_font_family_2&&s.push(`${n} { font-family: '${t.post_comment_font_family_2}' !important; }`),X.css(s.join("\n"),"sfx_post_font_css")}FX.add_option("post_font_size_2",{section:"General",title:"Font: Post Font Size",description:"Set a custom size (in pixels) for post text, including comments.",type:"number",min:5,default:"",live:i}),FX.add_option("post_font_family_2",{section:"General",title:"Font: Post Font Family",description:"Set a custom font to be used for post text, including comments.",type:"text",default:"",live:i}),FX.add_option("post_comment_font_size_2",{section:"General",title:"Font: Post Comment Font Size",description:"Set a custom size (in pixels) for post comments only.",type:"number",min:5,default:"",live:i}),FX.add_option("post_comment_font_family_2",{section:"General",title:"Font: Post Comment Font Family",description:"Set a custom font for post comments only.",type:"text",default:"",live:i})})),X.ready("post_processor",(async function(){const t=[".S2F_fldr_col [role=main] ~ [role=complementary].S2F_bg_surf > .S2F_just_spbt"].join(","),n=["[role=article]:not(.S2F_pos_rel)","[aria-posinset]","div[aria-describedby].S2F_outl_none:not(.S2F_disp_infl):not(.S2F_zi_0):not(.S2F_pos_rel)","div.S2F_disp_flex.S2F_fldr_row.S2F_pos_rel.S2F_hei_100.S2F_alini_cent.S2F_just_cent",t].join(","),i=['[class*="-mode"].S2F_pos_rel [aria-labelledby] *'].join(","),o=["[aria-labelledby]"].join(","),s="a[aria-label]",r=["[data-pagelet*=Marketplace] .S2F_disp_cont .S2F_vis_vis.S2F_flex_shr1.S2F_flex_0px[style*=width]",".S2F_alinc_flst.S2F_fldr_row.S2F_just_flst.S2F_flex_wrap > .S2F_vis_vis.S2F_flex_shr1.S2F_flex_0px[style*=width]"].join(","),a="a[role=link]",l="[sfx_post]";var c=!0,d=X.logger("post_processor"),u=1,f=10,p=0;FX.add_option("max_post_load_count",{section:"Advanced",title:"Post Loading Pause",description:"How many posts to load before pausing.  To save memory, Facebook clears posts from the top of the page as you scroll down.  Pausing allows you to view posts in Social Fixer filter tabs before they get cleared.",type:"text",default:f,live:t=>f=t||f}),FX.on_content_loaded((function(){FX.on_content_removed((function(t){t.probe("[sfx_post]:not(.sfx_removing)").forEach((t=>X.publish("post/remove_dom",{id:t.id,sfx_id:t.getAttribute("sfx_id"),$post:X(t).addClass("sfx_removing")})))})),FX.on_content_inserted((function(t){t.closest("form").length||m(t)})),m(X(document.body))}));var h=n,_=s;X.subscribe_backlog("context/ready",(function(){"marketplace"==FX.context.type?(h=r,_=a):(h=n,_=s),m(X(document.body))}));const g=function(){const t=X(this);return!t.is(l)&&(!!t.attr("aria-posinset")||!t.parents("[sfx_post],[aria-posinset],[role=article]").length&&(!(!this.textContent&&t.find("[role=progressbar]").length)&&!!this.querySelector(_)))},b=function(t){const e=X(t);if(e.is(i)){const t=e.nearby(o);return t.addClass("sfx_popup_post"),t[0]}return t},m=t=>t.probe(h).filter(g).toArray().map(b).forEach(v);async function v(t){c&&(0==X(l).length&&(p=0,u=1,X.pubsub_clear_backlog("post/add"),X.pubsub_clear_backlog("posts/reset"),X.publish("posts/reset")),c=!1);const e=t.id||(t.id="sfx_post_"+u);t.setAttribute("sfx_post",u),X.publish("log/postdata",{id:e,message:`processing post id=${e}, sfx_post=${u}`}),P(X(t),e).then((function(n){t.setAttribute("sfx_id",n),X.publish("log/postdata",{id:e,message:"Calling post/add"}),X.publish("post/add",{id:e,selector:"#"+e,sfx_id:n,$post:X(t)})})),u++,++p>=f&&w()}e.pose({post_selector:h,post_verifier:_,find_and_process_posts:m,process_post:v});const x=["[role=feed] div.S2F_wid_1.S2F_hei_1:empty"].join(","),y=function(){var t=X(".suspended-feed").closest(".S2F_ovfa_n").parent().children(":empty");return t.length||(t=X(x).parent()),t},w=function(){var t=y();if(d(`Max post count (${f}) reached. Loaded ${p}. Trying to prevent infinite scroll.`),!t.length)return void d("Couldn't identify infinite scroll triggers definitively. Aborting.");t.addClass("sfx_scroll_pause");var n=X(`[id=sfx-feed-pager].${e.instance}`);try{n.length||(n=X(`<div id="sfx-feed-pager" class="sfx_info sfx-pager ${e.instance}" style="cursor:pointer;"><b>Post Loading Paused &ndash; Social Fixer ${e.version}</b><br><b><u>Click to continue loading</u></b> about <input class="sfx_input" type="number" min="1" value="${f}" style="width:7ch;" size="4" sfx-option="max_post_load_count"> more posts.<br></div>`),FX.attach_options(n),n.find("input").click((function(){return!1})),n.click((function(){n.remove(),X(".sfx_scroll_pause").removeClass("sfx_scroll_pause"),p=0}))),X(".sfx_scroll_pause").last().after(n)}catch(t){alert(t)}const i=[".suspended-feed ~ [role=article]"].join(",");X(i).addClass("sfx_scroll_pause")};e.pose({find_infinite_scroll_triggers:y,pause_infinite_scroll:w}),FX.on_page_unload((function(){c=!0}));const k={bubbles:!0,screenX:100,screenY:100,clientX:100,clientY:100};function F(t){var e=new PointerEvent("pointerout",k);e.sfx_event=!0,t.dispatchEvent(e)}const $=['span[id] a.S2F_font_400[role=link][tabindex="0"]:not([href*="/user/"])','span[id] a.S2F_col_tx2[role=link][tabindex="0"]:not([href*="/user/"])'].join(","),A=['a[href*="/post_insights/"].S2F_alini_stre.S2F_bb_dark.S2F_fldr_row'].join(","),C=["a.S2F_trans_n",".S2F_alini_stre > a.S2F_disp_inlb"].join(","),S=!0,E={B:{count:0,msg:"found by marketplace Buy/sell item ID",selector:a,test:()=>"marketplace"==FX.context.type,Alt:S},E:{count:0,msg:"found by event-ID",selector:'a[href*="/events/"]:not([href*="/create/"])',Alt:S},D:{count:0,msg:"found by donate-ID",selector:'a[href*="/donate/"]',Alt:S},N:{count:0,msg:"found by post insights",selector:A,Alt:S},C:{count:0,msg:"found by comment link",selector:'[sfx_post] ul a[href*="comment_id="]:not([aria-hidden=true])',Alt:S},S:{count:0,msg:"found by mediaset-ID",selector:C,Alt:S},V:{count:0,msg:"found by page URL"},U:{count:0,msg:"found by JS-URL",selector:"a"},I:{count:0,msg:"found by JS-ID-1"},J:{count:0,msg:"found by JS-ID-2",selector:".S2F_oflx_hid.S2F_btl_rad0"},K:{count:0,msg:"found by JS-ID-3"},M:{count:0,msg:"found by mouseover",selector:$},T:{count:0,msg:"not found: no timestamp",fail:!0,track:[]},P:{count:0,msg:"not found: no permalink",fail:!0,track:[]}},T=[{selector:".S2F_bt_divid,.S2F_mb_6",path:"edb,id"},{selector:"div.S2F_flgr_1",path:"stI"},{selector:"div.S2F_flgr_1",path:"tent"},{selector:"div.S2F_flgr_1",path:"edb.*D"},{selector:"div",path:"dere,__id"},{selector:"div",path:"edb,id"},{selector:"div",path:"erS,edb.*D"},{selector:"div",path:"tor,t_i"}];function N(t,e,n){return n&&"0"!==n||(n=null),(n||E[t].fail)&&(E[t].fail?E[t].count--:E[t].count++,"track"in E[t]&&E[t].track.push([e,X("#"+e),X("#"+e)[0].outerHTML]),X.support_note("post ID methods",Object.entries(E).map((t=>t[0]+":"+t[1].count)).join(", ")),X.publish("log/postdata",{id:e,message:"ID "+E[t].msg})),n}const O=t=>{let n;return T.some((({selector:i,path:o})=>(t.probe(i).toArray().some((t=>{var i;return id_mine=e.frefpath(t,"eac.*ibe,etu,end.*rop",o),i=id_mine,n=Number(i)?i:/(ZmVlZGJhY2[a-zA-Z0-9+/]*=*)/.test(i)&&(i=atob(RegExp.$1),/dback:(\d+)/.test(i))?RegExp.$1:void 0,!!n})),!!n))),n};function j(t,n,i){if((i=O(t))&&N("K",n,i))return i;for(var o of Array.from(t.find(E.J.selector))){const t=o.children[0],s=e.frefpath(t,"eac.*ibe,hil,hil,hil,pen.*ops,edb","id");try{if(i=atob(s).replace(/\D*/,""),Number(i)&&N("J",n,i))return i}catch(t){}}for(o of Array.from(t.find(E.U.selector))){const t=e.fref(e.fref(o.parentElement,/eac.*ibe/).child,/end.*rop/),s=e.fref(t,/tor.*rl$/),r=e.fref(t,/^_*a+d.?id$/i);if((i=/www.facebook.com/.test(s)&&N("U",n,D(s)))||(i=/^\d{6,}(?:|:\d{1,2})$/.test(r)&&N("I",n,`-${r}`)))return i}return null}const R=t=>t&&"#"!==t&&t!==location.href+"#";async function L(t,e){return new Promise((async function(n){var i,o=null;if(o=j(t,e,0))return n(o);if(o=function(t,e,n){return(n=D(location.href))&&N("V",e,n)?n:null}(0,e,0))return n(o);if(o=function(t,e,n){for(const[o,s]of Object.entries(E))if(s.Alt&&(!s.test||s.test(t)))for(var i of Array.from(t.find(s.selector)))if(n=N(o,e,D(i.href)))return n;return null}(t,e,0))return n(o);var s,r,a=!1;t.addClass("sfx_touch");for(var l=0;l<40&&(i||l<5);++l){if(i||X.publish("log/postdata",{id:e,message:`Look for timestamp (${l})`}),i=t.find(E.M.selector)[0]){var c=R(i.href)?i.href:i.getAttribute("href");if(R(c)&&(X.publish("log/postdata",{id:e,message:`Found href '${c}' (${l})`}),o=N("M",e,D(c))))break;if([0,1,3,5,8,11,15,20,25,31,39].includes(l)){a=!0,s=i,r=void 0,(r=new PointerEvent("pointerover",k)).sfx_event=!0,s.dispatchEvent(r);const t=R(c)?"better ":"";X.publish("log/postdata",{id:e,message:`Triggering mouseover to find ${t}href (${l})`}),F(i)}}if(await X.sleep(.2),o=j(t,e,0))break}a&&(F(i),X.publish("log/postdata",{id:e,message:"Triggering mouseout"})),setTimeout((()=>t.removeClass("sfx_touch"))),o||N(i?"P":"T",e,null),n(o)}))}function D(t){const e=new URL(t,location.origin+location.pathname);let n="";if(/\/groups\/(\d+)($|\/)/.test(e.pathname)&&(n=RegExp.$1),/\/profile\.php/.test(e.href)||/\/groups\/[^/]*\/user\//.test(e.pathname)||/\/donate\/[\d:]{6,}\/$/.test(e.pathname)&&/fundraiser_source=feed/.test(e.search))return null;if(/[/?&=](pfbid0[1-9A-HJ-NP-Za-km-z]{20,75}l)\b/.test(e.href))return RegExp.$1;if(/comment_id=((?:Y29|Q09|Q29)[A-Za-z0-9]{20,75}[=%3Dd]{0,12})(?:$|&)/.test(e.search))try{const t=atob(decodeURIComponent(RegExp.$1)).toLowerCase();if(/comment:(\d{6,})[:_]/.test(t))return RegExp.$1}catch(t){}return(/\/(?:posts|permalink|video|stories|marketplace\/item)\/(\d{6,}(?:|:\d{1,2}))(?:$|\/)/.test(e.pathname)||"/watch/"==e.pathname&&/\bv=(\d{6,})/.test(e.search)||/permalinks?[=:](\d{6,}(?:|:\d{1,2}))(?:$|\D)/.test(e.href)||/(?:fbid|post_id)[=:](\d{6,}(?:|:\d{1,2}))(?:$|\D)/.test(e.href)||/\Wpcb\.(\d{6,}(?:|:\d{1,2}))(?:$|\D)/.test(e.href)||/(?:\d:|\/)(\d{6,}(?:|:\d{1,2}))\/?$/.test(e.pathname)&&RegExp.$1!=n||/[=:/](\d{6,}(?:|:\d{1,2}))(?:$|\/)/.test(e.pathname)&&RegExp.$1!=n||/[=:](\d{6,}(?:|:\d{1,2}))(?:$|\D)/.test(e.href)||/set=[^&?/]*a\.(\d{6,}(?:|:\d{1,2}))/.test(e.search))&&/^(\d+:?\d{0,2})$/.test(RegExp.$1)?RegExp.$1.replace(/:.*/,""):null}async function P(e,n){try{return L(e,n).then((function(i){return i=i&&"0"!==i?i.replace(/:.*/,""):"no-ID",(RegExp(`(^|\\D)${i}(\\D|$)`).test(decodeURIComponent(location.href))||e.is(t))&&X.publish("post/permalink",{$post:e,id:n,sfx_id:i,actor:"post processor"}),X.publish("log/postdata",{id:n,message:"get_post_id="+i}),i}))}catch(t){return X.publish("log/postdata",{id:n,message:"get_post_id failed: "+t.toString()}),"no-ID"}}e.pose({extract_post_id_from_url:D,get_post_id:P,found_ids:E})})),X.ready("regex_tester",(function(){X.subscribe("test/regex",(function(t,e){var n=e.text||"",o=e.modifier||"",s=FX.oneLineLtrim(`\n        <div draggable="false">Mozilla Developer Network: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank">Regular Expressions Documentation</a></div>\n        <div draggable="false" class="sfx_label_value">\n            <div>Expression: </div>\n            <div><input id="sfx_regex_tester_expression" class="sfx_input" size="25" value="${n}"></div>\n        </div>\n        <div draggable="false" class="sfx_label_value">\n            <div>Modifiers: </div>\n            <div><input id="sfx_regex_tester_modifier" class="sfx_input" size="5" value="${o}"> [ g i m ]</div>\n        </div>\n        <div draggable="false"><b>Test String:</b><br>\n            <textarea id="sfx_regex_tester_string" style="width:250px;height:75px;"></textarea>\n        </div>\n        <div draggable="false">\n            <input type="button" class="sfx_button" value="Test" onclick="document.getElementById('sfx_regex_tester_results').innerHTML=document.getElementById('sfx_regex_tester_string').value.replace(new RegExp('('+document.getElementById('sfx_regex_tester_expression').value+')',document.getElementById('sfx_regex_tester_modifier').value),'<span style=&quot;background-color:cyan;font-weight:bold;&quot;>$1</span>');">        \n        </div>\n        <div draggable="false">\n            <div><b>Results:</b></div>\n            <div id="sfx_regex_tester_results" style="white-space:pre;"></div>\n        </div>\n\n    `);i(s,{position:"top_right",title:"Regular Expression Tester",close:!0})}))})),X.ready("sfx_collision",(function(){performance&&performance.timing&&performance.timing.domLoading&&X.now()-performance.timing.domLoading>10*X.seconds||X.when(e.badge_sel,(function(t){setTimeout((function(){var n,i,o=t.attr("old_buildstr");(t.attr("old_buildstr",null),/\(disabled\)$/i.test(o))||o&&"old"!=o&&o!=e.buildstr&&(n=o,alert(`WARNING: 2+ copies of Social Fixer are running!\n- ${e.buildstr}\n- ${n}\nFor best results, please run only one at a time!\n=> Back up settings: http://tiny.cc/sfx-saveprefs\n=> Remove extra copies: http://tiny.cc/sfx-only-1\n=> Help/Support: https://socialfixer.com/support${i?"\n"+i:""}`),X.support_note("sfx_collision",`Other: '${n}'`))}),8*X.seconds)}))})),FX.on_options_load((function(){X.storage.get("stats",{},(function(t){var e=X.today();e>(t.last_ping||0)&&(t.last_ping=e,X.ajax("https://SocialFixer.com/version.txt",(function(){X.storage.set("stats","last_ping",e)})))}),!0)})),FX.add_option("stay_on_page",{section:"Experiments",title:"Stay On Page",description:"Prevent the browser from leaving the current Facebook page when you click on a link",default:!1}),X.subscribe_backlog("context/ready",(function(){FX.on_options_load((function(){"messages"!=FX.context.type&&"settings"!=FX.context.id&&FX.option("stay_on_page")&&setTimeout((function(){X.inject((function(){window.requireLazy(["Run"],(function(t){t.onBeforeUnload((function(){return"Social Fixer: Stay On Page is protecting you from leaving this page before you intended to.  Choose whether you want to stay or leave."}),!1)}))}))}),1.5*X.seconds)}))}));const r=function(t,e,n){e="right"==e?"right":"left";var i=X(FX.oneLineLtrim(`\n        <div class="sfx_sticky_note sfx_sticky_note_${e}" style="visibility:hidden">\n            <div>${n}</div>\n            <div class="sfx_sticky_note_arrow_border"></div>\n            <div class="sfx_sticky_note_arrow"></div>\n        </div>\n    `)).appendTo(X(t).first());return i.css({marginTop:-i[0].offsetHeight/2+"px",visibility:"visible"})};X.ready("storage_check",(function(){X.task("storage_check",1*X.days,(function(){FX.on_options_load((function(){setTimeout((function(){var t=X.now(),n=null,o=function(t){n=!1;var o="";t&&(o="<br><br>Error: "+t);const s=`<br><br>${e.user_agent}<br>Social Fixer ${e.buildstr}`;i("Social Fixer may have trouble saving your settings. If your settings won't stick, please let us know. See 'Support' under Options for contact info."+o+s,{close:!0,title:"Extension Storage Warning",style:"width:300px;"}),X.support_note("storage_check",t)};setTimeout((function(){null===n&&o("Timeout waiting for storage response")}),8*X.seconds);try{X.storage.set("storage_check","storage_checked_on",t,(function(){try{X.storage.get("storage_check",null,(function(e){if(!e||!e.storage_checked_on||Math.abs(t-e.storage_checked_on)>60*X.seconds){var i=null;return e?e.storage_checked_on?Math.abs(t-e.storage_checked_on)>60*X.seconds&&(i="stats.storage_checked_on = "+Math.abs(t-e.storage_checked_on)):i="stats.storage_checked_on doesn't exist":i="No stats",o(i)}n=!0}),!1)}catch(t){o(t)}}))}catch(t){o(t)}}),1e3)}))}))}));const a=function(t){return Object.values(t||[]).some((t=>X.isObject(t)&&!!t.id))},l=function(t,e){var n={};Object.values(e||[]).forEach((t=>X.isObject(t)&&t.id&&(n[t.id]=!0))),Object.values(t||[]).forEach((t=>X.isObject(t)&&(t.subscribed=!!n[t.id])))},c=function(t,e,n){"string"==typeof t&&(t=[t,t,t]);const[i,o,s]=t;X.ajax(`https://matt-kruse.github.io/socialfixerdata/${i}.json`,(function(t){t&&t[o]&&t[o].length>0&&l(t[o],e),n&&n(t&&t[o]?t[o]:null)}))},d=function(t,n,i,o){c(t,n,(function(s){if(!a(n))return i?i(s,!1):null;"string"==typeof t&&(t=[t,t,t]);const[r,l,c]=t;var d=r!=r,u={};for(var f of Object.keys(n)){var p=n[f];X.isObject(p)&&p.id&&(u[p.id]=p)}Object.values(s||[]).forEach((function(t){if(X.isObject(t)){var n=u[t.id];if(n){"function"==typeof o&&(o(t),o(n));var i,s=!1;for(i in t)"subscribed"!=i&&"enabled"!=i&&("filters"==l&&"actions"==i&&t.configurable_actions&&n.custom_actions||"filters"==l&&"stop_on_match"==i||e.data_equals(n[i],t[i])||(n[i]=t[i],s=!0));s&&(n.subscription_last_updated_on=X.now(),d=!0)}}})),d&&X.storage.save(c,X.clone(n)),i&&i(s,d)}))};e.pose({update_subscribed_items:d}),X.ready("unread_filtered_messages",(function(){const t="unread_filtered_messages",n="Check For Filtered Chat";FX.add_option("check_unread_filtered_messages",{title:n,description:"Facebook Messenger does not alert you about chat messages from outside your network. Although mostly spam, there can be hidden gems. This feature alerts you about unread filtered chat messages.",default:!0}),FX.on_option("check_unread_filtered_messages",(function(){X.subscribe("unread_filtered_messages/visit",(function(){const t=(e,n=0)=>e[n]&&X.when(e[n].selector,(i=>(t(e,n+1),e[n].action(i))),.1*X.seconds,50),e=t=>t.first().click();t([{selector:"[role=banner] [role=navigation] [role=button] ~ [aria-hidden=true]",action:e},{selector:"[role=dialog] [role=grid] [role=button].S2F_bg_trans:not(.S2F_bb_dark)",action:e},{selector:"div[role=menuitem]:not([aria-haspopup])",action:e},{selector:"[role=tab] ~ div[role=tab][aria-selected=false]",action:e}])})),X.subscribe_backlog("fb_dtsg/ready",(function(i,o){const s=`https://mbasic.facebook.com/messages/?folder=other&fb_dtsg=${o.fb_dtsg}`,r=[{ajax_func:e.ajax_cor,name:"background script ajax"},{ajax_func:X.ajax,name:"content script ajax"}];e.pose({unread_messages_data:r});let a="starting up";const l=X.logger(t),c=e=>(l(e),X.support_note(t,e),a=e),d=(t,e="You have unread filtered chat")=>X.publish("menu/add",{section:"actions",item:{html:`<span id="sfx_unread_jewel_count"></span><span>${e}</span>`,message:"unread_filtered_messages/visit",tooltip:t}}),u=function(t){const i=r[t];var o=0,l=!1;i.ajax_func&&i.ajax_func(s,(function(f){if(i.url=s,i.result=f,"string"!=typeof f)c(`${i.name}: non-string result ('${typeof f}')`);else if(f.length<100)c(`${i.name}: short result: '${f}'`);else if(/<span/i.test(f))if(/href.{1,40}messages\/\?folder/i.test(f)){var p=f.match(/\.([a-zA-Z0-9_]+)\s*{[^}]*font-weight[^:]*:{?[^};]*bold\s*;\s*{?}/);if(p&&p.length>1){var h=p[1];(p=f.match(RegExp(`<h3[^>]*class=.[^'"]*\\b${h}\\b`,"g")))&&(o=p.length),l=!0,c(`succeeded by strategy '${i.name} direct parsing'`)}else{c(`${i.name}: class:bold CSS not found`);try{const t=X(`<div>${f}</div>`);X("body").append(t),t.find('h3 > a[href^="/messages"]').forEach((t=>/[6-9]\d\d|[1-9]\d{3,}|bold/i.test(getComputedStyle(t).fontWeight)&&o++)),t.remove(),l=!0,c(`succeeded by strategy '${i.name} DOM injection'`)}catch(t){c(`${i.name}: DOM injection failed: '${t}'`)}}}else c(`${i.name}: result does not look like messages site`);else c(`${i.name}: result does not look like HTML`);if(o&&(d(`Facebook Messenger does not alert you about chat messages from outside your network, so Social Fixer does! To turn this off: wrench > Options > ${n}`),X.publish("notify/set",{target:`.${e.instance} [id=sfx_unread_jewel_count]`,parent_target:e.badge_sel,count:o})),!l&&r[++t])return u(t);l||r[t]||(d(`Click to check (automated check failed: ${a})`,n),console.log("SFx: unread_messages failed, debug data follows",{unread_messages_data:r}))}))};u(0)}))}))}));var run_modules=function(){X.ready(),FX.css_dump(),FX.fire_content_loaded()};if(!prevent_running){!1!==X.beforeReady()&&run_modules();var bootstrap=function(){X.storage.get(["options","filters","tweaks","hiddens","postdata","friends","stats","tasks","messages"],[{},[],[],{},{},{},{},{},{}],(function(t,e){e?(console.log("Social Fixer Preferences could not be loaded from storage."),console.log(e)):!1!==X.beforeReady(t)&&(run_modules(),FX.options_loaded(t))}))};X.userid=X.cookie.get("c_user")||"anonymous",X.storage.prefix=X.userid,bootstrap()}}catch(t){console.log(t)}